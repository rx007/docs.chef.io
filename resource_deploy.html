<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    
    <title>deploy &mdash; Chef Docs</title>
    <link rel="stylesheet" href="_static/chefv2.css" type="text/css" />
<link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
    URL_ROOT:    './',
    VERSION:     '',
    COLLAPSE_INDEX: false,
    FILE_SUFFIX: '.html',
    HAS_SOURCE:  true
  };
</script>
<script type="text/javascript" src="_static/jquery.js"></script>
<script type="text/javascript" src="_static/underscore.js"></script>
<script type="text/javascript" src="_static/doctools.js"></script>
<script type="text/javascript" src="_static/script.js"></script>

    <link rel="top" title="Chef Docs" href="index.html" />
    <link rel="next" title="directory" href="resource_directory.html" />
    <link rel="prev" title="csh" href="resource_csh.html" /> 
  </head>
  <body role="document">
    <div class="body-wrap">

  <nav class="nav-main" role="navigation" data-topbar>
    <div class="nav-inner">
      <div class="left">
        <h1>
          <a href="https://learn.chef.io">
            <span>Learn Chef</span>
          </a>
        </h1>
      </div>

      <i id="nav-icon" class="fa fa-bars"></i>
      <a href="https://www.chef.io/">
        <img id="logo" src="_static/chef_logo_v2.svg" onerror="_static/chef_logo_v2.png"/>
      </a>

      <ul class="nav-links links-main">
        <li class="nav-link">
          <a href="https://learn.chef.io/tutorials">Tutorials</a>
        </li>
        <li class="nav-link">
          <a href="https://learn.chef.io/skills/">Skills Library</a>
        </li>
        <li class="nav-link is-active">
          <a href="https://docs.chef.io/">Docs</a>
        </li>
        <li class="nav-link">
          <a href="https://www.chef.io/training/">Training</a>
        </li>
      </ul>
    </div>
  </nav>





    <div class="document chef-docs">
    <nav class="nav-docs">
  <ul class="nav-docs-items" id="nav-docs-list">
    <li class="main-item dark-item docs-search">
      <form action="/search.html" method="get">
        <input type="text" placeholder="Search" id="docs-search" name="q">
        <input type="submit" class="submit-button" value="">
        <i class="fa fa-search icon-search"></i>
      </form>
   

    </li>
    
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Overview"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-home icon-left"></i> Overview <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items"> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/platform_overview.html" title="Platform Overview">
            Platform Overview
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Community">
            Community
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/community.html" title="About the Community">
                About the Community
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/community_contributions.html" title="Contributing">
                Contributing
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/community_guidelines.html" title="Guidelines">
                Guidelines
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/style_guide.html" title="Docs Style Guide">
                Docs Style Guide
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Packages &amp; Platforms">
            Packages &amp; Platforms
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/packages.html" title="Packages">
                Packages
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/platforms.html" title="Platforms">
                Platforms
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_omnitruck.html" title="Omnitruck API">
                Omnitruck API
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_license.html" title="Licensing">
                Licensing
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Chef"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-tasks icon-left"></i> Chef <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items">

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Getting Started">
            Getting Started
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_overview.html" title="Chef Overview">
                Chef Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/quick_start.html" title="Quick Start">
                Quick Start
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_system_requirements.html" title="System Requirements">
                System Requirements
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Release Notes">
                Release Notes
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/release_notes.html" title="Chef Client">
                    Chef Client
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/release_notes_chefdk.html" title="Chef Development Kit">
                    Chef Development Kit
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/release_notes_server.html" title="Chef Server">
                    Chef Server
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/release_notes_push_jobs.html" title="Chef Push Jobs">
                    Chef Push Jobs
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/release_notes_ohai.html" title="Ohai">
                    Ohai
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_deprecations_client.html" title="Deprecations">
                Deprecations
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Tutorials">
            Tutorials
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/learn-the-basics/" title="Learn the Basics">
                Learn the Basics
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/manage-a-node/" title="Manage a Node">
                Manage a Node
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/local-development/" title="Get started with Test Kitchen">
                Get started with Test Kitchen
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/manage-a-web-app/" title="Develop a web app cookbook">
                Develop a web app cookbook
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/inspec/" title="Verify with InSpec">
                Verify with InSpec
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/chefspec/" title="Unit test with ChefSpec">
                Unit test with ChefSpec
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/verify-style/" title="Verify code style">
                Verify code style
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/refactor-web-app-cookbook/" title="Refactor the web app cookbook">
                Refactor the web app cookbook
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Concepts">
            Concepts
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/workstation.html" title="Workstation">
                Workstation
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_repo.html" title="chef-repo">
                chef-repo
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/nodes.html" title="Nodes">
                Nodes
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_client.html" title="chef-client">
                chef-client
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_components.html" title="Server">
                Server
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_search.html" title="Search">
                Search
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/cookbooks.html" title="Cookbooks">
                Cookbooks
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/handlers.html" title="Handlers">
                Handlers
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/manage.html" title="Management Console">
                Management Console
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Policy">
                Policy
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/policy.html" title="About Policy">
                    About Policy
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/data_bags.html" title="Data Bags">
                    Data Bags
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/environments.html" title="Environments">
                    Environments
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/roles.html" title="Roles">
                    Roles
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/push_jobs.html" title="Push Jobs">
                Push Jobs
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/run_lists.html" title="Run-lists">
                Run-lists
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Security">
                Security
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/auth.html#authentication" title="Authentication">
                    Authentication
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/auth.html#authorization" title="Authorization">
                    Authorization
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/chef_private_keys.html" title="Private Keys">
                    Private Keys
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef_client.html#run-in-fips-mode" title="FIPS-mode">
                    FIPS-mode
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Supermarket">
                Supermarket
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/supermarket.html#public-supermarket" title="Public Supermarket">
                    Public Supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/supermarket.html#private-supermarket" title="Private Supermarket">
                    Private Supermarket
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/windows.html" title="Microsoft Windows">
                Microsoft Windows
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Appendix">
                Appendix
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/environment_variables.html" title="Env Variables">
                    Env Variables
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/errors.html" title="Troubleshooting">
                    Troubleshooting
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/glossary.html" title="Glossary">
                    Glossary
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Setup">
            Setup
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/proxies.html" title="Proxies">
                Proxies
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_dk.html" title="Workstation">
                Workstation
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Nodes">
                Nodes
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/install_bootstrap.html" title="Install via Bootstrap">
                    Install via Bootstrap
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_omnibus.html" title="Install via URL">
                    Install via URL
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_windows.html" title="Install on Windows">
                    Install on Windows
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/junos.html" title="Install on Junos OS">
                    Install on Junos OS
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef_client.html" title="chef-client (executable)">
                    chef-client (executable)
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_client.html" title="client.rb">
                    client.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/upgrade_client.html" title="Upgrades">
                    Upgrades
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/chef_client_security.html" title="Security">
                    Security
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Server">
                Server
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="https://manage.chef.io/signup" title="Hosted Chef Server">
                    Hosted Chef Server
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_server.html#standalone" title="Install Standalone">
                    Install Standalone
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_server_ha.html" title="Install High Availability">
                    Install High Availability
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/aws_marketplace.html" title="AWS Marketplace">
                    AWS Marketplace
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/azure_portal.html" title="Microsoft Azure">
                    Microsoft Azure
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/openstack.html" title="Openstack">
                    Openstack
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Supermarket">
                Supermarket
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="https://supermarket.chef.io" title="Public Supermarket">
                    Public Supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_supermarket.html" title="Install Private Supermarket">
                    Install Private Supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_supermarket.html#customize-supermarket" title="Customize Supermarket">
                    Customize Supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_supermarket.html#run-supermarket-in-kitchen" title="Run in Test Kitchen">
                    Run in Test Kitchen
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_server.html#install" title="Management Console">
                Management Console
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_push_jobs.html" title="Push Jobs">
                Push Jobs
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Integrations">
                Integrations
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/integrate_compliance_chef_server.html" title="w/Chef Compliance">
                    w/Chef Compliance
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/uninstall.html" title="Uninstall">
                Uninstall
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Cookbook Reference">
            Cookbook Reference
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/cookbooks.html" title="About Cookbooks">
                About Cookbooks
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/attributes.html" title="Attributes">
                Attributes
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/definitions.html" title="Definitions">
                Definitions
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/files.html" title="Files">
                Files
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/libraries.html" title="Libraries">
                Libraries
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Recipes">
                Recipes
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/recipes.html" title="About Recipes">
                    About Recipes
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/debug.html" title="Debug Recipes, Client Runs">
                    Debug Recipes, Client Runs
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Recipe DSL">
                Recipe DSL
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#attribute" title="attribute?">
                    attribute?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#control" title="control">
                    control
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#control-group" title="control_group">
                    control_group
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#cookbook-name" title="cookbook_name">
                    cookbook_name
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#data-bag" title="data_bag">
                    data_bag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#data-bag-item" title="data_bag_item">
                    data_bag_item
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#platform" title="platform?">
                    platform?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#platform-family" title="platform_family?">
                    platform_family?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#reboot-pending" title="reboot_pending?">
                    reboot_pending?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#recipe-name" title="recipe_name">
                    recipe_name
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-data-exists" title="registry_data_exists?">
                    registry_data_exists?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-get-subkeys" title="registry_get_subkeys">
                    registry_get_subkeys
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-get-values" title="registry_get_values">
                    registry_get_values
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-has-subkeys" title="registry_has_subkeys?">
                    registry_has_subkeys?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-key-exists" title="registry_key_exists?">
                    registry_key_exists?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-value-exists" title="registry_value_exists?">
                    registry_value_exists?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#resources" title="resources">
                    resources
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#search" title="search">
                    search
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#shell-out" title="shell_out">
                    shell_out
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#shell-out-bang" title="shell_out!">
                    shell_out!
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#shell-out-with-systems-locale" title="shell_out_with_systems_locale">
                    shell_out_with_systems_locale
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#tag-tagged-untag" title="tag">
                    tag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#tag-tagged-untag" title="tagged?">
                    tagged?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#tag-tagged-untag" title="untag">
                    untag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#value-for-platform" title="value_for_platform">
                    value_for_platform
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#value-for-platform-family" title="value_for_platform_family">
                    value_for_platform_family
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#helpers" title="Windows Platform Helpers">
                    Windows Platform Helpers
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Resources">
                Resources
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/resource.html" title="About Resources">
                    About Resources
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_common.html" title="Common Functionality">
                    Common Functionality
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/custom_resources.html" title="Custom Resources">
                    Custom Resources
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resources.html" title="All Resources (Single Page)">
                    All Resources (Single Page)
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_apt_package.html" title="apt_package">
                    apt_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_apt_repository.html" title="apt_repository">
                    apt_repository
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_apt_update.html" title="apt_update">
                    apt_update
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_bash.html" title="bash">
                    bash
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_batch.html" title="batch">
                    batch
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_bff_package.html" title="bff_package">
                    bff_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_breakpoint.html" title="breakpoint">
                    breakpoint
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_cab_package.html" title="cab_package">
                    cab_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_gem.html" title="chef_gem">
                    chef_gem
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_acl.html" title="chef_acl">
                    chef_acl
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_client.html" title="chef_client">
                    chef_client
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_container.html" title="chef_container">
                    chef_container
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_data_bag_item.html" title="chef_data_bag_item">
                    chef_data_bag_item
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_data_bag.html" title="chef_data_bag">
                    chef_data_bag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_environment.html" title="chef_environment">
                    chef_environment
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_group.html" title="chef_group">
                    chef_group
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_handler.html" title="chef_handler">
                    chef_handler
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_mirror.html" title="chef_mirror">
                    chef_mirror
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_node.html" title="chef_node">
                    chef_node
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_organization.html" title="chef_organization">
                    chef_organization
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_role.html" title="chef_role">
                    chef_role
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_user.html" title="chef_user">
                    chef_user
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chocolatey_package.html" title="chocolatey_package">
                    chocolatey_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_cookbook_file.html" title="cookbook_file">
                    cookbook_file
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_cron.html" title="cron">
                    cron
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_csh.html" title="csh">
                    csh
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_deploy.html" title="deploy">
                    deploy
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_directory.html" title="directory">
                    directory
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_dpkg_package.html" title="dpkg_package">
                    dpkg_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_dsc_resource.html" title="dsc_resource">
                    dsc_resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_dsc_script.html" title="dsc_script">
                    dsc_script
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_easy_install_package.html" title="easy_install_package">
                    easy_install_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_env.html" title="env">
                    env
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_erlang_call.html" title="erl_call">
                    erl_call
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_execute.html" title="execute">
                    execute
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_file.html" title="file">
                    file
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_freebsd_package.html" title="freebsd_package">
                    freebsd_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_gem_package.html" title="gem_package">
                    gem_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_git.html" title="git">
                    git
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_group.html" title="group">
                    group
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_homebrew_package.html" title="homebrew_package">
                    homebrew_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_http_request.html" title="http_request">
                    http_request
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ifconfig.html" title="ifconfig">
                    ifconfig
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ips_package.html" title="ips_package">
                    ips_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ksh.html" title="ksh">
                    ksh
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_launchd.html" title="launchd">
                    launchd
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_link.html" title="link">
                    link
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_log.html" title="log">
                    log
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_macports_package.html" title="macports_package">
                    macports_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_mdadm.html" title="mdadm">
                    mdadm
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_mount.html" title="mount">
                    mount
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_msu_package.html" title="msu_package">
                    msu_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ohai.html" title="ohai">
                    ohai
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_openbsd_package.html" title="openbsd_package">
                    openbsd_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_osx_profile.html" title="osx_profile">
                    osx_profile
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_package.html" title="package">
                    package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_pacman_package.html" title="pacman_package">
                    pacman_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_paludis_package.html" title="paludis_package">
                    paludis_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_perl.html" title="perl">
                    perl
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_portage_package.html" title="portage_package">
                    portage_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_powershell_script.html" title="powershell_script">
                    powershell_script
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_private_key.html" title="private_key">
                    private_key
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_public_key.html" title="public_key">
                    public_key
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_python.html" title="python">
                    python
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_reboot.html" title="reboot">
                    reboot
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_registry_key.html" title="registry_key">
                    registry_key
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_remote_directory.html" title="remote_directory">
                    remote_directory
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_remote_file.html" title="remote_file">
                    remote_file
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_route.html" title="route">
                    route
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_rpm_package.html" title="rpm_package">
                    rpm_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ruby.html" title="ruby">
                    ruby
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ruby_block.html" title="ruby_block">
                    ruby_block
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_script.html" title="script">
                    script
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_service.html" title="service">
                    service
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_smartos_package.html" title="smartos_package">
                    smartos_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_solaris_package.html" title="solaris_package">
                    solaris_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_subversion.html" title="subversion">
                    subversion
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_systemd_unit.html" title="systemd_unit">
                    systemd_unit
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_template.html" title="template">
                    template
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_user.html" title="user">
                    user
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_windows_package.html" title="windows_package">
                    windows_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_windows_service.html" title="windows_service">
                    windows_service
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_yum.html" title="yum_package">
                    yum_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_yum_repository.html" title="yum_repository">
                    yum_repository
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_examples.html" title="Examples (by Resource)">
                    Examples (by Resource)
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/templates.html" title="Templates">
                Templates
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/cookbook_repo.html" title="Cookbook Repo">
                Cookbook Repo
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_metadata.html" title="metadata.rb">
                metadata.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/cookbook_versions.html" title="Cookbook Versions">
                Cookbook Versions
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ruby.html" title="Ruby">
                Ruby
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Chef DK">
            Chef DK
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/about_chefdk.html" title="About the ChefDK">
                About the ChefDK
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/berkshelf.html" title="Berkshelf">
                Berkshelf
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_apply.html" title="chef-apply (executable)">
                chef-apply (executable)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_shell.html" title="chef-shell (executable)">
                chef-shell (executable)
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="chef (executable)">
                chef (executable)
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-env" title="chef env">
                    chef env
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-exec" title="chef exec">
                    chef exec
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-gem" title="chef gem">
                    chef gem
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-app" title="chef generate app">
                    chef generate app
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-attribute" title="chef generate attribute">
                    chef generate attribute
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-cookbook" title="chef generate cookbook">
                    chef generate cookbook
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-file" title="chef generate file">
                    chef generate file
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-lwrp" title="chef generate lwrp">
                    chef generate lwrp
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-recipe" title="chef generate recipe">
                    chef generate recipe
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-repo" title="chef generate repo">
                    chef generate repo
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-template" title="chef generate template">
                    chef generate template
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-provision" title="chef provision">
                    chef provision
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-shell-init" title="chef shell-init">
                    chef shell-init
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-verify" title="chef verify">
                    chef verify
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Chef Solo">
                Chef Solo
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/chef_solo.html" title="About Chef Solo">
                    About Chef Solo
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef_solo.html" title="chef-solo (executable)">
                    chef-solo (executable)
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_solo.html" title="solo.rb">
                    solo.rb
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_shell.html" title="chef-shell (executable)">
                chef-shell (executable)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_client.html#run-in-local-mode" title="chef-zero (local mode)">
                chef-zero (local mode)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_vault.html" title="chef-vault">
                chef-vault
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chefspec.html" title="ChefSpec">
                ChefSpec
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Configuration">
                Configuration
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/config_rb.html" title="config.rb">
                    config.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_client.html#d-directories" title="Multiple Config Files">
                    Multiple Config Files
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/cookstyle.html" title="cookstyle">
                cookstyle
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_delivery.html" title="Delivery CLI">
                Delivery CLI
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/foodcritic.html" title="Foodcritic">
                Foodcritic
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Test Kitchen">
                Test Kitchen
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/kitchen.html" title="About Test Kitchen">
                    About Test Kitchen
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_kitchen.html" title="kitchen (executable)">
                    kitchen (executable)
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_yml_kitchen.html" title=".kitchen.yml">
                    .kitchen.yml
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_kitchen_vagrant.html" title="kitchen-vagrant">
                    kitchen-vagrant
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Knife">
                Knife
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/knife.html" title="About Knife">
                    About Knife
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_common_options.html" title="Common Options">
                    Common Options
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_using.html" title="Using Knife">
                    Using Knife
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_knife.html" title="knife.rb">
                    knife.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_bootstrap.html" title="knife bootstrap">
                    knife bootstrap
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_client.html" title="knife client">
                    knife client
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_configure.html" title="knife configure">
                    knife configure
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_cookbook.html" title="knife cookbook">
                    knife cookbook
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_cookbook_site.html" title="knife cookbook site">
                    knife cookbook site
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_data_bag.html" title="knife data bag">
                    knife data bag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_delete.html" title="knife delete">
                    knife delete
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_deps.html" title="knife deps">
                    knife deps
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_diff.html" title="knife diff">
                    knife diff
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_download.html" title="knife download">
                    knife download
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_edit.html" title="knife edit">
                    knife edit
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_environment.html" title="knife environment">
                    knife environment
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_exec.html" title="knife exec">
                    knife exec
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_list.html" title="knife list">
                    knife list
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_node.html" title="knife node">
                    knife node
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_raw.html" title="knife raw">
                    knife raw
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_recipe_list.html" title="knife recipe list">
                    knife recipe list
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_role.html" title="knife role">
                    knife role
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_search.html" title="knife search">
                    knife search
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_serve.html" title="knife serve">
                    knife serve
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_show.html" title="knife show">
                    knife show
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_ssh.html" title="knife ssh">
                    knife ssh
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_ssl_check.html" title="knife ssl_check">
                    knife ssl_check
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_ssl_fetch.html" title="knife ssl_fetch">
                    knife ssl_fetch
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_status.html" title="knife status">
                    knife status
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_tag.html" title="knife tag">
                    knife tag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_upload.html" title="knife upload">
                    knife upload
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_user.html" title="knife user">
                    knife user
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_xargs.html" title="knife xargs">
                    knife xargs
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="knife opc">
                knife opc
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html" title="About knife opc">
                    About knife opc
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#knife-rb-configuration" title="knife.rb Configuration">
                    knife.rb Configuration
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-list" title="opc user list">
                    opc user list
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-show" title="opc user show">
                    opc user show
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-create" title="opc user create">
                    opc user create
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-delete" title="opc user delete">
                    opc user delete
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-edit" title="opc user edit">
                    opc user edit
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-password" title="opc user password">
                    opc user password
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-list" title="opc org list">
                    opc org list
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-show" title="opc org show">
                    opc org show
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-create" title="opc org create">
                    opc org create
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-delete" title="opc org delete">
                    opc org delete
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-user-add" title="opc org user add">
                    opc org user add
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-user-remove" title="opc org user remove">
                    opc org user remove
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_knife_spork.html" title="knife spork">
                knife spork
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="knife supermarket">
                knife supermarket
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html" title="About knife supermarket">
                    About knife supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#download" title="supermarket download">
                    supermarket download
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#install" title="supermarket install">
                    supermarket install
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#list" title="supermarket list">
                    supermarket list
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#search" title="supermarket search">
                    supermarket search
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#share" title="supermarket share">
                    supermarket share
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#show" title="supermarket show">
                    supermarket show
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#unshare" title="supermarket unshare">
                    supermarket unshare
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Ohai">
                Ohai
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/ohai.html" title="About Ohai">
                    About Ohai
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_ohai.html" title="ohai (executable)">
                    ohai (executable)
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Policyfile">
                Policyfile
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/policyfile.html" title="About Policyfile">
                    About Policyfile
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_policyfile.html" title="Policyfile.rb">
                    Policyfile.rb
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Provisioning">
                Provisioning
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/provisioning.html" title="About Provisioning">
                    About Provisioning
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_load_balancer.html" title="load_balancer resource">
                    load_balancer resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_machine.html" title="machine resource">
                    machine resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_machine_batch.html" title="machine_batch resource">
                    machine_batch resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_machine_execute.html" title="machine_execute resource">
                    machine_execute resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_machine_file.html" title="machine_file resource">
                    machine_file resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_machine_image.html" title="machine_image resource">
                    machine_image resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/provisioning_aws.html" title="AWS Driver Resources">
                    AWS Driver Resources
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/provisioning_fog.html" title="Fog Driver Resources">
                    Fog Driver Resources
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/provisioning_vagrant.html" title="Vagrant Driver Resources">
                    Vagrant Driver Resources
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_push_jobs_client.html" title="push-jobs-client (executable)">
                push-jobs-client (executable)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/rubocop.html" title="Rubocop">
                Rubocop
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Managing the Server">
            Managing the Server
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/runbook.html" title="Runbook (Single Page)">
                Runbook (Single Page)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_backup_restore.html" title="Backup &amp; Restore">
                Backup &amp; Restore
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_data.html" title="Data Storage">
                Data Storage
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_firewalls_and_ports.html" title="Firewalls &amp; Ports">
                Firewalls &amp; Ports
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_ldap.html" title="Active Directory &amp; LDAP">
                Active Directory &amp; LDAP
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_logs.html" title="Log Files">
                Log Files
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_monitor.html" title="Monitor">
                Monitor
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_orgs.html" title="Organizations &amp; Groups">
                Organizations &amp; Groups
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/secrets.html" title="Secrets">
                Secrets
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_security.html" title="Security">
                Security
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_services.html" title="Services">
                Services
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_tuning.html" title="Tuning">
                Tuning
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/upgrade_server.html" title="Upgrades">
                Upgrades
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/upgrade_server_ha_v2.html" title="Upgrade HA Cluster">
                Upgrade HA Cluster
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_users.html" title="Users">
                Users
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_server.html" title="chef-server-ctl">
                chef-server-ctl
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_backend.html" title="chef-backend-ctl">
                chef-backend-ctl
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_server.html" title="chef-server.rb">
                chef-server.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_opscode_expander.html" title="opscode-expander-ctl">
                opscode-expander-ctl
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_chef_server.html" title="Chef Server API">
                Chef Server API
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Push Jobs">
                Push Jobs
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_push_jobs.html" title="knife push jobs">
                    knife push jobs
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_push_jobs_client.html" title="push-jobs-client">
                    push-jobs-client
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_push_jobs_client.html" title="push-jobs-client.rb">
                    push-jobs-client.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_push_jobs_server.html" title="push-jobs-server.rb">
                    push-jobs-server.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/api_push_jobs.html" title="Push Jobs API">
                    Push Jobs API
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_sent_events.html" title="Server Sent Events">
                    Server Sent Events
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Supermarket">
                Supermarket
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/supermarket_logs.html" title="Log Files">
                    Log Files
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/supermarket_monitor.html" title="Monitoring">
                    Monitoring
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_supermarket.html" title="supermarket.rb">
                    supermarket.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html" title="knife supermarket">
                    knife supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_supermarket.html" title="supermarket-ctl">
                    supermarket-ctl
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/supermarket_api.html" title="Supermarket API">
                    Supermarket API
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Management Console">
                Management Console
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/server_configure_saml.html" title="Configure SAML">
                    Configure SAML
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_clients.html" title="Clients">
                    Clients
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_cookbooks.html" title="Cookbooks">
                    Cookbooks
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_data_bags.html" title="Data Bags">
                    Data Bags
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_environments.html" title="Environments">
                    Environments
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_nodes.html" title="Nodes">
                    Nodes
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_roles.html" title="Roles">
                    Roles
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_users.html#chef-manage" title="Users">
                    Users
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_manage.html" title="manage.rb">
                    manage.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_manage.html" title="chef-manage-ctl">
                    chef-manage-ctl
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Habitat"> <!-- if item has custom image -->

        <img class="icon-left" src="./_static/habitat-mark.png"></img> Habitat <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items"> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/habitat.html" title="Habitat Overview">
            Habitat Overview
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Tutorials">
            Tutorials
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://www.habitat.sh/tutorials/getting-started-overview" title="Getting started">
                Getting started
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="InSpec"> <!-- if item has custom image -->

        <img class="icon-left" src="./_static/inspec_logo.png"></img> InSpec <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items"> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/inspec.html" title="InSpec Overview">
            InSpec Overview
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Chef Automate"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-cogs icon-left"></i> Chef Automate <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items">

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Getting Started">
            Getting Started
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_automate.html" title="Chef Automate Overview">
                Chef Automate Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_chef_automate.html" title="Installation Guide">
                Installation Guide
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Tutorials">
            Tutorials
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/automate/install" title="Get Started">
                Get Started
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/automate/visibility" title="Visibility into Infrastructure">
                Visibility into Infrastructure
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/automate/deploy-cookbook/" title="Deploy with Chef Automate">
                Deploy with Chef Automate
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/compliance-assess" title="Assess for Compliance">
                Assess for Compliance
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/compliance-remediate" title="Remediate Compliance Failures">
                Remediate Compliance Failures
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Setup">
            Setup
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_pipeline.html" title="Configure a Pipeline">
                Configure a Pipeline
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_json_delivery.html" title="Configure a Project">
                Configure a Project
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/setup_visibility_chef_automate.html" title="Configure Data Collection">
                Configure Data Collection
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Concepts">
            Concepts
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2">

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Workflow">
                Workflow
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/workflow.html" title="Workflow Overview">
                    Workflow Overview
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/delivery_manage_dependencies.html" title="Manage Dependencies">
                    Manage Dependencies
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/visibility.html" title="Visibility Overview">
                Visibility Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/compliance.html" title="Compliance Overview">
                Compliance Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/ctl_delivery.html" title="Delivery CLI">
            Delivery CLI
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Integrations">
            Integrations
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_delivery_bitbucket.html" title="w/Bitbucket">
                w/Bitbucket
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_delivery_smtp.html" title="w/Email (SMTP)">
                w/Email (SMTP)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_delivery_github.html" title="w/GitHub">
                w/GitHub
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_delivery_ldap.html" title="w/LDAP">
                w/LDAP
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_chef_automate_saml.html" title="w/SAML">
                w/SAML
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_delivery_slack.html" title="w/Slack">
                w/Slack
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Cookbooks">
            Cookbooks
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_build_cookbook.html" title="build-cookbook (cookbook)">
                build-cookbook (cookbook)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_truck.html" title="delivery-truck (cookbook)">
                delivery-truck (cookbook)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/publish_cookbooks_multiple_servers.html" title="Publish to Multiple Chef Servers">
                Publish to Multiple Chef Servers
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/dsl_delivery.html" title="Workflow DSL">
            Workflow DSL
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/job_dispatch.html" title="Job Dispatch">
            Job Dispatch
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Managing the Server">
            Managing the Server
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2">

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Backups">
                Backups
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/delivery_server_backup.html#configuration" title="Configuration">
                    Configuration
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/delivery_server_backup.html#create-backups" title="Create Backups">
                    Create Backups
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/delivery_server_backup.html#list-backups" title="List Backups">
                    List Backups
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/delivery_server_backup.html#delete-backups" title="Delete Backups">
                    Delete Backups
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/delivery_server_backup.html#restore-backups" title="Restore Backups">
                    Restore Backups
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/scaling_capacity_planning_chef_automate.html" title="Capacity Planning">
                Capacity Planning
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_delivery.html" title="Chef Automate API">
                Chef Automate API
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="automate-ctl">
                automate-ctl
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#cleanse" title="cleanse">
                    cleanse
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#create-enterprise" title="create-enterprise">
                    create-enterprise
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#create-user" title="create-user">
                    create-user
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-application" title="delete-application">
                    delete-application
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-enterprise" title="delete-enterprise">
                    delete-enterprise
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-project" title="delete-project">
                    delete-project
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-user" title="delete-user">
                    delete-user
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-visibility-node" title="delete-visibility-node">
                    delete-visibility-node
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-visibility-node-by-id" title="delete-visibility-node-by-id">
                    delete-visibility-node-by-id
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#gather-logs" title="gather-logs">
                    gather-logs
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#help" title="help">
                    help
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#install-runner" title="install-runner">
                    install-runner
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#list-applications" title="list-applications">
                    list-applications
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#list-enterprises" title="list-enterprises">
                    list-enterprises
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#list-users" title="list-users">
                    list-users
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#migrate-change-description" title="migrate-change-description">
                    migrate-change-description
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#migrate-patchset-diffs" title="migrate-patchset-diffs">
                    migrate-patchset-diffs
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#preflight-check" title="preflight-check">
                    preflight-check
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#reconfigure" title="reconfigure">
                    reconfigure
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#rename-enterprise" title="rename-enterprise">
                    rename-enterprise
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#reset-password" title="reset-password">
                    reset-password
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#restore-backup" title="restore-backup">
                    restore-backup
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#revoke-token" title="revoke-token">
                    revoke-token
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#show-config" title="show-config">
                    show-config
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#uninstall" title="uninstall">
                    uninstall
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#update-project-hooks" title="update-project-hooks">
                    update-project-hooks
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_delivery.html" title="delivery.rb">
                delivery.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_server_disaster_recovery.html" title="Disaster Recovery">
                Disaster Recovery
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/elasticsearch_and_kibana_auth.html" title="Elasticsearch &amp; Kibana Auth">
                Elasticsearch &amp; Kibana Auth
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/manage_indices_chef_automate.html" title="Manage Elasticsearch Indices">
                Manage Elasticsearch Indices
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/search_query_chef_automate.html" title="Node Search Reference">
                Node Search Reference
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_manage_secrets.html" title="Secrets">
                Secrets
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/stream_data_chef_automate.html" title="Stream Data">
                Stream Data
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_server_tuning.html" title="Tuning">
                Tuning
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/upgrade_chef_automate.html" title="Upgrades">
                Upgrades
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_users_and_roles.html" title="Users &amp; Roles">
                Users &amp; Roles
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Compliance scanner">
            Compliance scanner
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/compliance.html" title="Overview">
                Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/release_notes_compliance.html" title="Release Notes">
                Release Notes
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_compliance.html" title="Installation Guide">
                Installation Guide
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_compliance_chef_server.html" title="Integrate w/Chef Server">
                Integrate w/Chef Server
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_compliance_chef_automate.html" title="Integrate w/Chef Automate">
                Integrate w/Chef Automate
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/upgrade_compliance.html" title="Upgrade Compliance">
                Upgrade Compliance
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_compliance.html" title="chef-compliance.rb">
                chef-compliance.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_compliance.html" title="Chef Compliance API">
                Chef Compliance API
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/aws_opsworks_chef_automate.html" title="AWS OpsWorks for Chef Automate">
            AWS OpsWorks for Chef Automate
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/troubleshooting_chef_automate.html" title="Troubleshooting">
            Troubleshooting
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Legacy"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-hdd-o icon-left"></i> Legacy <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items">

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Analytics">
            Analytics
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics.html" title="Overview">
                Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/release_notes_analytics.html" title="Release Notes">
                Release Notes
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_analytics.html" title="Install Standalone">
                Install Standalone
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/actions.html" title="Web UI">
                Web UI
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics_webui_tasks.html" title="Management Console">
                Management Console
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics_nodes_view.html" title="Nodes View">
                Nodes View
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics.html#integrations" title="Integrations">
                Integrations
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics_splunk.html" title="Splunk">
                Splunk
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics_rules.html" title="Rules">
                Rules
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics_monitor.html" title="Monitor">
                Monitor
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/upgrade_analytics.html" title="Upgrades">
                Upgrades
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_client_analytics.html" title="Chef Client for Analytics">
                Chef Client for Analytics
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_analytics.html" title="opscode-analytics-ctl">
                opscode-analytics-ctl
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_analytics.html" title="opscode-analytics.rb">
                opscode-analytics.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_knife_analytics.html" title="knife-analytics">
                knife-analytics
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_analytics.html" title="Analytics API">
                Analytics API
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/dsl_recipe_analytics.html" title="Recipe DSL for Analytics">
                Recipe DSL for Analytics
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Reporting">
            Reporting
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/reporting.html" title="Overview">
                Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_reporting.html" title="Install Reporting">
                Install Reporting
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_manage_reports.html" title="View Reports">
                View Reports
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_knife_reporting.html" title="knife reporting">
                knife reporting
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_reporting.html" title="opscode-reporting-ctl">
                opscode-reporting-ctl
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_reporting.html" title="opscode-reporting.rb">
                opscode-reporting.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_reporting.html" title="Reporting API">
                Reporting API
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Extension APIs"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-clone icon-left"></i> Extension APIs <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items"> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/dsl_compliance.html" title="Compliance DSL">
            Compliance DSL
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Handlers">
            Handlers
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/handlers.html#custom-handlers" title="Custom Handlers">
                Custom Handlers
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/dsl_handler.html" title="Handler DSL">
                Handler DSL
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_community.html#handlers" title="Community Handlers">
                Community Handlers
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Knife Plugins">
            Knife Plugins
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_knife.html" title="About Cloud Plugins">
                About Cloud Plugins
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_knife_custom.html" title="Custom Plugins">
                Custom Plugins
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_community.html#knife" title="Community Plugins">
                Community Plugins
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Ohai Plugins">
            Ohai Plugins
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ohai_custom.html" title="Custom Plugins">
                Custom Plugins
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_community.html#ohai" title="Community Plugins">
                Community Plugins
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/plugin_community.html#chef-client" title="Chef Client Plugins">
            Chef Client Plugins
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li> <!-- /for item in navItems -->
    
    <li class="main-item dark-item">
      <a href="https://github.com/chef/chef-web-docs" title="Available on GitHub">
        <i class="fa fa-github icon-left"></i>
        Available on GitHub
      </a>
    </li>
    <li class="main-item dark-item">
      <a href="https://www.chef.io/chef/get-chef">
        <i class="fa fa-download icon-left"></i>
        Get Chef
      </a>
    </li>
    <li class="main-item dark-item">
      <a href="https://docs.chef.io/feedback.html">
        <i class="fa fa-commenting icon-left"></i>
        Send Feedback
      </a>
    </li>
    <li class="main-item dark-item">
      <a href="https://www.chef.io/support/">
        <i class="fa fa-support icon-left"></i>
        Support
      </a>
    </li>
    <li class="main-item dark-item">
      <a href="https://docs.chef.io/index.html">
        <i class="fa fa-map-o icon-left"></i>
        Site Map
      </a>
    </li>
    <li class="main-item dark-item">
      <a href="https://docs-archive.chef.io/">
        <i class="fa fa-archive icon-left"></i>
        Archive
      </a>
    </li>
  </ul>
</nav>
      <div class="documentwrapper"><div class="sphinxsidebar" role="navigation" aria-label="main navigation">
  <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">deploy</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#deploy-strategies">Deploy Strategies</a><ul>
<li><a class="reference internal" href="#deploy-phases">Deploy Phases</a><ul>
<li><a class="reference internal" href="#deploy-cache-file">Deploy Cache File</a></li>
</ul>
</li>
<li><a class="reference internal" href="#callbacks">Callbacks</a></li>
<li><a class="reference internal" href="#layout-modifiers">Layout Modifiers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#actions">Actions</a><ul>
<li><a class="reference internal" href="#naming-resources">Naming Resources</a></li>
</ul>
</li>
<li><a class="reference internal" href="#properties">Properties</a></li>
<li><a class="reference internal" href="#providers">Providers</a><ul>
<li><a class="reference internal" href="#deploy-branch">deploy_branch</a></li>
<li><a class="reference internal" href="#deploy-revision">deploy_revision</a></li>
<li><a class="reference internal" href="#timestamped-deploy">timestamped_deploy</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a></li>
</ul>
</li>
</ul>

  </div>
</div>
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="deploy">
<h1>deploy<a class="headerlink" href="#deploy" title="Permalink to this headline"></a></h1>
<p><a class="reference external" href="https://github.com/chef/chef-web-docs/blob/master/chef_master/source/resource_deploy.rst">[edit on GitHub]</a></p>
<p>Use the <strong>deploy</strong> resource to manage and control deployments. This is a popular resource, but is also complex, having the most properties, multiple providers, the added complexity of callbacks, plus four attributes that support layout modifications from within a recipe.</p>
<p>The <strong>deploy</strong> resource is modeled after Capistrano, a utility and framework for executing commands in parallel on multiple remote machines via SSH. The <strong>deploy</strong> resource is designed to behave in a way that is similar to the <tt class="docutils literal"><span class="pre">deploy</span></tt> and <tt class="docutils literal"><span class="pre">deploy:migration</span></tt> tasks in Capistrano.</p>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline"></a></h2>
<p>A <strong>deploy</strong> resource block manages and controls deployments:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy</span> <span class="s1">&#39;private_repo&#39;</span> <span class="k">do</span>
  <span class="n">repo</span> <span class="s1">&#39;git@github.com:acctname/private-repo.git&#39;</span>
  <span class="n">user</span> <span class="s1">&#39;ubuntu&#39;</span>
  <span class="n">deploy_to</span> <span class="s1">&#39;/tmp/private_code&#39;</span>
  <span class="n">ssh_wrapper</span> <span class="s1">&#39;/tmp/private_code/wrap-ssh4git.sh&#39;</span>
  <span class="n">action</span> <span class="ss">:deploy</span>
<span class="k">end</span>
</pre></div>
</div>
<p>For example, an application that is deployed to a folder named <tt class="docutils literal"><span class="pre">&quot;/path/to/application&quot;</span></tt>:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy_revision</span> <span class="s1">&#39;/path/to/application&#39;</span> <span class="k">do</span>
  <span class="n">repo</span> <span class="s1">&#39;ssh://name-of-git-repo/repos/repo.git&#39;</span>
  <span class="n">migrate</span> <span class="kp">false</span>
  <span class="n">purge_before_symlink</span> <span class="sx">%w{one two folder/three}</span>
  <span class="n">create_dirs_before_symlink</span> <span class="o">[]</span>
  <span class="n">symlinks</span><span class="p">{</span>
    <span class="s2">&quot;one&quot;</span>   <span class="o">=&gt;</span> <span class="s2">&quot;one&quot;</span><span class="p">,</span>
    <span class="s2">&quot;two&quot;</span>   <span class="o">=&gt;</span> <span class="s2">&quot;two&quot;</span><span class="p">,</span>
    <span class="s2">&quot;three&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;folder/three&quot;</span>
  <span class="p">}</span>
  <span class="n">before_restart</span> <span class="k">do</span>
    <span class="c1"># some Ruby code</span>
  <span class="k">end</span>
  <span class="n">notifies</span> <span class="ss">:restart</span><span class="p">,</span> <span class="s1">&#39;service[foo]&#39;</span>
  <span class="n">notifies</span> <span class="ss">:restart</span><span class="p">,</span> <span class="s1">&#39;service[bar]&#39;</span>
<span class="k">end</span>
</pre></div>
</div>
<p>For the example shown above:</p>
<ul class="simple">
<li>Because an action is not explicitly specified, the chef-client will use the default action: <tt class="docutils literal"><span class="pre">:deploy</span></tt></li>
<li>The <tt class="docutils literal"><span class="pre">purge_before_symlink</span></tt> application layout is an array of paths that will be cleared before the <tt class="docutils literal"><span class="pre">symlinks</span></tt> property is run</li>
<li>The <tt class="docutils literal"><span class="pre">create_dirs_before_symlink</span></tt> property is empty, which is different from the default</li>
<li>The <tt class="docutils literal"><span class="pre">symlinks</span></tt> property is creating three symbolic links</li>
<li>The <tt class="docutils literal"><span class="pre">before_restart</span></tt> callback is being used to add custom actions that will occur at the end of the deployment process, but before any services have been notified</li>
<li>At the end, the recipe is using the <tt class="docutils literal"><span class="pre">notifies</span></tt> property&#8212;a common attribute available to all resources&#8212;to alert two services (named &#8220;foo&#8221; and &#8220;bar&#8221;) that they should restart.</li>
</ul>
<p>The full syntax for all of the properties that are available to the <strong>deploy</strong> when used with git is:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy</span> <span class="s1">&#39;name&#39;</span> <span class="k">do</span>
  <span class="n">after_restart</span>              <span class="no">Proc</span><span class="p">,</span> <span class="nb">String</span>
  <span class="n">before_migrate</span>             <span class="no">Proc</span><span class="p">,</span> <span class="nb">String</span>
  <span class="n">before_restart</span>             <span class="no">Proc</span><span class="p">,</span> <span class="nb">String</span>
  <span class="n">before_symlink</span>             <span class="no">Proc</span><span class="p">,</span> <span class="nb">String</span>
  <span class="n">branch</span>                     <span class="nb">String</span>
  <span class="n">create_dirs_before_symlink</span> <span class="nb">Array</span>
  <span class="n">deploy_to</span>                  <span class="nb">String</span> <span class="c1"># defaults to &#39;name&#39; if not specified</span>
  <span class="n">depth</span>                      <span class="nb">Integer</span>
  <span class="n">enable_submodules</span>          <span class="no">TrueClass</span><span class="p">,</span> <span class="no">FalseClass</span>
  <span class="n">environment</span>                <span class="no">Hash</span>
  <span class="n">git_ssh_wrapper</span>            <span class="nb">String</span>
  <span class="n">group</span>                      <span class="nb">String</span>
  <span class="n">keep_releases</span>              <span class="nb">Integer</span>
  <span class="n">migrate</span>                    <span class="no">TrueClass</span><span class="p">,</span> <span class="no">FalseClass</span>
  <span class="n">migration_command</span>          <span class="nb">String</span>
  <span class="n">notifies</span>                   <span class="c1"># see description</span>
  <span class="n">provider</span>                   <span class="no">Chef</span><span class="o">::</span><span class="no">Provider</span><span class="o">::</span><span class="no">Deploy</span>
  <span class="n">purge_before_symlink</span>       <span class="nb">Array</span>
  <span class="n">remote</span>                     <span class="nb">String</span>
  <span class="n">repo</span>                       <span class="nb">String</span>
  <span class="n">repository</span>                 <span class="nb">String</span>
  <span class="n">repository_cache</span>           <span class="nb">String</span>
  <span class="n">restart_command</span>            <span class="no">Proc</span><span class="p">,</span> <span class="nb">String</span>
  <span class="n">revision</span>                   <span class="nb">String</span>
  <span class="n">rollback_on_error</span>          <span class="no">TrueClass</span><span class="p">,</span> <span class="no">FalseClass</span>
  <span class="n">scm_provider</span>               <span class="no">Chef</span><span class="o">::</span><span class="no">Provider</span><span class="o">::</span><span class="no">Git</span>
  <span class="n">shallow_clone</span>              <span class="no">TrueClass</span><span class="p">,</span> <span class="no">FalseClass</span>
  <span class="n">ssh_wrapper</span>                <span class="nb">String</span>
  <span class="n">symlinks</span>                   <span class="no">Hash</span>
  <span class="n">symlink_before_migrate</span>     <span class="no">Hash</span>
  <span class="n">timeout</span>                    <span class="nb">Integer</span>
  <span class="n">user</span>                       <span class="nb">String</span>
  <span class="n">action</span>                     <span class="no">Symbol</span> <span class="c1"># defaults to :create if not specified</span>
<span class="k">end</span>
</pre></div>
</div>
<p>and the full syntax for all of the properties that are available to the <strong>deploy</strong> when used with Subversion is:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy</span> <span class="s1">&#39;name&#39;</span> <span class="k">do</span>
  <span class="n">after_restart</span>              <span class="no">Proc</span><span class="p">,</span> <span class="nb">String</span>
  <span class="n">before_migrate</span>             <span class="no">Proc</span><span class="p">,</span> <span class="nb">String</span>
  <span class="n">before_restart</span>             <span class="no">Proc</span><span class="p">,</span> <span class="nb">String</span>
  <span class="n">before_symlink</span>             <span class="no">Proc</span><span class="p">,</span> <span class="nb">String</span>
  <span class="n">branch</span>                     <span class="nb">String</span>
  <span class="n">create_dirs_before_symlink</span> <span class="nb">Array</span>
  <span class="n">deploy_to</span>                  <span class="nb">String</span> <span class="c1"># defaults to &#39;name&#39; if not specified</span>
  <span class="n">environment</span>                <span class="no">Hash</span>
  <span class="n">group</span>                      <span class="nb">String</span>
  <span class="n">keep_releases</span>              <span class="nb">Integer</span>
  <span class="n">migrate</span>                    <span class="no">TrueClass</span><span class="p">,</span> <span class="no">FalseClass</span>
  <span class="n">migration_command</span>          <span class="nb">String</span>
  <span class="n">notifies</span>                   <span class="c1"># see description</span>
  <span class="n">provider</span>                   <span class="no">Chef</span><span class="o">::</span><span class="no">Provider</span><span class="o">::</span><span class="no">Deploy</span>
  <span class="n">purge_before_symlink</span>       <span class="nb">Array</span>
  <span class="n">repo</span>                       <span class="nb">String</span>
  <span class="n">repository</span>                 <span class="nb">String</span>
  <span class="n">repository_cache</span>           <span class="nb">String</span>
  <span class="n">restart_command</span>            <span class="no">Proc</span><span class="p">,</span> <span class="nb">String</span>
  <span class="n">revision</span>                   <span class="nb">String</span>
  <span class="n">rollback_on_error</span>          <span class="no">TrueClass</span><span class="p">,</span> <span class="no">FalseClass</span>
  <span class="n">scm_provider</span>               <span class="no">Chef</span><span class="o">::</span><span class="no">Provider</span><span class="o">::</span><span class="no">Subversion</span>
  <span class="n">subscribes</span>                 <span class="c1"># see description</span>
  <span class="n">svn_arguments</span>              <span class="nb">String</span>
  <span class="n">svn_password</span>               <span class="nb">String</span>
  <span class="n">svn_username</span>               <span class="nb">String</span>
  <span class="n">symlinks</span>                   <span class="no">Hash</span>
  <span class="n">symlink_before_migrate</span>     <span class="no">Hash</span>
  <span class="n">timeout</span>                    <span class="nb">Integer</span>
  <span class="n">user</span>                       <span class="nb">String</span>
  <span class="n">action</span>                     <span class="no">Symbol</span> <span class="c1"># defaults to :create if not specified</span>
<span class="k">end</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">deploy</span></tt> is the resource</li>
<li><tt class="docutils literal"><span class="pre">name</span></tt> is the name of the resource block</li>
<li><tt class="docutils literal"><span class="pre">action</span></tt> identifies the steps the chef-client will take to bring the node into the desired state</li>
<li><tt class="docutils literal"><span class="pre">after_restart</span></tt>, <tt class="docutils literal"><span class="pre">before_migrate</span></tt>, <tt class="docutils literal"><span class="pre">before_restart</span></tt>, <tt class="docutils literal"><span class="pre">before_symlink</span></tt>, <tt class="docutils literal"><span class="pre">branch</span></tt>, <tt class="docutils literal"><span class="pre">create_dirs_before_symlink</span></tt>, <tt class="docutils literal"><span class="pre">deploy_to</span></tt>, <tt class="docutils literal"><span class="pre">depth</span></tt>, <tt class="docutils literal"><span class="pre">enable_submodules</span></tt>, <tt class="docutils literal"><span class="pre">environment</span></tt>, <tt class="docutils literal"><span class="pre">git_ssh_wrapper</span></tt>, <tt class="docutils literal"><span class="pre">group</span></tt>, <tt class="docutils literal"><span class="pre">keep_releases</span></tt>, <tt class="docutils literal"><span class="pre">migrate</span></tt>, <tt class="docutils literal"><span class="pre">migration_command</span></tt>, <tt class="docutils literal"><span class="pre">provider</span></tt>, <tt class="docutils literal"><span class="pre">purge_before_symlink</span></tt>, <tt class="docutils literal"><span class="pre">remote</span></tt>, <tt class="docutils literal"><span class="pre">repo</span></tt>, <tt class="docutils literal"><span class="pre">repository</span></tt>, <tt class="docutils literal"><span class="pre">repository_cache</span></tt>, <tt class="docutils literal"><span class="pre">restart_command</span></tt>, <tt class="docutils literal"><span class="pre">revision</span></tt>, <tt class="docutils literal"><span class="pre">rollback_on_error</span></tt>, <tt class="docutils literal"><span class="pre">scm_provider</span></tt>, <tt class="docutils literal"><span class="pre">shallow_clone</span></tt>, <tt class="docutils literal"><span class="pre">ssh_wrapper</span></tt>, <tt class="docutils literal"><span class="pre">svn_arguments</span></tt>, <tt class="docutils literal"><span class="pre">svn_password</span></tt>, <tt class="docutils literal"><span class="pre">svn_username</span></tt>, <tt class="docutils literal"><span class="pre">symlinks</span></tt>, <tt class="docutils literal"><span class="pre">symlink_before_migrate</span></tt>, <tt class="docutils literal"><span class="pre">timeout</span></tt>, and <tt class="docutils literal"><span class="pre">user</span></tt> are properties of this resource, with the Ruby type shown. See &#8220;Properties&#8221; section below for more information about all of the properties that may be used with this resource.</li>
</ul>
</div>
<div class="section" id="deploy-strategies">
<h2>Deploy Strategies<a class="headerlink" href="#deploy-strategies" title="Permalink to this headline"></a></h2>
<p>In the <tt class="docutils literal"><span class="pre">deploy</span></tt> directory, a sub-directory named <tt class="docutils literal"><span class="pre">shared</span></tt> must be created. This sub-directory is where configuration and temporary files will be kept. A typical Ruby on Rails application will have <tt class="docutils literal"><span class="pre">config</span></tt>, <tt class="docutils literal"><span class="pre">log</span></tt>, <tt class="docutils literal"><span class="pre">pids</span></tt>, and <tt class="docutils literal"><span class="pre">system</span></tt> directories within the <tt class="docutils literal"><span class="pre">shared</span></tt> directory to keep the files stored there independent of the code in the source repository.</p>
<p>In addition to the <tt class="docutils literal"><span class="pre">shared</span></tt> sub-directory, the deploy process will create sub-directories named <tt class="docutils literal"><span class="pre">releases</span></tt> and <tt class="docutils literal"><span class="pre">current</span></tt> (also in the <tt class="docutils literal"><span class="pre">deploy</span></tt> directory). The <tt class="docutils literal"><span class="pre">release</span></tt> directory holds (up to) five most recently deployed versions of an application. The <tt class="docutils literal"><span class="pre">current</span></tt> directory holds the currently-released version.</p>
<p>For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span>deploy_directory/
  current/
  releases/
  shared/
    config/
    log/
    pids/
    system/
</pre></div>
</div>
<div class="section" id="deploy-phases">
<h3>Deploy Phases<a class="headerlink" href="#deploy-phases" title="Permalink to this headline"></a></h3>
<p>A deployment happens in four phases:</p>
<ol class="arabic simple">
<li><strong>Checkout</strong>&#8212;the chef-client uses the <strong>scm</strong> resource to get the specified application revision, placing a clone or checkout in the sub-directory of the <tt class="docutils literal"><span class="pre">deploy</span></tt> directory named <tt class="docutils literal"><span class="pre">cached-copy</span></tt>. A copy of the application is then placed in a sub-directory under <tt class="docutils literal"><span class="pre">releases</span></tt>.</li>
<li><strong>Migrate</strong>&#8212;If a migration is to be run, the chef-client symlinks the database configuration file into the checkout (<tt class="docutils literal"><span class="pre">config/database.yml</span></tt> by default) and runs the migration command. For a Ruby on Rails application, the <tt class="docutils literal"><span class="pre">migration_command</span></tt> is usually set to <tt class="docutils literal"><span class="pre">rake</span> <span class="pre">db:migrate</span></tt>.</li>
<li><strong>Symlink</strong>&#8212;Directories for shared and temporary files are removed from the checkout (<tt class="docutils literal"><span class="pre">log</span></tt>, <tt class="docutils literal"><span class="pre">tmp/pids</span></tt>, and <tt class="docutils literal"><span class="pre">public/system</span></tt> by default). After this step, any needed directories (<tt class="docutils literal"><span class="pre">tmp</span></tt>, <tt class="docutils literal"><span class="pre">public</span></tt>, and <tt class="docutils literal"><span class="pre">config</span></tt> by default) are created if they don&#8217;t already exist. This step is completed by symlinking shared directories into the current <tt class="docutils literal"><span class="pre">release</span></tt>, <tt class="docutils literal"><span class="pre">public/system</span></tt>, <tt class="docutils literal"><span class="pre">tmp/pids</span></tt>, and <tt class="docutils literal"><span class="pre">log</span></tt> directories, and then symlinking the <tt class="docutils literal"><span class="pre">release</span></tt> directory to <tt class="docutils literal"><span class="pre">current</span></tt>.</li>
<li><strong>Restart</strong>&#8212;The application is restarted according to the restart command set in the recipe.</li>
</ol>
<div class="section" id="deploy-cache-file">
<h4>Deploy Cache File<a class="headerlink" href="#deploy-cache-file" title="Permalink to this headline"></a></h4>
<p>The chef-client uses a cache file to keep track of the order in which each revision of an application is deployed. By default, the cache file is located at <tt class="docutils literal"><span class="pre">/var/chef/cache/revision-deploys/APPNAME/</span></tt>. To force a re-deploy, delete the deployment directory or delete the cache file.</p>
</div>
</div>
<div class="section" id="callbacks">
<h3>Callbacks<a class="headerlink" href="#callbacks" title="Permalink to this headline"></a></h3>
<p>In-between each step in a deployment process, callbacks can be run using arbitrary Ruby code, including recipes. All callbacks support embedded recipes given in a block, but each callback assumes a shell command (instead of a deploy hook filename) when given a string.</p>
<p>The following callback types are available:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Callback</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">after_restart</span></tt></td>
<td>A block of code, or a path to a file that contains code, that is run after restarting. Default value: <tt class="docutils literal"><span class="pre">deploy/after_restart.rb</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">before_migrate</span></tt></td>
<td>A block of code, or a path to a file that contains code, that is run before a migration. Default value: <tt class="docutils literal"><span class="pre">deploy/before_migrate.rb</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">before_restart</span></tt></td>
<td>A block of code, or a path to a file that contains code, that is run before restarting. Default value: <tt class="docutils literal"><span class="pre">deploy/before_restart.rb</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">before_symlink</span></tt></td>
<td>A block of code, or a path to a file that contains code, that is run before symbolic linking. Default value: <tt class="docutils literal"><span class="pre">deploy/before_symlink.rb</span></tt>.</td>
</tr>
</tbody>
</table>
<p>Each of these callback types can be used in one of three ways:</p>
<ul class="simple">
<li>To pass a block of code, such as Ruby or Python</li>
<li>To specify a file</li>
<li>To do neither; the chef-client will look for a callback file named after one of the callback types (<tt class="docutils literal"><span class="pre">before_migrate.rb</span></tt>, for example) and if the file exists, to evaluate it as if it were a specified file</li>
</ul>
<p>Within a callback, there are two ways to get access to information about the deployment:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">release_path</span></tt> can be used to get the path to the current release</li>
<li><tt class="docutils literal"><span class="pre">new_resource</span></tt> can be used to access the deploy resource, including environment variables that have been set there (using <tt class="docutils literal"><span class="pre">new_resource</span></tt> is a preferred approach over using the <tt class="docutils literal"><span class="pre">&#64;configuration</span></tt> variable)</li>
</ul>
<p>Both of these options must be available at the top-level within the callback, along with any assigned values that will be used later in the callback.</p>
<p><strong>Callbacks and Capistrano</strong></p>
<p>If you are familiar with Capistrano, the following examples should help you know when to use the various callbacks that are available. If you are not familiar with Capistrano, then follow the semantic names of these callbacks to help you determine when to use each of the callbacks within a recipe that is built with the <strong>deploy</strong> resource.</p>
<p>The following example shows where callbacks fit in relation to the steps taken by the <tt class="docutils literal"><span class="pre">deploy</span></tt> process in Capistrano:</p>
<img alt="_images/includes_resource_deploy_strategy_callbacks_example1.png" src="_images/includes_resource_deploy_strategy_callbacks_example1.png" />
<p>and the following example shows the same comparison, but with the <tt class="docutils literal"><span class="pre">deploy:migrations</span></tt> process:</p>
<img alt="_images/includes_resource_deploy_strategy_callbacks_example2.png" src="_images/includes_resource_deploy_strategy_callbacks_example2.png" />
</div>
<div class="section" id="layout-modifiers">
<h3>Layout Modifiers<a class="headerlink" href="#layout-modifiers" title="Permalink to this headline"></a></h3>
<p>The <strong>deploy</strong> resource expects an application to be structured like a Ruby on Rails application, but the layout can be modified to meet custom requirements as needed. Use the following attributes within a recipe to modify the layout of a recipe that is using the <strong>deploy</strong> resource:</p>
<table border="1" class="docutils">
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Layout Modifiers</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">create_dirs_before_symlink</span></tt></td>
<td>Create directories in the release directory before symbolic links are created. This property runs after <tt class="docutils literal"><span class="pre">purge_before_symlink</span></tt> and before <tt class="docutils literal"><span class="pre">symlink</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">purge_before_symlink</span></tt></td>
<td>An array of directories (relative to the application root) to be removed from a checkout before symbolic links are created. This attribute runs before <tt class="docutils literal"><span class="pre">create_dirs_before_symlink</span></tt> and before <tt class="docutils literal"><span class="pre">symlink</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">symlink_before_migrate</span></tt></td>
<td>Map files in a shared directory to the current release directory. The symbolic links for these files are created before any migration is run. Use parentheses <tt class="docutils literal"><span class="pre">(</span> <span class="pre">)</span></tt> around curly braces <tt class="docutils literal"><span class="pre">{</span> <span class="pre">}</span></tt> to ensure the contents within the curly braces are interpreted as a block and not as an empty Hash. Set to <tt class="docutils literal"><span class="pre">symlink_before_migrate({})</span></tt> to prevent the creation of symbolic links.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">symlinks</span></tt></td>
<td>Map files in a shared directory to their paths in the current release directory. This property runs after <tt class="docutils literal"><span class="pre">create_dirs_before_symlink</span></tt> and <tt class="docutils literal"><span class="pre">purge_before_symlink</span></tt>.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="actions">
<h2>Actions<a class="headerlink" href="#actions" title="Permalink to this headline"></a></h2>
<p>This resource has the following actions:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">:deploy</span></tt></dt>
<dd>Default. Deploy an application.</dd>
<dt><tt class="docutils literal"><span class="pre">:force_deploy</span></tt></dt>
<dd>Remove any existing release of the same code version and re-deploy a new one in its place.</dd>
<dt><tt class="docutils literal"><span class="pre">:nothing</span></tt></dt>
<dd>Define this resource block to do nothing until notified by another resource to take action. When this resource is notified, this resource block is either run immediately or it is queued up to be run at the end of the chef-client run.</dd>
<dt><tt class="docutils literal"><span class="pre">:rollback</span></tt></dt>
<dd>Roll an application back to the previous release.</dd>
</dl>
<div class="section" id="naming-resources">
<h3>Naming Resources<a class="headerlink" href="#naming-resources" title="Permalink to this headline"></a></h3>
<p>The chef-client caches deployment actions as they are taken. In order for the chef-client to be able to apply a subsequent deployment action&#8212;rolling back a release using the <tt class="docutils literal"><span class="pre">:rollback</span></tt> action, for example&#8212;all related deployment actions must be contained within resource blocks that have the same name. This ensures that the chef-client will be able to find the correct deployment from within the cached deployment actions.</p>
<p>For example, a simple deployment:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy_revision</span> <span class="s1">&#39;name&#39;</span> <span class="k">do</span>
  <span class="o">...</span>
  <span class="n">action</span> <span class="ss">:deploy</span>
<span class="k">end</span>
</pre></div>
</div>
<p>In order to use the <tt class="docutils literal"><span class="pre">:rollback</span></tt> action with this deployment, the <tt class="docutils literal"><span class="pre">:rollback</span></tt> action must be in a resource block that has the same resource name as the initial deploy action. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy_revision</span> <span class="s1">&#39;name&#39;</span> <span class="k">do</span>
  <span class="o">...</span>
  <span class="n">action</span> <span class="ss">:rollback</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="properties">
<h2>Properties<a class="headerlink" href="#properties" title="Permalink to this headline"></a></h2>
<p>This resource has the following properties:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">after_restart</span></tt></dt>
<dd><p class="first"><strong>Ruby Types:</strong> Proc, String</p>
<p class="last">A block of code, or a path to a file that contains code, that is run after restarting. Default value: <tt class="docutils literal"><span class="pre">deploy/after_restart.rb</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">before_migrate</span></tt></dt>
<dd><p class="first"><strong>Ruby Types:</strong> Proc, String</p>
<p class="last">A block of code, or a path to a file that contains code, that is run before a migration. Default value: <tt class="docutils literal"><span class="pre">deploy/before_migrate.rb</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">before_restart</span></tt></dt>
<dd><p class="first"><strong>Ruby Types:</strong> Proc, String</p>
<p class="last">A block of code, or a path to a file that contains code, that is run before restarting. Default value: <tt class="docutils literal"><span class="pre">deploy/before_restart.rb</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">before_symlink</span></tt></dt>
<dd><p class="first"><strong>Ruby Types:</strong> Proc, String</p>
<p class="last">A block of code, or a path to a file that contains code, that is run before symbolic linking. Default value: <tt class="docutils literal"><span class="pre">deploy/before_symlink.rb</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">branch</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> String</p>
<p class="last">The alias for the revision.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">create_dirs_before_symlink</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> Array</p>
<p class="last">Create directories in the release directory before symbolic links are created. This property runs after <tt class="docutils literal"><span class="pre">purge_before_symlink</span></tt> and before <tt class="docutils literal"><span class="pre">symlink</span></tt>. Default value: <tt class="docutils literal"><span class="pre">%w{tmp</span> <span class="pre">public</span> <span class="pre">config}</span></tt> (or the same as <tt class="docutils literal"><span class="pre">[&quot;tmp&quot;,</span> <span class="pre">&quot;public&quot;,</span> <span class="pre">&quot;config&quot;]</span></tt>).</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">deploy_to</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> String</p>
<p class="last">The &#8220;meta root&#8221; for the application, if different from the path that is used to specify the name of a resource. Default value: the <tt class="docutils literal"><span class="pre">name</span></tt> of the resource block See &#8220;Syntax&#8221; section above for more information.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">environment</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> Hash</p>
<p class="last">A Hash of environment variables in the form of <tt class="docutils literal"><span class="pre">({&quot;ENV_VARIABLE&quot;</span> <span class="pre">=&gt;</span> <span class="pre">&quot;VALUE&quot;})</span></tt>. (These variables must exist for a command to be run successfully.)</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">group</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> String</p>
<p class="last">The system group that is responsible for the checked-out code.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">ignore_failure</span></tt></dt>
<dd><p class="first"><strong>Ruby Types:</strong> TrueClass, FalseClass</p>
<p class="last">Continue running a recipe if a resource fails for any reason. Default value: <tt class="docutils literal"><span class="pre">false</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">keep_releases</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> Integer</p>
<p class="last">The number of releases for which a backup is kept. Default value: <tt class="docutils literal"><span class="pre">5</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">migrate</span></tt></dt>
<dd><p class="first"><strong>Ruby Types:</strong> TrueClass, FalseClass</p>
<p class="last">Run a migration command. Default value: <tt class="docutils literal"><span class="pre">false</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">migration_command</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> String</p>
<p class="last">A string that contains a shell command that can be executed to run a migration operation.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">notifies</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> Symbol, &#8216;Chef::Resource[String]&#8217;</p>
<p>A resource may notify another resource to take action when its state changes. Specify a <tt class="docutils literal"><span class="pre">'resource[name]'</span></tt>, the <tt class="docutils literal"><span class="pre">:action</span></tt> that resource should take, and then the <tt class="docutils literal"><span class="pre">:timer</span></tt> for that action. A resource may notifiy more than one resource; use a <tt class="docutils literal"><span class="pre">notifies</span></tt> statement for each resource to be notified.</p>
<p>A timer specifies the point during the chef-client run at which a notification is run. The following timers are available:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">:before</span></tt></dt>
<dd>Specifies that the action on a notified resource should be run before processing the resource block in which the notification is located.</dd>
<dt><tt class="docutils literal"><span class="pre">:delayed</span></tt></dt>
<dd>Default. Specifies that a notification should be queued up, and then executed at the very end of the chef-client run.</dd>
<dt><tt class="docutils literal"><span class="pre">:immediate</span></tt>, <tt class="docutils literal"><span class="pre">:immediately</span></tt></dt>
<dd>Specifies that a notification should be run immediately, per resource notified.</dd>
</dl>
<p>The syntax for <tt class="docutils literal"><span class="pre">notifies</span></tt> is:</p>
<div class="last highlight-ruby"><div class="highlight"><pre><span></span><span class="n">notifies</span> <span class="ss">:action</span><span class="p">,</span> <span class="s1">&#39;resource[name]&#39;</span><span class="p">,</span> <span class="ss">:timer</span>
</pre></div>
</div>
</dd>
<dt><tt class="docutils literal"><span class="pre">provider</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> Chef Class</p>
<p class="last">Optional. Explicitly specifies a provider. See &#8220;Providers&#8221; section below for more information.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">purge_before_symlink</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> Array</p>
<p class="last">An array of directories (relative to the application root) to be removed from a checkout before symbolic links are created. This attribute runs before <tt class="docutils literal"><span class="pre">create_dirs_before_symlink</span></tt> and before <tt class="docutils literal"><span class="pre">symlink</span></tt>. Default value: <tt class="docutils literal"><span class="pre">%w{log</span> <span class="pre">tmp/pids</span> <span class="pre">public/system}</span></tt> (or the same as <tt class="docutils literal"><span class="pre">[&quot;log&quot;,</span> <span class="pre">&quot;tmp/pids&quot;,</span> <span class="pre">&quot;public/system&quot;]</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">repo</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> String</p>
<p class="last">The alias for the repository.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">repository</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> String</p>
<p class="last">The URI for the repository.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">repository_cache</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> String</p>
<p class="last">The name of the sub-directory in which the pristine copy of an application&#8217;s source is kept. Default value: <tt class="docutils literal"><span class="pre">cached-copy</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">restart_command</span></tt></dt>
<dd><p class="first"><strong>Ruby Types:</strong> String, Proc</p>
<p class="last">A string that contains a shell command that can be executed to run a restart operation.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">retries</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> Integer</p>
<p class="last">The number of times to catch exceptions and retry the resource. Default value: <tt class="docutils literal"><span class="pre">0</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">retry_delay</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> Integer</p>
<p class="last">The retry delay (in seconds). Default value: <tt class="docutils literal"><span class="pre">2</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">revision</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> String</p>
<p class="last">A branch, tag, or commit to be synchronized with git. This can be symbolic, like <tt class="docutils literal"><span class="pre">HEAD</span></tt> or it can be a source control management-specific revision identifier. Default value: <tt class="docutils literal"><span class="pre">HEAD</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">rollback_on_error</span></tt></dt>
<dd><p class="first"><strong>Ruby Types:</strong> TrueClass, FalseClass</p>
<p class="last">Roll a resource back to a previously-deployed release if an error occurs when deploying a new release. Default value: <tt class="docutils literal"><span class="pre">false</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">scm_provider</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> Chef Class</p>
<p class="last">The name of the source control management provider. Default value: <tt class="docutils literal"><span class="pre">Chef::Provider::Git</span></tt>. Optional values: <tt class="docutils literal"><span class="pre">Chef::Provider::Subversion</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">subscribes</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> Symbol, &#8216;Chef::Resource[String]&#8217;</p>
<p>A resource may listen to another resource, and then take action if the state of the resource being listened to changes. Specify a <tt class="docutils literal"><span class="pre">'resource[name]'</span></tt>, the <tt class="docutils literal"><span class="pre">:action</span></tt> to be taken, and then the <tt class="docutils literal"><span class="pre">:timer</span></tt> for that action.</p>
<p>A timer specifies the point during the chef-client run at which a notification is run. The following timers are available:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">:before</span></tt></dt>
<dd>Specifies that the action on a notified resource should be run before processing the resource block in which the notification is located.</dd>
<dt><tt class="docutils literal"><span class="pre">:delayed</span></tt></dt>
<dd>Default. Specifies that a notification should be queued up, and then executed at the very end of the chef-client run.</dd>
<dt><tt class="docutils literal"><span class="pre">:immediate</span></tt>, <tt class="docutils literal"><span class="pre">:immediately</span></tt></dt>
<dd>Specifies that a notification should be run immediately, per resource notified.</dd>
</dl>
<p>The syntax for <tt class="docutils literal"><span class="pre">subscribes</span></tt> is:</p>
<div class="last highlight-ruby"><div class="highlight"><pre><span></span><span class="n">subscribes</span> <span class="ss">:action</span><span class="p">,</span> <span class="s1">&#39;resource[name]&#39;</span><span class="p">,</span> <span class="ss">:timer</span>
</pre></div>
</div>
</dd>
<dt><tt class="docutils literal"><span class="pre">symlinks</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> Hash</p>
<p class="last">Map files in a shared directory to their paths in the current release directory. This property runs after <tt class="docutils literal"><span class="pre">create_dirs_before_symlink</span></tt> and <tt class="docutils literal"><span class="pre">purge_before_symlink</span></tt>. Default value: <tt class="docutils literal"><span class="pre">{&quot;system&quot;</span> <span class="pre">=&gt;</span> <span class="pre">&quot;public/system&quot;,</span> <span class="pre">&quot;pids&quot;</span> <span class="pre">=&gt;</span> <span class="pre">&quot;tmp/pids&quot;,</span> <span class="pre">&quot;log&quot;</span> <span class="pre">=&gt;</span> <span class="pre">&quot;log&quot;}</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">symlink_before_migrate</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> Hash</p>
<p class="last">Map files in a shared directory to the current release directory. The symbolic links for these files are created before any migration is run. Use parentheses <tt class="docutils literal"><span class="pre">(</span> <span class="pre">)</span></tt> around curly braces <tt class="docutils literal"><span class="pre">{</span> <span class="pre">}</span></tt> to ensure the contents within the curly braces are interpreted as a block and not as an empty Hash. Set to <tt class="docutils literal"><span class="pre">symlink_before_migrate({})</span></tt> to prevent the creation of symbolic links. Default value: <tt class="docutils literal"><span class="pre">{&quot;config/database.yml&quot;</span> <span class="pre">=&gt;</span> <span class="pre">&quot;config/database.yml&quot;}</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">timeout</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> Integer</p>
<p class="last">The amount of time (in seconds) to wait for a command to execute before timing out. When specified, this value is passed from the <strong>deploy</strong> resource to the <strong>git</strong> or <strong>subversion</strong> resources.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">user</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> String</p>
<p class="last">The system user that is responsible for the checked-out code.</p>
</dd>
</dl>
<p>The following properties are for use with git only:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">depth</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> Integer</p>
<p class="last">The depth of a git repository, truncated to the specified number of revisions. See <tt class="docutils literal"><span class="pre">shallow_clone</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">enable_submodules</span></tt></dt>
<dd><p class="first"><strong>Ruby Types:</strong> TrueClass, FalseClass</p>
<p class="last">Perform a sub-module initialization and update. Default value: <tt class="docutils literal"><span class="pre">false</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">git_ssh_wrapper</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> String</p>
<p class="last">The alias for the <tt class="docutils literal"><span class="pre">ssh_wrapper</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">remote</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> String</p>
<p class="last">The remote repository to use when synchronizing an existing clone. Default value: <tt class="docutils literal"><span class="pre">origin</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">shallow_clone</span></tt></dt>
<dd><p class="first"><strong>Ruby Types:</strong> TrueClass, FalseClass</p>
<p class="last">Set the clone depth to <tt class="docutils literal"><span class="pre">5</span></tt>. If a depth other than <tt class="docutils literal"><span class="pre">5</span></tt> is required, use the <tt class="docutils literal"><span class="pre">depth</span></tt> property instead of <tt class="docutils literal"><span class="pre">shallow_clone</span></tt>. Default value: <tt class="docutils literal"><span class="pre">false</span></tt>.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">ssh_wrapper</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> String</p>
<p class="last">The path to the wrapper script used when running SSH with git. The <tt class="docutils literal"><span class="pre">GIT_SSH</span></tt> environment variable is set to this.</p>
</dd>
</dl>
<p>The following properties are for use with Subversion only:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">svn_arguments</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> String</p>
<p class="last">The extra arguments that are passed to the Subversion command.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">svn_password</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> String</p>
<p class="last">The password for a user that has access to the Subversion repository.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">svn_username</span></tt></dt>
<dd><p class="first"><strong>Ruby Type:</strong> String</p>
<p class="last">The user name for a user that has access to the Subversion repository.</p>
</dd>
</dl>
</div>
<div class="section" id="providers">
<h2>Providers<a class="headerlink" href="#providers" title="Permalink to this headline"></a></h2>
<p>Where a resource represents a piece of the system (and its desired state), a provider defines the steps that are needed to bring that piece of the system from its current state into the desired state.</p>
<p>The chef-client will determine the correct provider based on configuration data collected by Ohai at the start of the chef-client run. This configuration data is then mapped to a platform and an associated list of providers.</p>
<p>Generally, it&#8217;s best to let the chef-client choose the provider, and this is (by far) the most common approach. However, in some cases, specifying a provider may be desirable. There are two approaches:</p>
<ul class="simple">
<li>Use a more specific short name&#8212;<tt class="docutils literal"><span class="pre">yum_package</span> <span class="pre">&quot;foo&quot;</span> <span class="pre">do</span></tt> instead of <tt class="docutils literal"><span class="pre">package</span> <span class="pre">&quot;foo&quot;</span> <span class="pre">do</span></tt>, <tt class="docutils literal"><span class="pre">script</span> <span class="pre">&quot;foo&quot;</span> <span class="pre">do</span></tt> instead of <tt class="docutils literal"><span class="pre">bash</span> <span class="pre">&quot;foo&quot;</span> <span class="pre">do</span></tt>, and so on&#8212;when available</li>
<li>Use the <tt class="docutils literal"><span class="pre">provider</span></tt> property within the resource block to specify the long name of the provider as a property of a resource. For example: <tt class="docutils literal"><span class="pre">provider</span> <span class="pre">Chef::Provider::Long::Name</span></tt></li>
</ul>
<p>This resource has the following providers:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">Chef::Provider::Deploy</span></tt>, <tt class="docutils literal"><span class="pre">deploy</span></tt></dt>
<dd>When this short name is used, the chef-client will determine the correct provider during the chef-client run.</dd>
<dt><tt class="docutils literal"><span class="pre">Chef::Provider::Deploy::Branch</span></tt>, <tt class="docutils literal"><span class="pre">deploy_branch</span></tt></dt>
<dd>See below for more information.</dd>
<dt><tt class="docutils literal"><span class="pre">Chef::Provider::Deploy::Revision</span></tt>, <tt class="docutils literal"><span class="pre">deploy_revision</span></tt></dt>
<dd>See below for more information.</dd>
<dt><tt class="docutils literal"><span class="pre">Chef::Provider::Deploy::TimestampedDeploy</span></tt>, <tt class="docutils literal"><span class="pre">timestamped_deploy</span></tt></dt>
<dd>The default provider for all platforms. See below for more information.</dd>
</dl>
<div class="section" id="deploy-branch">
<h3>deploy_branch<a class="headerlink" href="#deploy-branch" title="Permalink to this headline"></a></h3>
<p>The <strong>deploy_branch</strong> resource functions identically to the <strong>deploy_revision</strong> resource, in terms of how the chef-client processes the resource during the chef-client run. It uses the same <tt class="docutils literal"><span class="pre">Deploy::Revision</span></tt> provider, the same set of actions and attributes, and is (outside of the name itself) identical to the <strong>deploy_revision</strong> resource. Using the <strong>deploy_revision</strong> resource is preferred; however, the <strong>deploy_branch</strong> resource exists for those situations where, semantically, it is preferable to refer to a resource as a &#8220;branch&#8221; instead of a &#8220;revision&#8221;.</p>
</div>
<div class="section" id="deploy-revision">
<h3>deploy_revision<a class="headerlink" href="#deploy-revision" title="Permalink to this headline"></a></h3>
<p>The <tt class="docutils literal"><span class="pre">deploy_revision</span></tt> provider is the recommended provider, even if it is not listed as the default. The <tt class="docutils literal"><span class="pre">deploy_revision</span></tt> provider is used to ensure that the name of a release sub-directory is based on a revision identifier. For users of git, this will be the familiar SHA checksum. For users of Subversion, it will be the integer revision number. If a name other than a revision identifier is provided&#8212;branch names, tags, and so on&#8212;the chef-client will ignore the alternate names and will look up the revision identifier and use it to name the release sub-directory. When the <tt class="docutils literal"><span class="pre">deploy_revision</span></tt> provider is given an exact revision to deploy, it will behave in an idempotent manner.</p>
<p>The <tt class="docutils literal"><span class="pre">deploy_revision</span></tt> provider results in deployed components under the destination location that is owned by the user who runs the application. This is sometimes an issue for certain workflows. If issues arise, consider the following:</p>
<ul class="simple">
<li>Incorporate changing permissions to the desired end state from within a recipe</li>
<li>Add a <tt class="docutils literal"><span class="pre">before_restart</span></tt> block to fix up the permissions</li>
<li>Have an unprivileged user (for example: <tt class="docutils literal"><span class="pre">opscode</span></tt>) be the owner of the <tt class="docutils literal"><span class="pre">deploy</span></tt> directory and another unprivileged user (for example: <tt class="docutils literal"><span class="pre">opscodeapp</span></tt>) run the application. Most often, this is the solution that works best</li>
</ul>
<p>When using the <tt class="docutils literal"><span class="pre">deploy_revision</span></tt> provider, and when the deploy fails for any reason, and when the same code is used to re-deploy, the action should be set manually to <tt class="docutils literal"><span class="pre">:force_deploy</span></tt>. Forcing the re-deploy will remove the old release directory, after which the deploy can proceed as usual. (Forcing a re-deploy over the current release can cause some downtime.) Deployed revisions are stored in <tt class="docutils literal"><span class="pre">(file_cache_path)/revision-deploys/(deploy_path)</span></tt>.</p>
</div>
<div class="section" id="timestamped-deploy">
<h3>timestamped_deploy<a class="headerlink" href="#timestamped-deploy" title="Permalink to this headline"></a></h3>
<p>The <tt class="docutils literal"><span class="pre">timestamped_deploy</span></tt> provider is the default <strong>deploy</strong> provider. It is used to name release directories with a timestamp in the form of <tt class="docutils literal"><span class="pre">YYYYMMDDHHMMSS</span></tt>. For example: <tt class="docutils literal"><span class="pre">/my/deploy/dir/releases/20121120162342</span></tt>. The <strong>deploy</strong> resource will determine whether or not to deploy code based on the existence of the release directory in which it is attempting to deploy. Because the timestamp is different for every chef-client run, the <tt class="docutils literal"><span class="pre">timestamped_deploy</span></tt> provider is not idempotent. When the <tt class="docutils literal"><span class="pre">timestamped_deploy</span></tt> provider is used, it requires that the action setting on a resource be managed manually in order to prevent unintended continuous deployment.</p>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline"></a></h2>
<p>The following examples demonstrate various approaches for using resources in recipes. If you want to see examples of how Chef uses resources in recipes, take a closer look at the cookbooks that Chef authors and maintains: <a class="reference external" href="https://github.com/chef-cookbooks">https://github.com/chef-cookbooks</a>.</p>
<p><strong>Modify the layout of a Ruby on Rails application</strong></p>
<p>The layout of the <strong>deploy</strong> resource matches a Ruby on Rails app by default, but this can be customized. To customize the layout, do something like the following:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy</span> <span class="s1">&#39;/my/apps/dir/deploy&#39;</span> <span class="k">do</span>
  <span class="c1"># Use a local repo if you prefer</span>
  <span class="n">repo</span> <span class="s1">&#39;/path/to/gitrepo/typo/&#39;</span>
  <span class="n">environment</span> <span class="s1">&#39;RAILS_ENV&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;production&#39;</span>
  <span class="n">revision</span> <span class="s1">&#39;HEAD&#39;</span>
  <span class="n">action</span> <span class="ss">:deploy</span>
  <span class="n">migration_command</span> <span class="s1">&#39;rake db:migrate --trace&#39;</span>
  <span class="n">migrate</span> <span class="kp">true</span>
  <span class="n">restart_command</span> <span class="s1">&#39;touch tmp/restart.txt&#39;</span>
  <span class="n">create_dirs_before_symlink</span>  <span class="sx">%w{tmp public config deploy}</span>

  <span class="c1"># You can use this to customize if your app has extra configuration files</span>
  <span class="c1"># such as amqp.yml or app_config.yml</span>
  <span class="n">symlink_before_migrate</span>  <span class="s1">&#39;config/database.yml&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;config/database.yml&#39;</span>

  <span class="c1"># If your app has extra files in the shared folder, specify them here</span>
  <span class="n">symlinks</span>  <span class="s1">&#39;system&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;public/system&#39;</span><span class="p">,</span>
            <span class="s1">&#39;pids&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;tmp/pids&#39;</span><span class="p">,</span>
            <span class="s1">&#39;log&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;log&#39;</span><span class="p">,</span>
            <span class="s1">&#39;deploy/before_migrate.rb&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;deploy/before_migrate.rb&#39;</span><span class="p">,</span>
            <span class="s1">&#39;deploy/before_symlink.rb&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;deploy/before_symlink.rb&#39;</span><span class="p">,</span>
            <span class="s1">&#39;deploy/before_restart.rb&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;deploy/before_restart.rb&#39;</span><span class="p">,</span>
            <span class="s1">&#39;deploy/after_restart.rb&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;deploy/after_restart.rb&#39;</span>
<span class="k">end</span>
</pre></div>
</div>
<p><strong>Use resources within callbacks</strong></p>
<p>Using resources from within your callbacks as blocks or within callback files distributed with your application&#8217;s source code. To use embedded recipes for callbacks:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">node</span><span class="o">[</span><span class="s1">&#39;tmpdir&#39;</span><span class="o">]</span><span class="si">}</span><span class="s2">/deploy&quot;</span> <span class="k">do</span>
  <span class="n">repo</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">node</span><span class="o">[</span><span class="s1">&#39;tmpdir&#39;</span><span class="o">]</span><span class="si">}</span><span class="s2">/gitrepo/typo/&quot;</span>
  <span class="n">environment</span> <span class="s1">&#39;RAILS_ENV&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;production&#39;</span>
  <span class="n">revision</span> <span class="s1">&#39;HEAD&#39;</span>
  <span class="n">action</span> <span class="ss">:deploy</span>
  <span class="n">migration_command</span> <span class="s1">&#39;rake db:migrate --trace&#39;</span>
  <span class="n">migrate</span> <span class="kp">true</span>

  <span class="c1"># Callback awesomeness:</span>
  <span class="n">before_migrate</span> <span class="k">do</span>
    <span class="n">current_release</span> <span class="o">=</span> <span class="n">release_path</span>

    <span class="n">directory</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">current_release</span><span class="si">}</span><span class="s2">/deploy&quot;</span> <span class="k">do</span>
      <span class="n">mode</span> <span class="s1">&#39;0755&#39;</span>
    <span class="k">end</span>

    <span class="c1"># creates a callback for before_symlink</span>
    <span class="n">template</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">current_release</span><span class="si">}</span><span class="s2">/deploy/before_symlink_callback.rb&quot;</span> <span class="k">do</span>
      <span class="n">source</span> <span class="s1">&#39;embedded_recipe_before_symlink.rb.erb&#39;</span>
      <span class="n">mode</span> <span class="s1">&#39;0755&#39;</span>
    <span class="k">end</span>

  <span class="k">end</span>

  <span class="c1"># This file can contain Chef recipe code, plain ruby also works</span>
  <span class="n">before_symlink</span> <span class="s1">&#39;deploy/before_symlink_callback.rb&#39;</span>

  <span class="n">restart</span> <span class="k">do</span>
    <span class="n">current_release</span> <span class="o">=</span> <span class="n">release_path</span>
    <span class="n">file</span> <span class="s2">&quot;</span><span class="si">#{</span><span class="n">release_path</span><span class="si">}</span><span class="s2">/tmp/restart.txt&quot;</span> <span class="k">do</span>
      <span class="n">mode</span> <span class="s1">&#39;0755&#39;</span>
    <span class="k">end</span>
  <span class="k">end</span>

<span class="k">end</span>
</pre></div>
</div>
<p><strong>Deploy from a private git repository without using the application cookbook</strong></p>
<p>To deploy from a private git repository without using the <tt class="docutils literal"><span class="pre">application</span></tt> cookbook, first ensure that:</p>
<ul class="simple">
<li>the private key does not have a passphrase, as this will pause a chef-client run to wait for input</li>
<li>an SSH wrapper is being used</li>
<li>a private key has been added to the node</li>
</ul>
<p>and then remove a passphrase from a private key by using code similar to:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>ssh-keygen -p -P <span class="s1">&#39;PASSPHRASE&#39;</span> -N <span class="s1">&#39;&#39;</span> -f id_deploy
</pre></div>
</div>
<p><strong>Use an SSH wrapper</strong></p>
<p>To write a recipe that uses an SSH wrapper:</p>
<ol class="arabic">
<li><p class="first">Create a file in the <tt class="docutils literal"><span class="pre">cookbooks/COOKBOOK_NAME/files/default</span></tt> directory that is named <tt class="docutils literal"><span class="pre">wrap-ssh4git.sh</span></tt> and which contains the following:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>
<span class="sr">/usr/</span><span class="n">bin</span><span class="o">/</span><span class="n">env</span> <span class="n">ssh</span> <span class="o">-</span><span class="n">o</span> <span class="s2">&quot;StrictHostKeyChecking=no&quot;</span> <span class="o">-</span><span class="n">i</span> <span class="s2">&quot;/tmp/private_code/.ssh/id_deploy&quot;</span> <span class="vg">$1</span> <span class="vg">$2</span>
</pre></div>
</div>
</li>
<li><p class="first">Set up the cookbook file.</p>
</li>
<li><p class="first">Add a recipe to the cookbook file similar to the following:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">directory</span> <span class="s1">&#39;/tmp/private_code/.ssh&#39;</span> <span class="k">do</span>
  <span class="n">owner</span> <span class="s1">&#39;ubuntu&#39;</span>
  <span class="n">recursive</span> <span class="kp">true</span>
<span class="k">end</span>

<span class="n">cookbook_file</span> <span class="s1">&#39;/tmp/private_code/wrap-ssh4git.sh&#39;</span> <span class="k">do</span>
  <span class="n">source</span> <span class="s1">&#39;wrap-ssh4git.sh&#39;</span>
  <span class="n">owner</span> <span class="s1">&#39;ubuntu&#39;</span>
  <span class="n">mode</span> <span class="s1">&#39;0755&#39;</span>
<span class="k">end</span>

<span class="n">deploy</span> <span class="s1">&#39;private_repo&#39;</span> <span class="k">do</span>
  <span class="n">repo</span> <span class="s1">&#39;git@github.com:acctname/private-repo.git&#39;</span>
  <span class="n">user</span> <span class="s1">&#39;ubuntu&#39;</span>
  <span class="n">deploy_to</span> <span class="s1">&#39;/tmp/private_code&#39;</span>
  <span class="n">action</span> <span class="ss">:deploy</span>
  <span class="n">ssh_wrapper</span> <span class="s1">&#39;/tmp/private_code/wrap-ssh4git.sh&#39;</span>
<span class="k">end</span>
</pre></div>
</div>
<p>This will deploy the git repository at <tt class="docutils literal"><span class="pre">git&#64;github.com:acctname/private-repo.git</span></tt> in the <tt class="docutils literal"><span class="pre">/tmp/private_code</span></tt> directory.</p>
</li>
</ol>
<p><strong>Use a callback to include a file that will be passed as a code block</strong></p>
<p>The code in a file that is included in a recipe using a callback is evaluated exactly as if the code had been put in the recipe as a block. Files are searched relative to the current release.</p>
<p>To specify a file that contains code to be used as a block:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy</span> <span class="s1">&#39;/deploy/dir/&#39;</span> <span class="k">do</span>
  <span class="c1"># ...</span>

  <span class="n">before_migrate</span> <span class="s1">&#39;callbacks/do_this_before_migrate.rb&#39;</span>
<span class="k">end</span>
</pre></div>
</div>
<p><strong>Use a callback to pass a code block</strong></p>
<p>To pass a block of Python code before a migration is run:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy_revision</span> <span class="s1">&#39;/deploy/dir/&#39;</span> <span class="k">do</span>
  <span class="c1"># other attributes</span>
  <span class="c1"># ...</span>

  <span class="n">before_migrate</span> <span class="k">do</span>
    <span class="c1"># release_path is the path to the timestamp dir</span>
    <span class="c1"># for the current release</span>
    <span class="n">current_release</span> <span class="o">=</span> <span class="n">release_path</span>

    <span class="c1"># Create a local variable for the node so we&#39;ll have access to</span>
    <span class="c1"># the attributes</span>
    <span class="n">deploy_node</span> <span class="o">=</span> <span class="n">node</span>

    <span class="c1"># A local variable with the deploy resource.</span>
    <span class="n">deploy_resource</span> <span class="o">=</span> <span class="n">new_resource</span>

    <span class="n">python</span> <span class="k">do</span>
      <span class="n">cwd</span> <span class="n">current_release</span>
      <span class="n">user</span> <span class="s1">&#39;myappuser&#39;</span>
      <span class="n">code</span><span class="o">&lt;&lt;-</span><span class="no">PYCODE</span>
        <span class="c1"># Woah, callbacks in python!</span>
        <span class="c1"># ...</span>
        <span class="c1"># current_release, deploy_node, and deploy_resource are all available</span>
        <span class="c1"># within the deploy hook now.</span>
      <span class="no">PYCODE</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<p><strong>Use the same API for all recipes using the same gem</strong></p>
<p>Any recipes using the <tt class="docutils literal"><span class="pre">git-deploy</span></tt> gem can continue using the same API. To include this behavior in a recipe, do something like the following:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy</span> <span class="s2">&quot;/srv/</span><span class="si">#{</span><span class="n">appname</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">do</span>
  <span class="n">repo</span> <span class="s1">&#39;git://github.com/radiant/radiant.git&#39;</span>
  <span class="n">revision</span> <span class="s1">&#39;HEAD&#39;</span>
  <span class="n">user</span> <span class="s1">&#39;railsdev&#39;</span>
  <span class="n">enable_submodules</span> <span class="kp">false</span>
  <span class="n">migrate</span> <span class="kp">true</span>
  <span class="n">migration_command</span> <span class="s1">&#39;rake db:migrate&#39;</span>
  <span class="c1"># Giving a string for environment sets RAILS_ENV, MERB_ENV, RACK_ENV</span>
  <span class="n">environment</span> <span class="s1">&#39;production&#39;</span>
  <span class="n">shallow_clone</span> <span class="kp">true</span>
  <span class="n">action</span> <span class="ss">:deploy</span>
  <span class="n">restart_command</span> <span class="s1">&#39;touch tmp/restart.txt&#39;</span>
<span class="k">end</span>
</pre></div>
</div>
<p><strong>Deploy without creating symbolic links to a shared folder</strong></p>
<p>To deploy without creating symbolic links to a shared folder:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy</span> <span class="s1">&#39;/my/apps/dir/deploy&#39;</span> <span class="k">do</span>
  <span class="n">symlinks</span> <span class="p">{}</span>
<span class="k">end</span>
</pre></div>
</div>
<p>When deploying code that is not Ruby on Rails and symbolic links to a shared folder are not wanted, use parentheses <tt class="docutils literal"><span class="pre">()</span></tt> or <tt class="docutils literal"><span class="pre">Hash.new</span></tt> to avoid ambiguity. For example, using parentheses:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy</span> <span class="s1">&#39;/my/apps/dir/deploy&#39;</span> <span class="k">do</span>
  <span class="n">symlinks</span><span class="p">({})</span>
<span class="k">end</span>
</pre></div>
</div>
<p>or using <tt class="docutils literal"><span class="pre">Hash.new</span></tt>:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy</span> <span class="s1">&#39;/my/apps/dir/deploy&#39;</span> <span class="k">do</span>
  <span class="n">symlinks</span> <span class="no">Hash</span><span class="o">.</span><span class="n">new</span>
<span class="k">end</span>
</pre></div>
</div>
<p><strong>Clear a layout modifier attribute</strong></p>
<p>Using the default property values for the various resources is the recommended starting point when working with recipes. Then, depending on what each node requires, these default values can be overridden with node-, role-, environment-, and cookbook-specific values. The <strong>deploy</strong> resource has four layout modifiers: <tt class="docutils literal"><span class="pre">create_dirs_before_symlink</span></tt>, <tt class="docutils literal"><span class="pre">purge_before_symlink</span></tt>, <tt class="docutils literal"><span class="pre">symlink_before_migrate</span></tt>, and <tt class="docutils literal"><span class="pre">symlinks</span></tt>. Each of these is a Hash that behaves as a property of the <strong>deploy</strong> resource. When these layout modifiers are used in a recipe, they appear similar to the following:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy</span> <span class="s1">&#39;name&#39;</span> <span class="k">do</span>
  <span class="o">...</span>
  <span class="n">symlink_before_migrate</span>       <span class="p">{</span><span class="s1">&#39;config/database.yml&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;config/database.yml&#39;</span><span class="p">}</span>
  <span class="n">create_dirs_before_symlink</span>   <span class="sx">%w{tmp public config}</span>
  <span class="n">purge_before_symlink</span>         <span class="sx">%w{log tmp/pids public/system}</span>
  <span class="n">symlinks</span>                     <span class="p">{</span> <span class="s1">&#39;system&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;public/system&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;pids&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;tmp/pids&#39;</span><span class="p">,</span>
                                 <span class="s1">&#39;log&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;log&#39;</span>
                               <span class="p">}</span>
  <span class="o">...</span>
<span class="k">end</span>
</pre></div>
</div>
<p>and then what these layout modifiers look like if they were empty:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy</span> <span class="s1">&#39;name&#39;</span> <span class="k">do</span>
  <span class="o">...</span>
  <span class="n">symlink_before_migrate</span>       <span class="kp">nil</span>
  <span class="n">create_dirs_before_symlink</span>   <span class="o">[]</span>
  <span class="n">purge_before_symlink</span>         <span class="o">[]</span>
  <span class="n">symlinks</span>                     <span class="kp">nil</span>
  <span class="o">...</span>
<span class="k">end</span>
</pre></div>
</div>
<p>In most cases, using the empty values for the layout modifiers will prevent the chef-client from passing symbolic linking information to a node during the chef-client run. However, in some cases, it may be preferable to ensure that one (or more) of these layout modifiers do not pass any symbolic linking information to a node during the chef-client run at all. Because each of these layout modifiers are a Hash, the <tt class="docutils literal"><span class="pre">clear</span></tt> instance method can be used to clear out these values.</p>
<p>To clear the default values for a layout modifier:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">deploy</span> <span class="s1">&#39;name&#39;</span> <span class="k">do</span>
  <span class="o">...</span>
  <span class="n">symlink_before_migrate</span><span class="o">.</span><span class="n">clear</span>
  <span class="n">create_dirs_before_symlink</span><span class="o">.</span><span class="n">clear</span>
  <span class="n">purge_before_symlink</span><span class="o">.</span><span class="n">clear</span>
  <span class="n">symlinks</span><span class="o">.</span><span class="n">clear</span>
  <span class="o">...</span>
<span class="k">end</span>
</pre></div>
</div>
<p>In general, use this approach carefully and only after it is determined that nil or empty values won&#8217;t provide the expected result.</p>
</div>
</div>


          </div>


          <div class="footer" role="contentinfo">
                &copy; Copyright: This work is licensed under a Creative Commons Attribution 3.0 Unported License.
              This page is about: current version of Chef.
            <a href="/feedback.html">Provide feedback on Chef documentation</a>.
            </div>

<!-- Start of Async Google Analytics Code -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-6369228-7', 'auto', {'legacyCookieDomain': '.chef.io', 'allowLinker': true});
  ga('send', 'pageview');

  var trackOutboundLink = function(url) {
    if (ga.q) {
     document.location = url;
    } else {
      ga('send', 'event', 'outbound', 'click', url, {'hitCallback':
        function () {
          document.location = url;
        }
      });
    }
  };
</script>
<!-- End of Async Google Analytics Code -->

<!-- Start of Marketo Analytics Code -->
<script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('255-VFB-268');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
<!-- End of Marketo Analytics Code -->

<!-- Start of DemandBase Analytics Code -->
<script type="text/javascript">
	(function(d,b,a,s,e){ var t = b.createElement(a),
		fs = b.getElementsByTagName(a)[0]; t.async=1; t.id=e;
		t.src=('https:'==document.location.protocol ? 'https://' : 'http://') + s;
		fs.parentNode.insertBefore(t, fs); })
	(window,document,'script','scripts.demandbase.com/zH7sZrWR.min.js','demandbase_js_lib');
</script>
<!-- End of DemandBase Analytics Code -->

<!-- Start of Segment Analytics Code -->
<script type="text/javascript">
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
  analytics.load("RtyoRfLf1ZETiJcIfkKND3Wq1K1LhYHx");
  analytics.page();
  }}();
</script>
<!-- End of Segment Analytics Code -->


        </div>
      </div>

      <div class="clearer"></div>
    </div>

  </div>
  </body>
</html>