<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    
    <title>Chef Analytics Rules &mdash; Chef Docs</title>
    <link rel="stylesheet" href="_static/chefv2.css" type="text/css" />
<link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
    URL_ROOT:    './',
    VERSION:     '',
    COLLAPSE_INDEX: false,
    FILE_SUFFIX: '.html',
    HAS_SOURCE:  true
  };
</script>
<script type="text/javascript" src="_static/jquery.js"></script>
<script type="text/javascript" src="_static/underscore.js"></script>
<script type="text/javascript" src="_static/doctools.js"></script>
<script type="text/javascript" src="_static/script.js"></script>

    <link rel="top" title="Chef Docs" href="index.html" />
    <link rel="next" title="Chef App for Splunk" href="analytics_splunk.html" />
    <link rel="prev" title="Chef Analytics Nodes View" href="analytics_nodes_view.html" /> 
  </head>
  <body role="document">
    <div class="body-wrap">

  <nav class="nav-main" role="navigation" data-topbar>
    <div class="nav-inner">
      <div class="left">
        <h1>
          <a href="https://learn.chef.io">
            <span>Learn Chef</span>
          </a>
        </h1>
      </div>

      <i id="nav-icon" class="fa fa-bars"></i>
      <a href="https://www.chef.io/">
        <img id="logo" src="_static/chef_logo_v2.svg" onerror="_static/chef_logo_v2.png"/>
      </a>

      <ul class="nav-links links-main">
        <li class="nav-link">
          <a href="https://learn.chef.io/tutorials">Tutorials</a>
        </li>
        <li class="nav-link">
          <a href="https://learn.chef.io/skills/">Skills Library</a>
        </li>
        <li class="nav-link is-active">
          <a href="https://docs.chef.io/">Docs</a>
        </li>
        <li class="nav-link">
          <a href="https://www.chef.io/training/">Training</a>
        </li>
      </ul>
    </div>
  </nav>





    <div class="document chef-docs">
    <nav class="nav-docs">
  <ul class="nav-docs-items" id="nav-docs-list">
    <li class="main-item dark-item docs-search">
      <form action="/search.html" method="get">
        <input type="text" placeholder="Search" id="docs-search" name="q">
        <input type="submit" class="submit-button" value="">
        <i class="fa fa-search icon-search"></i>
      </form>
   

    </li>
    
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Overview"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-home icon-left"></i> Overview <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items"> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/platform_overview.html" title="Platform Overview">
            Platform Overview
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Community">
            Community
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/community.html" title="About the Community">
                About the Community
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/community_contributions.html" title="Contributing">
                Contributing
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/community_guidelines.html" title="Guidelines">
                Guidelines
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/style_guide.html" title="Docs Style Guide">
                Docs Style Guide
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Packages &amp; Platforms">
            Packages &amp; Platforms
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/packages.html" title="Packages">
                Packages
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/platforms.html" title="Platforms">
                Platforms
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_omnitruck.html" title="Omnitruck API">
                Omnitruck API
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_license.html" title="Licensing">
                Licensing
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Chef"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-tasks icon-left"></i> Chef <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items">

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Getting Started">
            Getting Started
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_overview.html" title="Chef Overview">
                Chef Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/quick_start.html" title="Quick Start">
                Quick Start
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_system_requirements.html" title="System Requirements">
                System Requirements
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Release Notes">
                Release Notes
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/release_notes.html" title="Chef Client">
                    Chef Client
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/release_notes_chefdk.html" title="Chef Development Kit">
                    Chef Development Kit
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/release_notes_server.html" title="Chef Server">
                    Chef Server
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/release_notes_push_jobs.html" title="Chef Push Jobs">
                    Chef Push Jobs
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/release_notes_ohai.html" title="Ohai">
                    Ohai
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_deprecations_client.html" title="Deprecations">
                Deprecations
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Tutorials">
            Tutorials
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/learn-the-basics/" title="Learn the Basics">
                Learn the Basics
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/manage-a-node/" title="Manage a Node">
                Manage a Node
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/local-development/" title="Get started with Test Kitchen">
                Get started with Test Kitchen
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/manage-a-web-app/" title="Develop a web app cookbook">
                Develop a web app cookbook
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/inspec/" title="Verify with InSpec">
                Verify with InSpec
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/chefspec/" title="Unit test with ChefSpec">
                Unit test with ChefSpec
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/verify-style/" title="Verify code style">
                Verify code style
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/refactor-web-app-cookbook/" title="Refactor the web app cookbook">
                Refactor the web app cookbook
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Concepts">
            Concepts
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/workstation.html" title="Workstation">
                Workstation
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_repo.html" title="chef-repo">
                chef-repo
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/nodes.html" title="Nodes">
                Nodes
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_client.html" title="chef-client">
                chef-client
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_components.html" title="Server">
                Server
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_search.html" title="Search">
                Search
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/cookbooks.html" title="Cookbooks">
                Cookbooks
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/handlers.html" title="Handlers">
                Handlers
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/manage.html" title="Management Console">
                Management Console
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Policy">
                Policy
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/policy.html" title="About Policy">
                    About Policy
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/data_bags.html" title="Data Bags">
                    Data Bags
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/environments.html" title="Environments">
                    Environments
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/roles.html" title="Roles">
                    Roles
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/push_jobs.html" title="Push Jobs">
                Push Jobs
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/run_lists.html" title="Run-lists">
                Run-lists
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Security">
                Security
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/auth.html#authentication" title="Authentication">
                    Authentication
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/auth.html#authorization" title="Authorization">
                    Authorization
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/chef_private_keys.html" title="Private Keys">
                    Private Keys
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef_client.html#run-in-fips-mode" title="FIPS-mode">
                    FIPS-mode
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Supermarket">
                Supermarket
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/supermarket.html#public-supermarket" title="Public Supermarket">
                    Public Supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/supermarket.html#private-supermarket" title="Private Supermarket">
                    Private Supermarket
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/windows.html" title="Microsoft Windows">
                Microsoft Windows
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Appendix">
                Appendix
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/environment_variables.html" title="Env Variables">
                    Env Variables
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/errors.html" title="Troubleshooting">
                    Troubleshooting
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/glossary.html" title="Glossary">
                    Glossary
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Setup">
            Setup
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/proxies.html" title="Proxies">
                Proxies
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_dk.html" title="Workstation">
                Workstation
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Nodes">
                Nodes
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/install_bootstrap.html" title="Install via Bootstrap">
                    Install via Bootstrap
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_omnibus.html" title="Install via URL">
                    Install via URL
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_windows.html" title="Install on Windows">
                    Install on Windows
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/junos.html" title="Install on Junos OS">
                    Install on Junos OS
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef_client.html" title="chef-client (executable)">
                    chef-client (executable)
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_client.html" title="client.rb">
                    client.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/upgrade_client.html" title="Upgrades">
                    Upgrades
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/chef_client_security.html" title="Security">
                    Security
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Server">
                Server
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="https://manage.chef.io/signup" title="Hosted Chef Server">
                    Hosted Chef Server
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_server.html#standalone" title="Install Standalone">
                    Install Standalone
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_server_ha.html" title="Install High Availability">
                    Install High Availability
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/aws_marketplace.html" title="AWS Marketplace">
                    AWS Marketplace
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/azure_portal.html" title="Microsoft Azure">
                    Microsoft Azure
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/openstack.html" title="Openstack">
                    Openstack
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Supermarket">
                Supermarket
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="https://supermarket.chef.io" title="Public Supermarket">
                    Public Supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_supermarket.html" title="Install Private Supermarket">
                    Install Private Supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_supermarket.html#customize-supermarket" title="Customize Supermarket">
                    Customize Supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_supermarket.html#run-supermarket-in-kitchen" title="Run in Test Kitchen">
                    Run in Test Kitchen
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_server.html#install" title="Management Console">
                Management Console
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_push_jobs.html" title="Push Jobs">
                Push Jobs
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Integrations">
                Integrations
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/integrate_compliance_chef_server.html" title="w/Chef Compliance">
                    w/Chef Compliance
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/uninstall.html" title="Uninstall">
                Uninstall
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Cookbook Reference">
            Cookbook Reference
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/cookbooks.html" title="About Cookbooks">
                About Cookbooks
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/attributes.html" title="Attributes">
                Attributes
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/definitions.html" title="Definitions">
                Definitions
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/files.html" title="Files">
                Files
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/libraries.html" title="Libraries">
                Libraries
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Recipes">
                Recipes
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/recipes.html" title="About Recipes">
                    About Recipes
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/debug.html" title="Debug Recipes, Client Runs">
                    Debug Recipes, Client Runs
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Recipe DSL">
                Recipe DSL
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#attribute" title="attribute?">
                    attribute?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#control" title="control">
                    control
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#control-group" title="control_group">
                    control_group
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#cookbook-name" title="cookbook_name">
                    cookbook_name
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#data-bag" title="data_bag">
                    data_bag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#data-bag-item" title="data_bag_item">
                    data_bag_item
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#platform" title="platform?">
                    platform?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#platform-family" title="platform_family?">
                    platform_family?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#reboot-pending" title="reboot_pending?">
                    reboot_pending?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#recipe-name" title="recipe_name">
                    recipe_name
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-data-exists" title="registry_data_exists?">
                    registry_data_exists?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-get-subkeys" title="registry_get_subkeys">
                    registry_get_subkeys
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-get-values" title="registry_get_values">
                    registry_get_values
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-has-subkeys" title="registry_has_subkeys?">
                    registry_has_subkeys?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-key-exists" title="registry_key_exists?">
                    registry_key_exists?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-value-exists" title="registry_value_exists?">
                    registry_value_exists?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#resources" title="resources">
                    resources
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#search" title="search">
                    search
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#shell-out" title="shell_out">
                    shell_out
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#shell-out-bang" title="shell_out!">
                    shell_out!
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#shell-out-with-systems-locale" title="shell_out_with_systems_locale">
                    shell_out_with_systems_locale
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#tag-tagged-untag" title="tag">
                    tag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#tag-tagged-untag" title="tagged?">
                    tagged?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#tag-tagged-untag" title="untag">
                    untag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#value-for-platform" title="value_for_platform">
                    value_for_platform
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#value-for-platform-family" title="value_for_platform_family">
                    value_for_platform_family
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#helpers" title="Windows Platform Helpers">
                    Windows Platform Helpers
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Resources">
                Resources
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/resource.html" title="About Resources">
                    About Resources
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_common.html" title="Common Functionality">
                    Common Functionality
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/custom_resources.html" title="Custom Resources">
                    Custom Resources
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resources.html" title="All Resources (Single Page)">
                    All Resources (Single Page)
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_apt_package.html" title="apt_package">
                    apt_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_apt_repository.html" title="apt_repository">
                    apt_repository
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_apt_update.html" title="apt_update">
                    apt_update
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_bash.html" title="bash">
                    bash
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_batch.html" title="batch">
                    batch
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_bff_package.html" title="bff_package">
                    bff_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_breakpoint.html" title="breakpoint">
                    breakpoint
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_cab_package.html" title="cab_package">
                    cab_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_gem.html" title="chef_gem">
                    chef_gem
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_acl.html" title="chef_acl">
                    chef_acl
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_client.html" title="chef_client">
                    chef_client
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_container.html" title="chef_container">
                    chef_container
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_data_bag_item.html" title="chef_data_bag_item">
                    chef_data_bag_item
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_data_bag.html" title="chef_data_bag">
                    chef_data_bag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_environment.html" title="chef_environment">
                    chef_environment
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_group.html" title="chef_group">
                    chef_group
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_handler.html" title="chef_handler">
                    chef_handler
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_mirror.html" title="chef_mirror">
                    chef_mirror
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_node.html" title="chef_node">
                    chef_node
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_organization.html" title="chef_organization">
                    chef_organization
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_role.html" title="chef_role">
                    chef_role
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_user.html" title="chef_user">
                    chef_user
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chocolatey_package.html" title="chocolatey_package">
                    chocolatey_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_cookbook_file.html" title="cookbook_file">
                    cookbook_file
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_cron.html" title="cron">
                    cron
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_csh.html" title="csh">
                    csh
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_deploy.html" title="deploy">
                    deploy
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_directory.html" title="directory">
                    directory
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_dpkg_package.html" title="dpkg_package">
                    dpkg_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_dsc_resource.html" title="dsc_resource">
                    dsc_resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_dsc_script.html" title="dsc_script">
                    dsc_script
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_easy_install_package.html" title="easy_install_package">
                    easy_install_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_env.html" title="env">
                    env
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_erlang_call.html" title="erl_call">
                    erl_call
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_execute.html" title="execute">
                    execute
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_file.html" title="file">
                    file
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_freebsd_package.html" title="freebsd_package">
                    freebsd_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_gem_package.html" title="gem_package">
                    gem_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_git.html" title="git">
                    git
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_group.html" title="group">
                    group
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_homebrew_package.html" title="homebrew_package">
                    homebrew_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_http_request.html" title="http_request">
                    http_request
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ifconfig.html" title="ifconfig">
                    ifconfig
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ips_package.html" title="ips_package">
                    ips_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ksh.html" title="ksh">
                    ksh
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_launchd.html" title="launchd">
                    launchd
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_link.html" title="link">
                    link
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_log.html" title="log">
                    log
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_macports_package.html" title="macports_package">
                    macports_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_mdadm.html" title="mdadm">
                    mdadm
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_mount.html" title="mount">
                    mount
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_msu_package.html" title="msu_package">
                    msu_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ohai.html" title="ohai">
                    ohai
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_openbsd_package.html" title="openbsd_package">
                    openbsd_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_osx_profile.html" title="osx_profile">
                    osx_profile
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_package.html" title="package">
                    package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_pacman_package.html" title="pacman_package">
                    pacman_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_paludis_package.html" title="paludis_package">
                    paludis_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_perl.html" title="perl">
                    perl
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_portage_package.html" title="portage_package">
                    portage_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_powershell_script.html" title="powershell_script">
                    powershell_script
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_private_key.html" title="private_key">
                    private_key
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_public_key.html" title="public_key">
                    public_key
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_python.html" title="python">
                    python
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_reboot.html" title="reboot">
                    reboot
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_registry_key.html" title="registry_key">
                    registry_key
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_remote_directory.html" title="remote_directory">
                    remote_directory
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_remote_file.html" title="remote_file">
                    remote_file
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_route.html" title="route">
                    route
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_rpm_package.html" title="rpm_package">
                    rpm_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ruby.html" title="ruby">
                    ruby
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ruby_block.html" title="ruby_block">
                    ruby_block
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_script.html" title="script">
                    script
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_service.html" title="service">
                    service
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_smartos_package.html" title="smartos_package">
                    smartos_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_solaris_package.html" title="solaris_package">
                    solaris_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_subversion.html" title="subversion">
                    subversion
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_systemd_unit.html" title="systemd_unit">
                    systemd_unit
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_template.html" title="template">
                    template
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_user.html" title="user">
                    user
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_windows_package.html" title="windows_package">
                    windows_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_windows_service.html" title="windows_service">
                    windows_service
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_yum.html" title="yum_package">
                    yum_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_yum_repository.html" title="yum_repository">
                    yum_repository
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_examples.html" title="Examples (by Resource)">
                    Examples (by Resource)
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/templates.html" title="Templates">
                Templates
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/cookbook_repo.html" title="Cookbook Repo">
                Cookbook Repo
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_metadata.html" title="metadata.rb">
                metadata.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/cookbook_versions.html" title="Cookbook Versions">
                Cookbook Versions
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ruby.html" title="Ruby">
                Ruby
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Chef DK">
            Chef DK
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/about_chefdk.html" title="About the ChefDK">
                About the ChefDK
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/berkshelf.html" title="Berkshelf">
                Berkshelf
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_apply.html" title="chef-apply (executable)">
                chef-apply (executable)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_shell.html" title="chef-shell (executable)">
                chef-shell (executable)
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="chef (executable)">
                chef (executable)
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-env" title="chef env">
                    chef env
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-exec" title="chef exec">
                    chef exec
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-gem" title="chef gem">
                    chef gem
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-app" title="chef generate app">
                    chef generate app
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-attribute" title="chef generate attribute">
                    chef generate attribute
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-cookbook" title="chef generate cookbook">
                    chef generate cookbook
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-file" title="chef generate file">
                    chef generate file
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-lwrp" title="chef generate lwrp">
                    chef generate lwrp
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-recipe" title="chef generate recipe">
                    chef generate recipe
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-repo" title="chef generate repo">
                    chef generate repo
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-template" title="chef generate template">
                    chef generate template
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-provision" title="chef provision">
                    chef provision
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-shell-init" title="chef shell-init">
                    chef shell-init
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-verify" title="chef verify">
                    chef verify
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Chef Solo">
                Chef Solo
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/chef_solo.html" title="About Chef Solo">
                    About Chef Solo
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef_solo.html" title="chef-solo (executable)">
                    chef-solo (executable)
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_solo.html" title="solo.rb">
                    solo.rb
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_shell.html" title="chef-shell (executable)">
                chef-shell (executable)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_client.html#run-in-local-mode" title="chef-zero (local mode)">
                chef-zero (local mode)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_vault.html" title="chef-vault">
                chef-vault
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chefspec.html" title="ChefSpec">
                ChefSpec
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Configuration">
                Configuration
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/config_rb.html" title="config.rb">
                    config.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_client.html#d-directories" title="Multiple Config Files">
                    Multiple Config Files
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/cookstyle.html" title="cookstyle">
                cookstyle
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_delivery.html" title="Delivery CLI">
                Delivery CLI
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/foodcritic.html" title="Foodcritic">
                Foodcritic
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Test Kitchen">
                Test Kitchen
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/kitchen.html" title="About Test Kitchen">
                    About Test Kitchen
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_kitchen.html" title="kitchen (executable)">
                    kitchen (executable)
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_yml_kitchen.html" title=".kitchen.yml">
                    .kitchen.yml
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_kitchen_vagrant.html" title="kitchen-vagrant">
                    kitchen-vagrant
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Knife">
                Knife
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/knife.html" title="About Knife">
                    About Knife
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_common_options.html" title="Common Options">
                    Common Options
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_using.html" title="Using Knife">
                    Using Knife
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_knife.html" title="knife.rb">
                    knife.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_bootstrap.html" title="knife bootstrap">
                    knife bootstrap
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_client.html" title="knife client">
                    knife client
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_configure.html" title="knife configure">
                    knife configure
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_cookbook.html" title="knife cookbook">
                    knife cookbook
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_cookbook_site.html" title="knife cookbook site">
                    knife cookbook site
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_data_bag.html" title="knife data bag">
                    knife data bag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_delete.html" title="knife delete">
                    knife delete
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_deps.html" title="knife deps">
                    knife deps
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_diff.html" title="knife diff">
                    knife diff
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_download.html" title="knife download">
                    knife download
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_edit.html" title="knife edit">
                    knife edit
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_environment.html" title="knife environment">
                    knife environment
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_exec.html" title="knife exec">
                    knife exec
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_list.html" title="knife list">
                    knife list
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_node.html" title="knife node">
                    knife node
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_raw.html" title="knife raw">
                    knife raw
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_recipe_list.html" title="knife recipe list">
                    knife recipe list
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_role.html" title="knife role">
                    knife role
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_search.html" title="knife search">
                    knife search
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_serve.html" title="knife serve">
                    knife serve
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_show.html" title="knife show">
                    knife show
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_ssh.html" title="knife ssh">
                    knife ssh
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_ssl_check.html" title="knife ssl_check">
                    knife ssl_check
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_ssl_fetch.html" title="knife ssl_fetch">
                    knife ssl_fetch
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_status.html" title="knife status">
                    knife status
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_tag.html" title="knife tag">
                    knife tag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_upload.html" title="knife upload">
                    knife upload
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_user.html" title="knife user">
                    knife user
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_xargs.html" title="knife xargs">
                    knife xargs
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="knife opc">
                knife opc
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html" title="About knife opc">
                    About knife opc
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#knife-rb-configuration" title="knife.rb Configuration">
                    knife.rb Configuration
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-list" title="opc user list">
                    opc user list
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-show" title="opc user show">
                    opc user show
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-create" title="opc user create">
                    opc user create
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-delete" title="opc user delete">
                    opc user delete
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-edit" title="opc user edit">
                    opc user edit
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-password" title="opc user password">
                    opc user password
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-list" title="opc org list">
                    opc org list
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-show" title="opc org show">
                    opc org show
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-create" title="opc org create">
                    opc org create
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-delete" title="opc org delete">
                    opc org delete
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-user-add" title="opc org user add">
                    opc org user add
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-user-remove" title="opc org user remove">
                    opc org user remove
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_knife_spork.html" title="knife spork">
                knife spork
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="knife supermarket">
                knife supermarket
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html" title="About knife supermarket">
                    About knife supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#download" title="supermarket download">
                    supermarket download
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#install" title="supermarket install">
                    supermarket install
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#list" title="supermarket list">
                    supermarket list
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#search" title="supermarket search">
                    supermarket search
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#share" title="supermarket share">
                    supermarket share
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#show" title="supermarket show">
                    supermarket show
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#unshare" title="supermarket unshare">
                    supermarket unshare
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Ohai">
                Ohai
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/ohai.html" title="About Ohai">
                    About Ohai
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_ohai.html" title="ohai (executable)">
                    ohai (executable)
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Policyfile">
                Policyfile
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/policyfile.html" title="About Policyfile">
                    About Policyfile
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_policyfile.html" title="Policyfile.rb">
                    Policyfile.rb
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Provisioning">
                Provisioning
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/provisioning.html" title="About Provisioning">
                    About Provisioning
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_load_balancer.html" title="load_balancer resource">
                    load_balancer resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_machine.html" title="machine resource">
                    machine resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_machine_batch.html" title="machine_batch resource">
                    machine_batch resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_machine_execute.html" title="machine_execute resource">
                    machine_execute resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_machine_file.html" title="machine_file resource">
                    machine_file resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_machine_image.html" title="machine_image resource">
                    machine_image resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/provisioning_aws.html" title="AWS Driver Resources">
                    AWS Driver Resources
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/provisioning_fog.html" title="Fog Driver Resources">
                    Fog Driver Resources
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/provisioning_vagrant.html" title="Vagrant Driver Resources">
                    Vagrant Driver Resources
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_push_jobs_client.html" title="push-jobs-client (executable)">
                push-jobs-client (executable)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/rubocop.html" title="Rubocop">
                Rubocop
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Managing the Server">
            Managing the Server
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/runbook.html" title="Runbook (Single Page)">
                Runbook (Single Page)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_backup_restore.html" title="Backup &amp; Restore">
                Backup &amp; Restore
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_data.html" title="Data Storage">
                Data Storage
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_firewalls_and_ports.html" title="Firewalls &amp; Ports">
                Firewalls &amp; Ports
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_ldap.html" title="Active Directory &amp; LDAP">
                Active Directory &amp; LDAP
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_logs.html" title="Log Files">
                Log Files
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_monitor.html" title="Monitor">
                Monitor
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_orgs.html" title="Organizations &amp; Groups">
                Organizations &amp; Groups
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/secrets.html" title="Secrets">
                Secrets
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_security.html" title="Security">
                Security
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_services.html" title="Services">
                Services
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_tuning.html" title="Tuning">
                Tuning
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/upgrade_server.html" title="Upgrades">
                Upgrades
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/upgrade_server_ha_v2.html" title="Upgrade HA Cluster">
                Upgrade HA Cluster
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_users.html" title="Users">
                Users
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_server.html" title="chef-server-ctl">
                chef-server-ctl
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_backend.html" title="chef-backend-ctl">
                chef-backend-ctl
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_server.html" title="chef-server.rb">
                chef-server.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_opscode_expander.html" title="opscode-expander-ctl">
                opscode-expander-ctl
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_chef_server.html" title="Chef Server API">
                Chef Server API
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Push Jobs">
                Push Jobs
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_push_jobs.html" title="knife push jobs">
                    knife push jobs
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_push_jobs_client.html" title="push-jobs-client">
                    push-jobs-client
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_push_jobs_client.html" title="push-jobs-client.rb">
                    push-jobs-client.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_push_jobs_server.html" title="push-jobs-server.rb">
                    push-jobs-server.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/api_push_jobs.html" title="Push Jobs API">
                    Push Jobs API
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_sent_events.html" title="Server Sent Events">
                    Server Sent Events
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Supermarket">
                Supermarket
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/supermarket_logs.html" title="Log Files">
                    Log Files
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/supermarket_monitor.html" title="Monitoring">
                    Monitoring
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_supermarket.html" title="supermarket.rb">
                    supermarket.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html" title="knife supermarket">
                    knife supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_supermarket.html" title="supermarket-ctl">
                    supermarket-ctl
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/supermarket_api.html" title="Supermarket API">
                    Supermarket API
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Management Console">
                Management Console
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/server_configure_saml.html" title="Configure SAML">
                    Configure SAML
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_clients.html" title="Clients">
                    Clients
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_cookbooks.html" title="Cookbooks">
                    Cookbooks
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_data_bags.html" title="Data Bags">
                    Data Bags
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_environments.html" title="Environments">
                    Environments
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_nodes.html" title="Nodes">
                    Nodes
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_roles.html" title="Roles">
                    Roles
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_users.html#chef-manage" title="Users">
                    Users
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_manage.html" title="manage.rb">
                    manage.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_manage.html" title="chef-manage-ctl">
                    chef-manage-ctl
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Habitat"> <!-- if item has custom image -->

        <img class="icon-left" src="./_static/habitat-mark.png"></img> Habitat <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items"> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/habitat.html" title="Habitat Overview">
            Habitat Overview
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Tutorials">
            Tutorials
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://www.habitat.sh/tutorials/getting-started-overview" title="Getting started">
                Getting started
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="InSpec"> <!-- if item has custom image -->

        <img class="icon-left" src="./_static/inspec_logo.png"></img> InSpec <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items"> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/inspec.html" title="InSpec Overview">
            InSpec Overview
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Chef Automate"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-cogs icon-left"></i> Chef Automate <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items">

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Getting Started">
            Getting Started
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_automate.html" title="Chef Automate Overview">
                Chef Automate Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_chef_automate.html" title="Installation Guide">
                Installation Guide
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Tutorials">
            Tutorials
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/automate/install" title="Get Started">
                Get Started
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/automate/visibility" title="Visibility into Infrastructure">
                Visibility into Infrastructure
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/automate/deploy-cookbook/" title="Deploy with Chef Automate">
                Deploy with Chef Automate
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/compliance-assess" title="Assess for Compliance">
                Assess for Compliance
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/compliance-remediate" title="Remediate Compliance Failures">
                Remediate Compliance Failures
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Setup">
            Setup
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_pipeline.html" title="Configure a Pipeline">
                Configure a Pipeline
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_json_delivery.html" title="Configure a Project">
                Configure a Project
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/setup_visibility_chef_automate.html" title="Configure Data Collection">
                Configure Data Collection
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Concepts">
            Concepts
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2">

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Workflow">
                Workflow
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/workflow.html" title="Workflow Overview">
                    Workflow Overview
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/delivery_manage_dependencies.html" title="Manage Dependencies">
                    Manage Dependencies
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/visibility.html" title="Visibility Overview">
                Visibility Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/compliance.html" title="Compliance Overview">
                Compliance Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/ctl_delivery.html" title="Delivery CLI">
            Delivery CLI
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Integrations">
            Integrations
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_delivery_bitbucket.html" title="w/Bitbucket">
                w/Bitbucket
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_delivery_smtp.html" title="w/Email (SMTP)">
                w/Email (SMTP)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_delivery_github.html" title="w/GitHub">
                w/GitHub
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_delivery_ldap.html" title="w/LDAP">
                w/LDAP
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_chef_automate_saml.html" title="w/SAML">
                w/SAML
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_delivery_slack.html" title="w/Slack">
                w/Slack
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Cookbooks">
            Cookbooks
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_build_cookbook.html" title="build-cookbook (cookbook)">
                build-cookbook (cookbook)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_truck.html" title="delivery-truck (cookbook)">
                delivery-truck (cookbook)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/publish_cookbooks_multiple_servers.html" title="Publish to Multiple Chef Servers">
                Publish to Multiple Chef Servers
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/dsl_delivery.html" title="Workflow DSL">
            Workflow DSL
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/job_dispatch.html" title="Job Dispatch">
            Job Dispatch
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Managing the Server">
            Managing the Server
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2">

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Backups">
                Backups
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/delivery_server_backup.html#configuration" title="Configuration">
                    Configuration
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/delivery_server_backup.html#create-backups" title="Create Backups">
                    Create Backups
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/delivery_server_backup.html#list-backups" title="List Backups">
                    List Backups
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/delivery_server_backup.html#delete-backups" title="Delete Backups">
                    Delete Backups
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/delivery_server_backup.html#restore-backups" title="Restore Backups">
                    Restore Backups
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/scaling_capacity_planning_chef_automate.html" title="Capacity Planning">
                Capacity Planning
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_delivery.html" title="Chef Automate API">
                Chef Automate API
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="automate-ctl">
                automate-ctl
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#cleanse" title="cleanse">
                    cleanse
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#create-enterprise" title="create-enterprise">
                    create-enterprise
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#create-user" title="create-user">
                    create-user
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-application" title="delete-application">
                    delete-application
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-enterprise" title="delete-enterprise">
                    delete-enterprise
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-project" title="delete-project">
                    delete-project
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-user" title="delete-user">
                    delete-user
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-visibility-node" title="delete-visibility-node">
                    delete-visibility-node
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-visibility-node-by-id" title="delete-visibility-node-by-id">
                    delete-visibility-node-by-id
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#gather-logs" title="gather-logs">
                    gather-logs
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#help" title="help">
                    help
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#install-runner" title="install-runner">
                    install-runner
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#list-applications" title="list-applications">
                    list-applications
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#list-enterprises" title="list-enterprises">
                    list-enterprises
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#list-users" title="list-users">
                    list-users
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#migrate-change-description" title="migrate-change-description">
                    migrate-change-description
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#migrate-patchset-diffs" title="migrate-patchset-diffs">
                    migrate-patchset-diffs
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#preflight-check" title="preflight-check">
                    preflight-check
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#reconfigure" title="reconfigure">
                    reconfigure
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#rename-enterprise" title="rename-enterprise">
                    rename-enterprise
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#reset-password" title="reset-password">
                    reset-password
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#restore-backup" title="restore-backup">
                    restore-backup
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#revoke-token" title="revoke-token">
                    revoke-token
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#show-config" title="show-config">
                    show-config
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#uninstall" title="uninstall">
                    uninstall
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#update-project-hooks" title="update-project-hooks">
                    update-project-hooks
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_delivery.html" title="delivery.rb">
                delivery.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_server_disaster_recovery.html" title="Disaster Recovery">
                Disaster Recovery
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/elasticsearch_and_kibana_auth.html" title="Elasticsearch &amp; Kibana Auth">
                Elasticsearch &amp; Kibana Auth
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/manage_indices_chef_automate.html" title="Manage Elasticsearch Indices">
                Manage Elasticsearch Indices
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/search_query_chef_automate.html" title="Node Search Reference">
                Node Search Reference
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_manage_secrets.html" title="Secrets">
                Secrets
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/stream_data_chef_automate.html" title="Stream Data">
                Stream Data
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_server_tuning.html" title="Tuning">
                Tuning
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/upgrade_chef_automate.html" title="Upgrades">
                Upgrades
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_users_and_roles.html" title="Users &amp; Roles">
                Users &amp; Roles
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Compliance scanner">
            Compliance scanner
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/compliance.html" title="Overview">
                Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/release_notes_compliance.html" title="Release Notes">
                Release Notes
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_compliance.html" title="Installation Guide">
                Installation Guide
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_compliance_chef_server.html" title="Integrate w/Chef Server">
                Integrate w/Chef Server
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_compliance_chef_automate.html" title="Integrate w/Chef Automate">
                Integrate w/Chef Automate
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/upgrade_compliance.html" title="Upgrade Compliance">
                Upgrade Compliance
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_compliance.html" title="chef-compliance.rb">
                chef-compliance.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_compliance.html" title="Chef Compliance API">
                Chef Compliance API
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/aws_opsworks_chef_automate.html" title="AWS OpsWorks for Chef Automate">
            AWS OpsWorks for Chef Automate
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/troubleshooting_chef_automate.html" title="Troubleshooting">
            Troubleshooting
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Legacy"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-hdd-o icon-left"></i> Legacy <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items">

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Analytics">
            Analytics
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics.html" title="Overview">
                Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/release_notes_analytics.html" title="Release Notes">
                Release Notes
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_analytics.html" title="Install Standalone">
                Install Standalone
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/actions.html" title="Web UI">
                Web UI
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics_webui_tasks.html" title="Management Console">
                Management Console
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics_nodes_view.html" title="Nodes View">
                Nodes View
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics.html#integrations" title="Integrations">
                Integrations
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics_splunk.html" title="Splunk">
                Splunk
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics_rules.html" title="Rules">
                Rules
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics_monitor.html" title="Monitor">
                Monitor
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/upgrade_analytics.html" title="Upgrades">
                Upgrades
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_client_analytics.html" title="Chef Client for Analytics">
                Chef Client for Analytics
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_analytics.html" title="opscode-analytics-ctl">
                opscode-analytics-ctl
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_analytics.html" title="opscode-analytics.rb">
                opscode-analytics.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_knife_analytics.html" title="knife-analytics">
                knife-analytics
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_analytics.html" title="Analytics API">
                Analytics API
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/dsl_recipe_analytics.html" title="Recipe DSL for Analytics">
                Recipe DSL for Analytics
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Reporting">
            Reporting
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/reporting.html" title="Overview">
                Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_reporting.html" title="Install Reporting">
                Install Reporting
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_manage_reports.html" title="View Reports">
                View Reports
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_knife_reporting.html" title="knife reporting">
                knife reporting
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_reporting.html" title="opscode-reporting-ctl">
                opscode-reporting-ctl
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_reporting.html" title="opscode-reporting.rb">
                opscode-reporting.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_reporting.html" title="Reporting API">
                Reporting API
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Extension APIs"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-clone icon-left"></i> Extension APIs <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items"> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/dsl_compliance.html" title="Compliance DSL">
            Compliance DSL
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Handlers">
            Handlers
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/handlers.html#custom-handlers" title="Custom Handlers">
                Custom Handlers
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/dsl_handler.html" title="Handler DSL">
                Handler DSL
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_community.html#handlers" title="Community Handlers">
                Community Handlers
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Knife Plugins">
            Knife Plugins
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_knife.html" title="About Cloud Plugins">
                About Cloud Plugins
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_knife_custom.html" title="Custom Plugins">
                Custom Plugins
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_community.html#knife" title="Community Plugins">
                Community Plugins
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Ohai Plugins">
            Ohai Plugins
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ohai_custom.html" title="Custom Plugins">
                Custom Plugins
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_community.html#ohai" title="Community Plugins">
                Community Plugins
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/plugin_community.html#chef-client" title="Chef Client Plugins">
            Chef Client Plugins
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li> <!-- /for item in navItems -->
    
    <li class="main-item dark-item">
      <a href="https://github.com/chef/chef-web-docs" title="Available on GitHub">
        <i class="fa fa-github icon-left"></i>
        Available on GitHub
      </a>
    </li>
    <li class="main-item dark-item">
      <a href="https://www.chef.io/chef/get-chef">
        <i class="fa fa-download icon-left"></i>
        Get Chef
      </a>
    </li>
    <li class="main-item dark-item">
      <a href="https://docs.chef.io/feedback.html">
        <i class="fa fa-commenting icon-left"></i>
        Send Feedback
      </a>
    </li>
    <li class="main-item dark-item">
      <a href="https://www.chef.io/support/">
        <i class="fa fa-support icon-left"></i>
        Support
      </a>
    </li>
    <li class="main-item dark-item">
      <a href="https://docs.chef.io/index.html">
        <i class="fa fa-map-o icon-left"></i>
        Site Map
      </a>
    </li>
    <li class="main-item dark-item">
      <a href="https://docs-archive.chef.io/">
        <i class="fa fa-archive icon-left"></i>
        Archive
      </a>
    </li>
  </ul>
</nav>
      <div class="documentwrapper"><div class="sphinxsidebar" role="navigation" aria-label="main navigation">
  <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Chef Analytics Rules</a><ul>
<li><a class="reference internal" href="#rule-syntax">Rule Syntax</a><ul>
<li><a class="reference internal" href="#message-types">Message Types</a></li>
<li><a class="reference internal" href="#when">when</a><ul>
<li><a class="reference internal" href="#expressions">Expressions</a></li>
</ul>
</li>
<li><a class="reference internal" href="#then">then</a></li>
<li><a class="reference internal" href="#otherwise">otherwise</a></li>
<li><a class="reference internal" href="#with-priority">with priority</a></li>
<li><a class="reference internal" href="#comments">Comments</a></li>
<li><a class="reference internal" href="#whitespace">Whitespace</a></li>
<li><a class="reference internal" href="#strings">Strings</a></li>
<li><a class="reference internal" href="#numbers">Numbers</a></li>
<li><a class="reference internal" href="#regular-expressions">Regular Expressions</a></li>
<li><a class="reference internal" href="#nested-fields-arrays">Nested Fields, Arrays</a></li>
</ul>
</li>
<li><a class="reference internal" href="#message-fields">Message Fields</a><ul>
<li><a class="reference internal" href="#actions">actions</a></li>
<li><a class="reference internal" href="#run-control">run_control</a></li>
<li><a class="reference internal" href="#run-control-group">run_control_group</a></li>
<li><a class="reference internal" href="#run-converge">run_converge</a></li>
<li><a class="reference internal" href="#run-resource">run_resource</a></li>
<li><a class="reference internal" href="#run-start">run_start</a></li>
</ul>
</li>
<li><a class="reference internal" href="#functions">Functions</a><ul>
<li><a class="reference internal" href="#alert-level">alert:&lt;level&gt;()</a></li>
<li><a class="reference internal" href="#array-contains">array:contains()</a></li>
<li><a class="reference internal" href="#datetime-component">datetime:component()</a></li>
<li><a class="reference internal" href="#get">get()</a></li>
<li><a class="reference internal" href="#log">log()</a></li>
<li><a class="reference internal" href="#mustache-template">mustache_template()</a></li>
<li><a class="reference internal" href="#notify">notify()</a></li>
<li><a class="reference internal" href="#set">set()</a></li>
</ul>
</li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#always-run-a-rule">Always Run a Rule</a></li>
<li><a class="reference internal" href="#raise-audit">Raise Audit</a></li>
<li><a class="reference internal" href="#send-a-notification">Send a Notification</a></li>
<li><a class="reference internal" href="#id1">Regular Expressions</a></li>
<li><a class="reference internal" href="#notify-on-port-23">Notify on Port 23</a></li>
<li><a class="reference internal" href="#user-defined-values">User-defined Values</a></li>
<li><a class="reference internal" href="#verify-dates">Verify Dates</a></li>
<li><a class="reference internal" href="#verify-resource-updates">Verify Resource Updates</a></li>
<li><a class="reference internal" href="#verify-run-lists">Verify Run-lists</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
</div>
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="chef-analytics-rules">
<h1>Chef Analytics Rules<a class="headerlink" href="#chef-analytics-rules" title="Permalink to this headline"></a></h1>
<p><a class="reference external" href="https://github.com/chef/chef-web-docs/blob/master/chef_master/source/analytics_rules.rst">[edit on GitHub]</a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This topic is meant to support existing customers using Analytics. The visibility capabilities of Chef Automate replace the features and functionality of Chef Analytics and we encourage customers to adopt Chef Automate going forward.</p>
</div>
<p>Chef Analytics includes a powerful rules processing system that allows notifications to be generated based on observed events in the data stream, such as:</p>
<ul class="simple">
<li>Cookbook uploads</li>
<li>Modifications to environments</li>
<li>Machines on which chef-client runs have failed</li>
<li>Machines on which audit-mode runs have failed</li>
<li>Resources that were updated as a result of a chef-client run</li>
</ul>
<p>Notifications may be sent to any email address, a chat service like HipChat or Slack, or to a webhook-based service for generic intergrations.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This feature is included as part of the Chef Automate license agreement and is <a class="reference external" href="https://www.chef.io/pricing/">available via subscription</a>.</p>
</div>
<div class="section" id="rule-syntax">
<h2>Rule Syntax<a class="headerlink" href="#rule-syntax" title="Permalink to this headline"></a></h2>
<p>The syntax for a Chef Analytics rule is as follows:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>rules &#39;name&#39;
  with priority=n
  rule &#39;name&#39; on message_type
  when
    // comment
    function()
  then
    // comment
    function()
  otherwise
    // comment
    function()
  end

  rule ...
    ...
  end

  ...
end
</pre></div>
</div>
<p>where:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">rules</span></tt> defines a rules group which is comprised of individual rules (<tt class="docutils literal"><span class="pre">rule</span></tt>)</li>
<li><tt class="docutils literal"><span class="pre">rule</span></tt> defines an individual rule; each rule must be contained in its own <tt class="docutils literal"><span class="pre">rule</span></tt> block</li>
<li><tt class="docutils literal"><span class="pre">with</span> <span class="pre">priority=n</span></tt> is a positive or negative integer that defines the relative priority of a rules group as compared to all other rules groups</li>
<li><tt class="docutils literal"><span class="pre">'name'</span></tt> is name of the rule group and/or the name of the rule; required for <tt class="docutils literal"><span class="pre">rules</span></tt>, optional for each <tt class="docutils literal"><span class="pre">rule</span></tt></li>
<li><tt class="docutils literal"><span class="pre">message_type</span></tt> is one of the following: <tt class="docutils literal"><span class="pre">action</span></tt>, <tt class="docutils literal"><span class="pre">run_control</span></tt>, <tt class="docutils literal"><span class="pre">run_control_group</span></tt>, <tt class="docutils literal"><span class="pre">run_converge</span></tt>, <tt class="docutils literal"><span class="pre">run_resource</span></tt>, or <tt class="docutils literal"><span class="pre">run_start</span></tt></li>
<li><tt class="docutils literal"><span class="pre">when</span></tt> is a series of evaluations that result in <tt class="docutils literal"><span class="pre">true</span></tt> or <tt class="docutils literal"><span class="pre">false</span></tt></li>
<li><tt class="docutils literal"><span class="pre">then</span></tt> is a comma-separated group of statements that are used to test data</li>
<li><tt class="docutils literal"><span class="pre">otherwise</span></tt> is a comma-separated group of statements that are used to test data</li>
<li><tt class="docutils literal"><span class="pre">function()</span></tt> is a statement that tests a value in the JSON object; functions may be one of <tt class="docutils literal"><span class="pre">array:contains()</span></tt>, <tt class="docutils literal"><span class="pre">alert:&lt;level&gt;()</span></tt>, <tt class="docutils literal"><span class="pre">datetime:component()</span></tt>, <tt class="docutils literal"><span class="pre">get()</span></tt>, <tt class="docutils literal"><span class="pre">log()</span></tt>, or <tt class="docutils literal"><span class="pre">mustache_template()</span></tt>. (See &#8220;Functions&#8221; below for more information about the individual functions.)</li>
<li>A comment starts with two forward slashes&#8211;<tt class="docutils literal"><span class="pre">//</span></tt>&#8212;and continues to the end of the line on which the comment begins</li>
<li>Whitespace is ignored by the rules parser unless it contained within single- or double-quoted strings. For example, the parser will preserve the white space in <tt class="docutils literal"><span class="pre">'white</span> <span class="pre">space'</span></tt> and <tt class="docutils literal"><span class="pre">&quot;white</span> <span class="pre">space&quot;</span></tt></li>
</ul>
<div class="section" id="message-types">
<span id="analytics-rules-message-types"></span><h3>Message Types<a class="headerlink" href="#message-types" title="Permalink to this headline"></a></h3>
<p>Each individual <tt class="docutils literal"><span class="pre">rule</span></tt> must be associated with a specific message type. As a rule is triggered during the chef-client run, a message is sent to the Chef Analytics server. A rule may be configured to send notifications about a message to recipients that are located outside of the Chef Analytics server.</p>
<p>A message type must be one of the following:</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Message Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">action</span></tt></td>
<td>Use to build rules for messages about actions that occur on the Chef server.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">run_control</span></tt></td>
<td>Use to build rules for a single audit to be evaluated.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">run_control_group</span></tt></td>
<td>Use to build rules for a group of audits to be evaluated.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">run_converge</span></tt></td>
<td>Use to build rules for messages that are sent at the end of a chef-client run.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">run_resource</span></tt></td>
<td>Use to build rules for messages that are sent as each resource is converged during a chef-client run.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">run_start</span></tt></td>
<td>Use to build rules for messages that are sent at the start of a chef-client run.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="when">
<h3>when<a class="headerlink" href="#when" title="Permalink to this headline"></a></h3>
<p>Use <tt class="docutils literal"><span class="pre">when</span></tt> to define an expression. Multiple expressions may be joined using <tt class="docutils literal"><span class="pre">and</span></tt> and <tt class="docutils literal"><span class="pre">or</span></tt>. Expressions may be grouped using parentheses (<tt class="docutils literal"><span class="pre">(</span> <span class="pre">)</span></tt>). Expressions may use nested function calls on either side of the expression. The following operators may be used:</p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="95%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operator</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">=</span></tt></td>
<td>equal to</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">!=</span></tt></td>
<td>not equal to</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">&gt;</span></tt></td>
<td>greater than</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">&lt;</span></tt></td>
<td>less than</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">&gt;=</span></tt></td>
<td>greater than or equal to; also known as &#8220;optimistically greater than&#8221;, or &#8220;optimistic&#8221;</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">&lt;=</span></tt></td>
<td>less than or equal to</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">=~</span></tt></td>
<td>a regular expression</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">not</span></tt></td>
<td>negates the expression</td>
</tr>
</tbody>
</table>
<p>For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">rule</span> <span class="n">on</span> <span class="n">action</span> <span class="k">when</span>
  <span class="n">max</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="n">data</span><span class="o">.</span><span class="n">some_value</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="k">then</span>
  <span class="n">set</span><span class="p">(</span><span class="c1">#some_value, data.some_other_value)</span>
<span class="k">end</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">rule</span> <span class="n">on</span> <span class="n">action</span> <span class="k">when</span>
  <span class="n">some_value</span> <span class="o">&gt;</span> <span class="mi">1000</span> <span class="ow">and</span>
    <span class="p">(</span><span class="n">max</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">some_other_value</span><span class="p">,</span> <span class="n">max</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="n">data</span><span class="o">.</span><span class="n">max_field</span><span class="p">))</span> <span class="o">=</span> <span class="mi">1000</span> <span class="ow">or</span> <span class="n">data</span><span class="o">.</span><span class="n">foo</span><span class="o">=</span><span class="s1">&#39;Some Value&#39;</span><span class="p">)</span>
<span class="k">then</span>
  <span class="n">set</span><span class="p">(</span><span class="c1">#some_value, data.some_other_value)</span>
<span class="k">end</span>
</pre></div>
</div>
<div class="section" id="expressions">
<h4>Expressions<a class="headerlink" href="#expressions" title="Permalink to this headline"></a></h4>
<p>An expression defines a specific test in a rule and uses fields within the expression that are specific to the message type for the rule. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">total_resource_count</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span>
<span class="n">updated_resource_count</span> <span class="o">&gt;</span> <span class="mi">0</span>
</pre></div>
</div>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">array</span><span class="p">:</span><span class="n">contains</span><span class="p">(</span><span class="n">run_list</span><span class="p">,</span> <span class="s1">&#39;role[opscode-reporting]&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>where both <tt class="docutils literal"><span class="pre">total_resource_count</span></tt>, <tt class="docutils literal"><span class="pre">updated_resource_count</span></tt>, and <tt class="docutils literal"><span class="pre">run_list</span></tt> are the <a class="reference internal" href="#analytics-rules-message-types"><em>fields specific to a message type</em></a>.</p>
</div>
</div>
<div class="section" id="then">
<h3>then<a class="headerlink" href="#then" title="Permalink to this headline"></a></h3>
<p>Use the <tt class="docutils literal"><span class="pre">then</span></tt> statement to specify what to do when a rule in the <tt class="docutils literal"><span class="pre">when</span></tt> statement is matched. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">rule</span> <span class="n">on</span> <span class="n">action</span> <span class="k">when</span>
  <span class="n">data</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;app1&#39;</span>
<span class="k">then</span>
  <span class="n">set</span><span class="p">(</span><span class="c1">#foo, &#39;100&#39;)</span>
<span class="k">end</span>
</pre></div>
</div>
<p>When the name matches <tt class="docutils literal"><span class="pre">app1</span></tt>, <tt class="docutils literal"><span class="pre">#foo</span></tt> will be set to <tt class="docutils literal"><span class="pre">100</span></tt>.</p>
</div>
<div class="section" id="otherwise">
<h3>otherwise<a class="headerlink" href="#otherwise" title="Permalink to this headline"></a></h3>
<p>Use the <tt class="docutils literal"><span class="pre">otherwise</span></tt> statement to specify what to do when a rule in the <tt class="docutils literal"><span class="pre">when</span></tt> statement is matched, but is not handled by the <tt class="docutils literal"><span class="pre">then</span></tt> statement. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">rule</span> <span class="n">on</span> <span class="n">action</span> <span class="k">when</span>
  <span class="n">data</span><span class="o">.</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;app1&#39;</span>
<span class="k">then</span>
  <span class="n">set</span><span class="p">(</span><span class="c1">#foo, &#39;100&#39;)</span>
<span class="n">otherwise</span>
  <span class="n">set</span><span class="p">(</span><span class="c1">#foo, &#39;200&quot;)</span>
<span class="k">end</span>
</pre></div>
</div>
<p>When the name matches <tt class="docutils literal"><span class="pre">app1</span></tt>, <tt class="docutils literal"><span class="pre">#foo</span></tt> will be set to <tt class="docutils literal"><span class="pre">100</span></tt> and if the name does not match <tt class="docutils literal"><span class="pre">app1</span></tt>, <tt class="docutils literal"><span class="pre">#foo</span></tt> will be set to <tt class="docutils literal"><span class="pre">200</span></tt>.</p>
</div>
<div class="section" id="with-priority">
<h3>with priority<a class="headerlink" href="#with-priority" title="Permalink to this headline"></a></h3>
<p>Use the <tt class="docutils literal"><span class="pre">with</span> <span class="pre">priority</span></tt> statement to specify a positive or negative integer that defines the relative priority of a rules group as compared to all other rules groups. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">rules</span> <span class="s1">&#39;rule name&#39;</span>
  <span class="n">with</span> <span class="n">priority</span><span class="o">=</span><span class="mi">100</span>
    <span class="n">rule</span> <span class="n">on</span> <span class="n">action</span> <span class="o">...</span>
  <span class="o">...</span>
<span class="k">end</span>
</pre></div>
</div>
<p>A rules group with a higher integer value will have priority over any rules groups with lower integer values.</p>
</div>
<div class="section" id="comments">
<h3>Comments<a class="headerlink" href="#comments" title="Permalink to this headline"></a></h3>
<p>Use a comment to document the behavior of the rules. A comment starts with a double forward slash&#8212;<tt class="docutils literal"><span class="pre">//</span></tt>&#8212;and continues to the end of the line on which the comment started. For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">rules</span> <span class="s1">&#39;user-agent matching&#39;</span>
  <span class="nx">rule</span> <span class="nx">on</span> <span class="nx">action</span>
  <span class="nx">when</span>
    <span class="c1">// this rule always matches</span>
    <span class="kc">true</span>
  <span class="nx">then</span>
    <span class="c1">// raise an audit for every action</span>
    <span class="nx">alert</span><span class="o">:</span><span class="nx">info</span><span class="p">(</span><span class="s1">&#39;This rule matches all actions&#39;</span><span class="p">)</span>
  <span class="nx">end</span>
<span class="nx">end</span>
</pre></div>
</div>
</div>
<div class="section" id="whitespace">
<h3>Whitespace<a class="headerlink" href="#whitespace" title="Permalink to this headline"></a></h3>
<p>Whitespace is ignored by the rules parser unless it is contained within single- or double-quotes. For example, the following rules are parsed the same way:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">rules</span> <span class="s1">&#39;rule&#39;</span>
  <span class="n">rule</span> <span class="n">on</span> <span class="n">action</span>
  <span class="k">when</span>
    <span class="kp">true</span>
  <span class="k">then</span>
    <span class="ss">alert</span><span class="p">:</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<p>and:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">rules</span> <span class="s1">&#39;rule&#39;</span> <span class="n">rule</span> <span class="n">on</span> <span class="n">action</span> <span class="k">when</span> <span class="kp">true</span> <span class="k">then</span> <span class="ss">audit</span><span class="p">:</span><span class="n">info</span><span class="p">(</span><span class="s1">&#39;string&#39;</span><span class="p">)</span> <span class="k">end</span> <span class="k">end</span>
</pre></div>
</div>
<p>The rules parser does not ignore spaces that are contained within single- or double-quotes. For example</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="s1">&#39;This is a string. The parser will not ignore the whitespace.&#39;</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="s2">&quot;This is a string. The parser will not ignore the whitespace.&quot;</span>
</pre></div>
</div>
</div>
<div class="section" id="strings">
<h3>Strings<a class="headerlink" href="#strings" title="Permalink to this headline"></a></h3>
<p>A string must be contained in single- or double-quotes and may contain any valid UTF-8 character. For example, a single-quoted string:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="s1">&#39;A string.&#39;</span>
</pre></div>
</div>
<p>or a double-quoted string:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="s2">&quot;A string.&quot;</span>
</pre></div>
</div>
<p>or a valid UTF-8 character:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="s2">&quot;&quot;</span>
</pre></div>
</div>
<p>Use a backslash&#8212;<tt class="docutils literal"><span class="pre">\</span></tt>&#8212;to escape single-quotes that must appear within a single-quoted string. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="s1">&#39;This is a string with \&#39;escaped single quotes\&#39;.&#39;</span>
</pre></div>
</div>
<p>to escape double-quotes that must appear within a double-quoted string:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="s2">&quot;This is a string with </span><span class="se">\&quot;</span><span class="s2">escaped double quotes</span><span class="se">\&quot;</span><span class="s2">.&quot;</span>
</pre></div>
</div>
<p>Single-quotes that appear within a double-quoted string do not need to be escaped. Double-quotes that appear in a single-quoted string do not need to be escaped.</p>
<p>For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">rules</span> <span class="s1">&#39;string example&#39;</span>
  <span class="nx">rule</span> <span class="nx">on</span> <span class="nx">action</span>
  <span class="nx">when</span>
    <span class="c1">// this rule always matches</span>
    <span class="kc">true</span>
  <span class="nx">then</span>
    <span class="c1">// single quoted string,</span>
    <span class="nx">alert</span><span class="o">:</span><span class="nx">info</span><span class="p">(</span><span class="s1">&#39;This rule matches all \&#39;action\&#39; messages&#39;</span><span class="p">)</span>
  <span class="nx">end</span>
<span class="nx">end</span>
</pre></div>
</div>
</div>
<div class="section" id="numbers">
<h3>Numbers<a class="headerlink" href="#numbers" title="Permalink to this headline"></a></h3>
<p>Numbers may be positive or negative integers or floating point values.</p>
<ul class="simple">
<li>The valid range for integers is <tt class="docutils literal"><span class="pre">-9223372036854775808</span></tt> to <tt class="docutils literal"><span class="pre">9223372036854775807</span></tt></li>
<li>The valid range for floating point numbers is <tt class="docutils literal"><span class="pre">4.9E-324</span></tt> to <tt class="docutils literal"><span class="pre">1.7976931348623157E308</span></tt>; scientific notation is not supported and rounding will occur outside of this range</li>
</ul>
<p>Numbers may be compared with the following operators:</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Operator</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">=</span></tt></td>
<td>Equality.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">!=</span></tt></td>
<td>Inequality.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">&gt;</span></tt></td>
<td>Greater than.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">&gt;=</span></tt></td>
<td>Greater than equal.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">&lt;</span></tt></td>
<td>Less than.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">&lt;=</span></tt></td>
<td>Less than equal.</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If a number is compared to a non-number, the rule will not match and an error is logged.</p>
</div>
<p>For example, all of the following are valid numbers:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="mi">1</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="o">-</span><span class="mi">99999999</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="o">.</span><span class="mi">99999</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="o">-</span><span class="mi">999999</span><span class="o">.</span><span class="mo">000123</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>rules <span class="s1">&#39;Match control groups with failures&#39;</span>
  rule on run control group
    when
      <span class="nv">name</span> <span class="o">=</span> <span class="s1">&#39;mysql audit&#39;</span> and number_failed &gt; 0
    <span class="k">then</span>
      alert:error<span class="o">(</span><span class="s1">&#39;Control group failures detected&#39;</span><span class="o">)</span>
  end
end
</pre></div>
</div>
</div>
<div class="section" id="regular-expressions">
<h3>Regular Expressions<a class="headerlink" href="#regular-expressions" title="Permalink to this headline"></a></h3>
<p>Use a regular expression to define a search pattern to match against a rule. Use the <tt class="docutils literal"><span class="pre">=~</span></tt> operator to define the regular expression:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">string_to_match</span> <span class="o">=~</span> <span class="n">regular_expression</span>
</pre></div>
</div>
<p>For example:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">rules</span> <span class="s1">&#39;regex demo&#39;</span>
  <span class="nx">rule</span> <span class="nx">on</span> <span class="nx">action</span>
    <span class="nx">when</span>
      <span class="c1">// match if the user_agent starts with the string &#39;Chef Manage&#39;</span>
      <span class="nx">user_agent</span> <span class="o">=~</span> <span class="s1">&#39;Chef Manage.*&#39;</span>
    <span class="nx">or</span>
      <span class="c1">// match 1 or more lower case characters followed by a single digit</span>
      <span class="nx">entity_name</span> <span class="o">=~</span> <span class="s1">&#39;[a-z]+\d&#39;</span>
    <span class="nx">then</span>
      <span class="nx">nofity</span><span class="p">(</span><span class="s1">&#39;my_webhook&#39;</span><span class="p">)</span>
  <span class="nx">end</span>
<span class="nx">end</span>
</pre></div>
</div>
<p>Use the following to match contstructs:</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Construct</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">x</span></tt></td>
<td>Use to match the <tt class="docutils literal"><span class="pre">x</span></tt> character.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">\</span></tt></td>
<td>Use to match the backslash character.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">\t</span></tt></td>
<td>Use to match the tab character (<tt class="docutils literal"><span class="pre">'\u0009'</span></tt>).</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">\n</span></tt></td>
<td>Use to match the newline (line feed) character (<tt class="docutils literal"><span class="pre">'\u000A'</span></tt>).</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">\r</span></tt></td>
<td>Use to match the carriage-return character (<tt class="docutils literal"><span class="pre">'\u000D'</span></tt>).</td>
</tr>
</tbody>
</table>
<p>Use the following to match characters:</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Characters</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">[abc]</span></tt></td>
<td>Use to match a, b, or c.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">[^abc]</span></tt></td>
<td>Use to match any character except a, b, or c.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">[a-zA-Z]</span></tt></td>
<td>Use to match a through z or A through Z, inclusive.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">.</span></tt></td>
<td>Use to match any character or a line terminator.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">\d</span></tt></td>
<td>Use to match a digit. For example: <tt class="docutils literal"><span class="pre">[0-9]</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">\D</span></tt></td>
<td>Use to match a non-digit. For example: <tt class="docutils literal"><span class="pre">[^0-9]</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">\s</span></tt></td>
<td>Use to match a whitespace character. For example: <tt class="docutils literal"><span class="pre">[</span> <span class="pre">\t\n\x0B\f\r]</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">\S</span></tt></td>
<td>Use to match a non-whitespace character. For example: <tt class="docutils literal"><span class="pre">[^\s]</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">\w</span></tt></td>
<td>Use to match a word character. For example: <tt class="docutils literal"><span class="pre">[a-zA-Z_0-9]</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">\W</span></tt></td>
<td>Use to match a non-word character. For example: <tt class="docutils literal"><span class="pre">[^\w]</span></tt>.</td>
</tr>
</tbody>
</table>
<p>Use the following to match boundaries:</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Boundary</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">^</span></tt></td>
<td>Use to match the beginning of a line.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">$</span></tt></td>
<td>Use to match the end of a line.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">\b</span></tt></td>
<td>Use to match a word boundary.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">\B</span></tt></td>
<td>Use to match a non-word boundary.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="nested-fields-arrays">
<h3>Nested Fields, Arrays<a class="headerlink" href="#nested-fields-arrays" title="Permalink to this headline"></a></h3>
<p>Some messages that contain nested fields or arrays.</p>
<ul class="simple">
<li>Use dot syntax&#8212;<tt class="docutils literal"><span class="pre">.foo</span></tt>&#8212;to access integer values in nested fields.</li>
<li>Use square bracket syntax&#8212;<tt class="docutils literal"><span class="pre">[index]</span></tt>&#8212;to access integer values in arrays.</li>
</ul>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If the field does not exist, the rule will return false.</p>
</div>
<p>For example, accessing integer values in a nested field:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">rules</span> <span class="s1">&#39;Control group matches&#39;</span>
  <span class="nx">rule</span> <span class="nx">on</span> <span class="nx">run</span> <span class="nx">control</span> <span class="nx">group</span>
    <span class="nx">when</span>
      <span class="nx">run</span><span class="p">.</span><span class="nx">chef_server_fqdn</span> <span class="o">=</span> <span class="s1">&#39;mysql.production.foo.com&#39;</span>
    <span class="nx">or</span>
      <span class="c1">// any node_name with &#39;production&#39; in it&#39;s name</span>
      <span class="nx">run</span><span class="p">.</span><span class="nx">node_name</span> <span class="o">=~</span> <span class="s1">&#39;.*production.*&#39;</span>
    <span class="nx">then</span>
      <span class="nx">alert</span><span class="o">:</span><span class="nx">info</span><span class="p">(</span><span class="s1">&#39;production control group match&#39;</span><span class="p">)</span>
  <span class="nx">end</span>
<span class="nx">end</span>
</pre></div>
</div>
<p>And accessing integer values in an array:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="nx">rules</span> <span class="s1">&#39;Run resource matches&#39;</span>
  <span class="nx">rule</span> <span class="nx">on</span> <span class="nx">run</span> <span class="nx">resource</span>
    <span class="nx">when</span>
      <span class="nx">converge</span><span class="p">.</span><span class="nx">run_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;role[opscode-reporting]&#39;</span>
    <span class="nx">or</span>
      <span class="nx">some_other</span><span class="p">.</span><span class="nx">property</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">another_property</span><span class="p">[</span><span class="mi">99</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">100</span>
    <span class="nx">then</span>
      <span class="nx">alert</span><span class="o">:</span><span class="nx">error</span><span class="p">(</span><span class="s1">&#39;Run resource match&#39;</span><span class="p">)</span>
  <span class="nx">end</span>
<span class="nx">end</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="message-fields">
<h2>Message Fields<a class="headerlink" href="#message-fields" title="Permalink to this headline"></a></h2>
<p>The following sections describe the fields that may be used for each of
the specific message types.</p>
<div class="section" id="actions">
<h3>actions<a class="headerlink" href="#actions" title="Permalink to this headline"></a></h3>
<p>The following fields are available for the <tt class="docutils literal"><span class="pre">action</span></tt> message type:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="12%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">entity_name</span></tt></td>
<td>string</td>
<td>The name of the entity. For example: <tt class="docutils literal"><span class="pre">'app1'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">entity_type</span></tt></td>
<td>string</td>
<td>The type of entity. For example: <tt class="docutils literal"><span class="pre">'node'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">id</span></tt></td>
<td>string</td>
<td>The globaly-unique identifier for this message. For example: <tt class="docutils literal"><span class="pre">'12345678-9012-3456-7890-12345678901211'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">organization_name</span></tt></td>
<td>string</td>
<td>The short name of the organization to which the node belongs. For example: <tt class="docutils literal"><span class="pre">'chef'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">parent_name</span></tt></td>
<td>string</td>
<td>The name of the parent entity. For example: <tt class="docutils literal"><span class="pre">'apache2'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">parent_type</span></tt></td>
<td>string</td>
<td>The type of entity of the parent entity. For example: <tt class="docutils literal"><span class="pre">'cookbook'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">recorded_at</span></tt></td>
<td>string</td>
<td>The ISO timestamp at which the action occurred. For example: <tt class="docutils literal"><span class="pre">'2014-06-05T10:34:35Z'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">remote_hostname</span></tt></td>
<td>string</td>
<td>The IP address from which the action was initiated. For example: <tt class="docutils literal"><span class="pre">'127.0.0.1'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">remote_request_id</span></tt></td>
<td>string</td>
<td>The request identifier generated by the remote client. For example: <tt class="docutils literal"><span class="pre">'12345678-9012-3456-7890-12345678901211'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">request_id</span></tt></td>
<td>string</td>
<td>The Chef server request identifier. For example: <tt class="docutils literal"><span class="pre">'tG3MRbYB7NFWjFU8shs1YeSxq8CIIMJudpnHJXDnWEWzFSVW'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">requestor_name</span></tt></td>
<td>string</td>
<td>The name of the chef-client or user that initiated the action. For example: <tt class="docutils literal"><span class="pre">'grantmc'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">requestor_type</span></tt></td>
<td>string</td>
<td>Indicates if the requestor was a chef-client or a user. For example: <tt class="docutils literal"><span class="pre">'user'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">service_hostname</span></tt></td>
<td>string</td>
<td>The FQDN for the Chef server against which the instance is running. For example: <tt class="docutils literal"><span class="pre">'api.chef.io'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">task</span></tt></td>
<td>string</td>
<td>The description of the action that was performed. For example: <tt class="docutils literal"><span class="pre">delete</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">user_agent</span></tt></td>
<td>string</td>
<td>The User-Agent of the requestor. For example: <tt class="docutils literal"><span class="pre">'Chef</span> <span class="pre">Client/12.0.2</span> <span class="pre">(ruby-2.0.0-p598;</span> <span class="pre">x86_64-linux;</span> <span class="pre">+http://chef.io)'</span></tt>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="run-control">
<h3>run_control<a class="headerlink" href="#run-control" title="Permalink to this headline"></a></h3>
<p>The following fields are available for the <tt class="docutils literal"><span class="pre">run_control</span></tt> message type:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="12%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">context</span></tt></td>
<td>array</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">control_group</span></tt></td>
<td>object</td>
<td>A JSON object that contains the control group identifier, the name of the control group, the number of tests that passed and failed, and its final status.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">control_group.control_group_id</span></tt></td>
<td>string</td>
<td>The identifier of the control group object. For example: <tt class="docutils literal"><span class="pre">'12345678-9012-3456-7890-12345678901211'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">control_group.name</span></tt></td>
<td>string</td>
<td>The name of the control group. For example: <tt class="docutils literal"><span class="pre">'mysql</span> <span class="pre">audit'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">control_group.number_failed</span></tt></td>
<td>integer</td>
<td>The number of tests within the control group that failed. For example: <tt class="docutils literal"><span class="pre">7</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">control_group.number_succeeded</span></tt></td>
<td>integer</td>
<td>The number of tests within the control group that passed. For example: <tt class="docutils literal"><span class="pre">4</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">control_group.status</span></tt></td>
<td>string</td>
<td>The status of the control group. For example: <tt class="docutils literal"><span class="pre">'success'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">details</span></tt></td>
<td>[&#8220;string&#8221;, &#8220;null&#8221;]</td>
<td>Details about the control object.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">id</span></tt></td>
<td>string</td>
<td>The globaly-unique identifier for this message. For example: <tt class="docutils literal"><span class="pre">'12345678-9012-3456-7890-12345678901211'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">name</span></tt></td>
<td>string</td>
<td>The name of the control object. For example: <tt class="docutils literal"><span class="pre">'should</span> <span class="pre">be</span> <span class="pre">installed'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">organization_name</span></tt></td>
<td>string</td>
<td>The short name of the organization to which the node belongs. For example: <tt class="docutils literal"><span class="pre">'chef'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">resource_name</span></tt></td>
<td>[&#8220;string&#8221;, &#8220;null&#8221;]</td>
<td>The name of the resource in which the control object is present. For example: <tt class="docutils literal"><span class="pre">'mysql'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">resource_type</span></tt></td>
<td>[&#8220;string&#8221;, &#8220;null&#8221;]</td>
<td>The resource type for the control object. For example: <tt class="docutils literal"><span class="pre">'Package'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">run</span></tt></td>
<td>object</td>
<td>A JSON object that contains run data, including the chef-client run identifier, the FQDN for the Chef server, the name of the node, and the times at which the chef-client started and finished.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">run.chef_server_fqdn</span></tt></td>
<td>string</td>
<td>The FQDN for the Chef server against which the instance is running. For example: <tt class="docutils literal"><span class="pre">'api.chef.io'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">run.end_time</span></tt></td>
<td>string</td>
<td>The ISO timestamp at which the chef-client run finished. For example: <tt class="docutils literal"><span class="pre">'2014-06-05T10:39:43Z'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">run.node_name</span></tt></td>
<td>string</td>
<td>The name of the node on which the chef-client run occurred. For example: <tt class="docutils literal"><span class="pre">'grantmc01-abc'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">run.run_id</span></tt></td>
<td>string</td>
<td>The internal message identifier for the chef-client run. For example: <tt class="docutils literal"><span class="pre">'12345678-9012-3456-7890-12345678901211'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">run.start_time</span></tt></td>
<td>string</td>
<td>The ISO timestamp at which the chef-client run started. For example: <tt class="docutils literal"><span class="pre">'2014-06-05T10:34:35Z'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">sequence_number</span></tt></td>
<td>integer</td>
<td>The sequence number at which the resource converged. For example: <tt class="docutils literal"><span class="pre">2</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">status</span></tt></td>
<td>string</td>
<td>The status of the control object. For example: <tt class="docutils literal"><span class="pre">'success'</span></tt>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="run-control-group">
<h3>run_control_group<a class="headerlink" href="#run-control-group" title="Permalink to this headline"></a></h3>
<p>The following fields are available for the <tt class="docutils literal"><span class="pre">run_control_group</span></tt> message type:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="12%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">error</span></tt></td>
<td>string</td>
<td><p class="first">The error reported by the chef-client. For example:</p>
<div class="last highlight-javascript"><div class="highlight"><pre><span></span><span class="s2">&quot;error&quot;</span><span class="o">:</span> <span class="p">{</span>
  <span class="s2">&quot;class&quot;</span><span class="o">:</span> <span class="s2">&quot;#&lt;TypeError: user[chef] (/var/file.rb line 56) has error&quot;</span><span class="p">,</span>
  <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;user[chef] (/var/file.rb line 87) has error&quot;</span><span class="p">,</span>
  <span class="s2">&quot;backtrace&quot;</span><span class="o">:</span> <span class="s2">&quot;[\&quot;/opt/chef/embedded/.../chef/unix.rb:103 \&quot;]&quot;</span><span class="p">,</span>
  <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;Errorexecutingaction`create`onresource&#39;user[chef]&#39;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sections&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span> <span class="s2">&quot;TypeError&quot;</span><span class="o">:</span> <span class="s2">&quot;can&#39;tconvertArrayintoString&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s2">&quot;CookbookTrace: &quot;</span><span class="o">:</span> <span class="s2">&quot;/var/chef/file.rb: 11: action: create\n&quot;</span> <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">id</span></tt></td>
<td>string</td>
<td>The globaly-unique identifier for this message. For example: <tt class="docutils literal"><span class="pre">'12345678-9012-3456-7890-12345678901211'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">name</span></tt></td>
<td>string</td>
<td>The name of the control group object. For example: <tt class="docutils literal"><span class="pre">'mysql</span> <span class="pre">audit'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">number_failed</span></tt></td>
<td>integer</td>
<td>The number of tests within the control group that failed. For example: <tt class="docutils literal"><span class="pre">7</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">number_succeeded</span></tt></td>
<td>integer</td>
<td>The number of tests within the control group that passed. For example: <tt class="docutils literal"><span class="pre">4</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">organization_name</span></tt></td>
<td>string</td>
<td>The short name of the organization to which the node belongs. For example: <tt class="docutils literal"><span class="pre">'chef'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">run</span></tt></td>
<td>object</td>
<td>A JSON object that contains run data, including the chef-client run identifier, the FQDN for the Chef server, the name of the node, and the times at which the chef-client started and finished.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">run.chef_server_fqdn</span></tt></td>
<td>string</td>
<td>The FQDN for the Chef server against which the instance is running. For example: <tt class="docutils literal"><span class="pre">'api.chef.io'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">run.end_time</span></tt></td>
<td>string</td>
<td>The ISO timestamp at which the chef-client run finished. For example: <tt class="docutils literal"><span class="pre">'2014-06-05T10:39:43Z'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">run.node_name</span></tt></td>
<td>string</td>
<td>The name of the node on which the chef-client run occurred. For example: <tt class="docutils literal"><span class="pre">'grantmc01-abc'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">run.run_id</span></tt></td>
<td>string</td>
<td>The internal message identifier for the chef-client run. For example: <tt class="docutils literal"><span class="pre">'12345678-9012-3456-7890-12345678901211'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">run.start_time</span></tt></td>
<td>string</td>
<td>The ISO timestamp at which the chef-client run started. For example: <tt class="docutils literal"><span class="pre">'2014-06-05T10:34:35Z'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">status</span></tt></td>
<td>string</td>
<td>The status of the control object. For example: <tt class="docutils literal"><span class="pre">'failure'</span></tt>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="run-converge">
<h3>run_converge<a class="headerlink" href="#run-converge" title="Permalink to this headline"></a></h3>
<p>The following fields are available for the <tt class="docutils literal"><span class="pre">run_converge</span></tt> message type:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="12%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">chef_server_fqdn</span></tt></td>
<td>string</td>
<td>The FQDN for the Chef server against which the instance is running. For example: <tt class="docutils literal"><span class="pre">'api.chef.io'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">end_time</span></tt></td>
<td>string</td>
<td>The ISO timestamp at which the chef-client run finished. For example: <tt class="docutils literal"><span class="pre">'2014-06-05T10:39:43Z'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">error</span></tt></td>
<td>object</td>
<td><p class="first">The details of errors that occurred during the chef-client run, if present. For example:</p>
<div class="last highlight-javascript"><div class="highlight"><pre><span></span><span class="s2">&quot;error&quot;</span><span class="o">:</span> <span class="p">{</span>
  <span class="s2">&quot;class&quot;</span><span class="o">:</span> <span class="s2">&quot;#&lt;TypeError: user[chef] (/var/file.rb line 87) has error&quot;</span><span class="p">,</span>
  <span class="s2">&quot;message&quot;</span><span class="o">:</span> <span class="s2">&quot;user[chef] (/var/file.rb line 87) has error&quot;</span><span class="p">,</span>
  <span class="s2">&quot;backtrace&quot;</span><span class="o">:</span> <span class="s2">&quot;[\&quot;/opt/chef/embedded/.../chef/unix.rb:103 \&quot;]&quot;</span><span class="p">,</span>
  <span class="s2">&quot;description&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;title&quot;</span><span class="o">:</span> <span class="s2">&quot;Errorexecutingaction`create`onresource&#39;user[chef]&#39;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sections&quot;</span><span class="o">:</span> <span class="p">[</span>
      <span class="p">{</span> <span class="s2">&quot;TypeError&quot;</span><span class="o">:</span> <span class="s2">&quot;can&#39;tconvertArrayintoString&quot;</span> <span class="p">},</span>
      <span class="p">{</span> <span class="s2">&quot;CookbookTrace: &quot;</span><span class="o">:</span> <span class="s2">&quot;/var/chef/file.rb: 11: action: create\n&quot;</span> <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">id</span></tt></td>
<td>string</td>
<td>The internal message identifier for the chef-client run. For example: <tt class="docutils literal"><span class="pre">'12345678-9012-3456-7890-12345678901211'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">node_name</span></tt></td>
<td>string</td>
<td>The name of the node on which the chef-client run occurred. For example: <tt class="docutils literal"><span class="pre">'grantmc01-abc'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">organization_name</span></tt></td>
<td>string</td>
<td>The short name of the organization to which the node belongs. For example: <tt class="docutils literal"><span class="pre">'chef'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">resources</span></tt></td>
<td>array</td>
<td>An array of resources that were converged during the chef-client run.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">run_id</span></tt></td>
<td>string</td>
<td>The identifier for the chef-client run. For example: <tt class="docutils literal"><span class="pre">'67890123-4567-8901-2345-67890123456789'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">run_list</span></tt></td>
<td>array</td>
<td>The run-list used during the chef-client run. For example: <tt class="docutils literal"><span class="pre">[</span> <span class="pre">'role[opscode-reporting]'</span> <span class="pre">]</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">start_time</span></tt></td>
<td>string</td>
<td>The ISO timestamp at which the chef-client run started. For example: <tt class="docutils literal"><span class="pre">'2014-06-05T10:34:35Z'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">status</span></tt></td>
<td>string</td>
<td>The status of the chef-client run. For example: <tt class="docutils literal"><span class="pre">'success'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">total_resource_count</span></tt></td>
<td>integer</td>
<td>The total number of resources in the resource collection for the chef-client run. For example: <tt class="docutils literal"><span class="pre">4</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">updated_resource_count</span></tt></td>
<td>integer</td>
<td>The total number of resources that were updated during the chef-client run. For example: <tt class="docutils literal"><span class="pre">2</span></tt>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="run-resource">
<h3>run_resource<a class="headerlink" href="#run-resource" title="Permalink to this headline"></a></h3>
<p>The following fields are available for the <tt class="docutils literal"><span class="pre">run_resource</span></tt> message type:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="12%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">converge</span></tt></td>
<td>object</td>
<td>A JSON object that contains the status of the chef-client run, the name of the organization, the run-list, total resource count, updated resource count, the run identifier, and the times at which the chef-client started and finished.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">converge.end_time</span></tt></td>
<td>string</td>
<td>The ISO timestamp at which the chef-client run finished. For example: <tt class="docutils literal"><span class="pre">'2014-06-05T10:39:43Z'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">converge.id</span></tt></td>
<td>string</td>
<td>The internal message identifier for the chef-client run. For example: <tt class="docutils literal"><span class="pre">'12345678-9012-3456-7890-12345678901211'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">converge.organization_name</span></tt></td>
<td>string</td>
<td>The name of the organization to which the node belongs. For example: <tt class="docutils literal"><span class="pre">'chef'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">converge.run_list</span></tt></td>
<td>array</td>
<td>The run-list used during the chef-client run. For example: <tt class="docutils literal"><span class="pre">[</span> <span class="pre">'role[opscode-reporting]'</span> <span class="pre">]</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">converge.start_time</span></tt></td>
<td>string</td>
<td>The ISO timestamp at which the chef-client run started. For example: <tt class="docutils literal"><span class="pre">'2014-06-05T10:34:35Z'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">converge.status</span></tt></td>
<td>string</td>
<td>The status of the chef-client run. For example: <tt class="docutils literal"><span class="pre">'success'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">converge.total_resource_count</span></tt></td>
<td>integer</td>
<td>The total number of resources that were converged during the chef-client run. For example: <tt class="docutils literal"><span class="pre">4</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">converge.updated_resource_count</span></tt></td>
<td>integer</td>
<td>The total number of resources that were updated during the chef-client run. For example: <tt class="docutils literal"><span class="pre">2</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">cookbook_name</span></tt></td>
<td>string</td>
<td>The name of the cookbook that initiated the changes made by this chef-client run. For example: <tt class="docutils literal"><span class="pre">'chef_handler'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">cookbook_version</span></tt></td>
<td>string</td>
<td>The version of the cookbook initiated the changes made by this chef-client run. For example: <tt class="docutils literal"><span class="pre">'0.2.3'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">delta</span></tt></td>
<td>string</td>
<td><p class="first">The difference between the intial and final value of resource. For example:</p>
<div class="last highlight-none"><div class="highlight"><pre><span></span>--- /etc/motd.tail
2013-06-30 17:41:31.667050237 -0600\n
+++ /tmp/chef-rendered-template 18:11:54.7 -0600\n
@@ -3,7 +3,7 @@\n
Chef-Client - jenkins\n
Hostname: jenkins.int.housepub.org\n
Chef Server: https://api.chef.io/orgs/org\n
-Last Run: 2013-06-30 17:41:31 -0600\n
+Last Run:2013-06-30 18:11:54 -0600\n
\n
Roles:\n
debian
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">duration</span></tt></td>
<td>string</td>
<td>The duration of the chef-client run. For example: <tt class="docutils literal"><span class="pre">'1200'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">final_state</span></tt></td>
<td>object</td>
<td>A JSON object that contains the final state of the resource, including a checksum, owner, group, and mode.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">id</span></tt></td>
<td>string</td>
<td>The internal message identifier for the chef-client run. For example: <tt class="docutils literal"><span class="pre">'12345678-9012-3456-7890-12345678901211'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">initial_state</span></tt></td>
<td>object</td>
<td>A JSON object that contains the initial state of the resource, including a checksum, owner, group, and mode.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">resource_id</span></tt></td>
<td>string</td>
<td>The resource identifier. For example: <tt class="docutils literal"><span class="pre">'/var/cache/mod_auth_openid/mod_auth_openid.db'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">resource_name</span></tt></td>
<td>string</td>
<td>The name of the resource. For example: <tt class="docutils literal"><span class="pre">'/var/cache/mod_auth_openid/mod_auth_openid.db'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">resource_result</span></tt></td>
<td>string</td>
<td>The resource result. For example: <tt class="docutils literal"><span class="pre">'delete'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">resource_type</span></tt></td>
<td>string</td>
<td>The resource type. For example: <tt class="docutils literal"><span class="pre">'file'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">run</span></tt></td>
<td>object</td>
<td>A JSON object that contains run data, including the chef-client run identifier, the FQDN for the Chef server, the name of the node, and the times at which the chef-client started and finished.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">run.chef_server_fqdn</span></tt></td>
<td>string</td>
<td>The FQDN for the Chef server against which the instance is running. For example: <tt class="docutils literal"><span class="pre">'api.chef.io'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">run.end_time</span></tt></td>
<td>string</td>
<td>The ISO timestamp at which the chef-client run finished. For example: <tt class="docutils literal"><span class="pre">'2014-06-05T10:39:43Z'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">run.node_name</span></tt></td>
<td>string</td>
<td>The name of the node on which the chef-client run occurred. For example: <tt class="docutils literal"><span class="pre">'grantmc01-abc'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">run.run_id</span></tt></td>
<td>string</td>
<td>The identifier for the chef-client run. For example: <tt class="docutils literal"><span class="pre">'67890123-4567-8901-2345-67890123456789'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">run.start_time</span></tt></td>
<td>string</td>
<td>The ISO timestamp at which the chef-client run started. For example: <tt class="docutils literal"><span class="pre">'2014-06-05T10:34:35Z'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">sequence_number</span></tt></td>
<td>integer</td>
<td>The sequence number at which the resource converged. For example: <tt class="docutils literal"><span class="pre">0</span></tt>.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="run-start">
<h3>run_start<a class="headerlink" href="#run-start" title="Permalink to this headline"></a></h3>
<p>The following fields are available for the <tt class="docutils literal"><span class="pre">run_start</span></tt> message type:</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="12%" />
<col width="64%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Field</th>
<th class="head">Type</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">chef_server_fqdn</span></tt></td>
<td>string</td>
<td>The FQDN for the Chef server against which the instance is running. For example: <tt class="docutils literal"><span class="pre">'api.chef.io'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">id</span></tt></td>
<td>string</td>
<td>The internal message identifier for the chef-client run. For example: <tt class="docutils literal"><span class="pre">'12345678-9012-3456-7890-12345678901211'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">node_name</span></tt></td>
<td>string</td>
<td>The name of the node on which the chef-client run occurred. For example: <tt class="docutils literal"><span class="pre">'grantmc01-abc'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">organization_name</span></tt></td>
<td>string</td>
<td>The short name of the organization to which the node belongs. For example: <tt class="docutils literal"><span class="pre">'chef'</span></tt>.</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">run_id</span></tt></td>
<td>string</td>
<td>The identifier for the chef-client run. For example: <tt class="docutils literal"><span class="pre">'67890123-4567-8901-2345-67890123456789'</span></tt>.</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">start_time</span></tt></td>
<td>string</td>
<td>The ISO timestamp at which the chef-client run started. For example: <tt class="docutils literal"><span class="pre">'2014-06-05T10:34:35Z'</span></tt>.</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline"></a></h2>
<p>Use a function to help specify how rules are applied. A function may be used in <tt class="docutils literal"><span class="pre">when</span></tt>, <tt class="docutils literal"><span class="pre">then</span></tt>, and <tt class="docutils literal"><span class="pre">otherwise</span></tt> sections in rules. A function has the following syntax:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">function_name</span><span class="p">(</span><span class="n">param1</span><span class="p">,</span> <span class="n">param2</span><span class="p">,</span> <span class="n">paramN</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">A function that is defined in the <tt class="docutils literal"><span class="pre">when</span></tt> section of a rule MUST return a Boolean value, or it will fail.</p>
</div>
<div class="section" id="alert-level">
<h3>alert:&lt;level&gt;()<a class="headerlink" href="#alert-level" title="Permalink to this headline"></a></h3>
<p>Use <tt class="docutils literal"><span class="pre">alert:&lt;level&gt;()</span></tt> to generate an audit.</p>
<p>The syntax for this function:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">alert</span><span class="p">:</span><span class="o">&lt;</span><span class="n">level</span><span class="o">&gt;</span><span class="p">(</span><span class="n">description</span><span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">&lt;level&gt;</span></tt> is the audit level: <tt class="docutils literal"><span class="pre">error</span></tt>, <tt class="docutils literal"><span class="pre">info</span></tt>, or <tt class="docutils literal"><span class="pre">warn</span></tt></li>
<li><tt class="docutils literal"><span class="pre">description</span></tt> is a user-defined value (and may be a Mustache template)</li>
</ul>
</div>
<div class="section" id="array-contains">
<h3>array:contains()<a class="headerlink" href="#array-contains" title="Permalink to this headline"></a></h3>
<p>Use <tt class="docutils literal"><span class="pre">array:contains()</span></tt> to look for an attribute in the JSON object, and then determine its value.</p>
<p>The syntax for this function:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">array</span><span class="p">:</span><span class="n">contains</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="n">valueToFind</span><span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">field</span></tt> is an attribute in the JSON oject</li>
<li><tt class="docutils literal"><span class="pre">valueToFind</span></tt> is the value for that attribute</li>
</ul>
<p>For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">array</span><span class="p">:</span><span class="n">contains</span><span class="p">(</span><span class="n">organization_name</span> <span class="o">=</span> <span class="s1">&#39;ponyville&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="datetime-component">
<h3>datetime:component()<a class="headerlink" href="#datetime-component" title="Permalink to this headline"></a></h3>
<p>Use <tt class="docutils literal"><span class="pre">datetime:component()</span></tt> to specify the date and time at which a rule is applied.</p>
<p>The syntax for this function:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">datetime</span><span class="p">:</span><span class="n">component</span><span class="p">(</span><span class="n">field</span><span class="p">,</span> <span class="s1">&#39;dateTimeComponent&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">field</span></tt> is an attribute in the JSON oject</li>
<li><tt class="docutils literal"><span class="pre">dateTimeComponent</span></tt> must be one of the following (lower or uppercase) as a quoted string: <tt class="docutils literal"><span class="pre">era</span></tt>, <tt class="docutils literal"><span class="pre">year_of_era</span></tt>, <tt class="docutils literal"><span class="pre">century_of_era</span></tt>, <tt class="docutils literal"><span class="pre">year_of_century</span></tt>, <tt class="docutils literal"><span class="pre">year</span></tt>, <tt class="docutils literal"><span class="pre">day_of_year</span></tt>, <tt class="docutils literal"><span class="pre">month_of_year</span></tt>, <tt class="docutils literal"><span class="pre">day_of_month</span></tt>, <tt class="docutils literal"><span class="pre">weekyear_of_century</span></tt>, <tt class="docutils literal"><span class="pre">weekyear</span></tt>, <tt class="docutils literal"><span class="pre">week_of_weekyear</span></tt>, <tt class="docutils literal"><span class="pre">day_of_week</span></tt>, <tt class="docutils literal"><span class="pre">halfday_of_day</span></tt>, <tt class="docutils literal"><span class="pre">hour_of_halfday</span></tt>, <tt class="docutils literal"><span class="pre">clockhour_of_halfday</span></tt>, <tt class="docutils literal"><span class="pre">clockhour_of_day</span></tt>, <tt class="docutils literal"><span class="pre">hour_of_day</span></tt>, <tt class="docutils literal"><span class="pre">minute_of_day</span></tt>, <tt class="docutils literal"><span class="pre">minute_of_hour</span></tt>, <tt class="docutils literal"><span class="pre">second_of_day</span></tt>, <tt class="docutils literal"><span class="pre">second_of_minute</span></tt>, <tt class="docutils literal"><span class="pre">millis_of_day</span></tt>, or <tt class="docutils literal"><span class="pre">millis_of_second</span></tt></li>
</ul>
<p>For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">datetime</span><span class="p">:</span><span class="n">component</span><span class="p">(</span><span class="n">adate</span><span class="p">,</span> <span class="s1">&#39;era&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="get">
<h3>get()<a class="headerlink" href="#get" title="Permalink to this headline"></a></h3>
<p>Use <tt class="docutils literal"><span class="pre">get()</span></tt> to identify a field, and then identify an associated value.</p>
<p>The syntax for this function:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">get</span><span class="p">(</span><span class="n">variableToGet</span><span class="p">,</span> <span class="n">valueToSet</span> <span class="no">OR</span> <span class="n">defaultIfMissing</span><span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">variableToGet</span></tt> specifies the field to look for</li>
<li><tt class="docutils literal"><span class="pre">valueToSet</span></tt> specifies the value to use</li>
<li><tt class="docutils literal"><span class="pre">defaultIfMissing</span></tt> specifies to use the default value if there is no user-defined value</li>
</ul>
<p>For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">rule</span> <span class="n">on</span> <span class="n">action</span> <span class="k">when</span>
  <span class="n">get</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="kp">false</span><span class="p">)</span> <span class="o">=</span> <span class="kp">false</span>
<span class="k">then</span>
  <span class="n">notify</span><span class="p">(</span><span class="s1">&#39;some_alias&#39;</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</div>
<p>will pass if <tt class="docutils literal"><span class="pre">foo</span></tt> is missing in the JSON object.</p>
</div>
<div class="section" id="log">
<h3>log()<a class="headerlink" href="#log" title="Permalink to this headline"></a></h3>
<p>Use <tt class="docutils literal"><span class="pre">log()</span></tt> to generate a message using the configured logger as a string.</p>
<p>The syntax for this function:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">log</span><span class="p">(</span><span class="n">messageToLog</span><span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">messageToLog</span></tt> is the message that is added to the log</li>
</ul>
<p>For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">log</span><span class="p">(</span><span class="s1">&#39;Added rule for org &lt;obj.organization_name&gt;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="mustache-template">
<h3>mustache_template()<a class="headerlink" href="#mustache-template" title="Permalink to this headline"></a></h3>
<p>Use <tt class="docutils literal"><span class="pre">mustache_template()</span></tt> to render an expression that is defined in a Mustache template. If the Mustache template is invalid, an error is logged and the expression will return an empty, non-null string.</p>
<p>The syntax for this function:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">mustache_template</span><span class="p">(</span><span class="s1">&#39;message_type = {{message.json_attribute}}&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">message_type</span></tt> is a string that represents the message type</li>
<li><tt class="docutils literal"><span class="pre">message</span></tt> is the JSON message to be passed in</li>
<li><tt class="docutils literal"><span class="pre">json_attribute</span></tt> is a user-defined value in the JSON object</li>
</ul>
<p>For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">rule</span> <span class="s1">&#39;test_rule&#39;</span> <span class="n">on</span> <span class="n">action</span>
  <span class="k">when</span>
    <span class="kp">true</span>
  <span class="k">then</span>
    <span class="n">set</span><span class="p">(</span><span class="c1">#foo, mustache_template(&#39;Organization = {{message.organization_name}}.&#39;))</span>
<span class="k">end</span>
</pre></div>
</div>
<p>For more information on the Mustache template format, see <a class="reference external" href="https://mustache.github.io">https://mustache.github.io</a>.</p>
</div>
<div class="section" id="notify">
<h3>notify()<a class="headerlink" href="#notify" title="Permalink to this headline"></a></h3>
<p>Use <tt class="docutils literal"><span class="pre">notify()</span></tt> to configure notifications for a rule. Notifications may be sent with the following notification types: email, webhook, HipChat, and Splunk.</p>
<p>The syntax for this function:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">notify</span><span class="p">(</span><span class="n">notificationName</span><span class="p">,</span> <span class="n">stringTemplate</span><span class="p">)</span>
</pre></div>
</div>
<p>where:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">notificationName</span></tt> is the name of the notification to trigger.</li>
<li><tt class="docutils literal"><span class="pre">stringTemplate</span></tt> is an optional Mustache template that defines the notification. The template must evaluate to a valid JSON string.</li>
</ul>
<p>Field names in the Mustache template must be prefixed by <tt class="docutils literal"><span class="pre">message.</span></tt>, e.g. <tt class="docutils literal"><span class="pre">{{message.reported_at}}</span></tt> using <a class="reference internal" href="#analytics-rules-message-types"><em>a valid field name for the message type</em></a>. For more information on the Mustache template format, see <a class="reference external" href="https://mustache.github.io">https://mustache.github.io</a>.</p>
<p>For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">rules</span> <span class="s1">&#39;Send notification&#39;</span>
  <span class="n">rule</span> <span class="n">on</span> <span class="n">action</span>
    <span class="k">when</span>
      <span class="n">organization_name</span> <span class="o">=</span> <span class="s1">&#39;ponyville&#39;</span> <span class="ow">and</span>
      <span class="p">(</span><span class="n">entity_type</span> <span class="o">=</span> <span class="s1">&#39;foo&#39;</span> <span class="ow">or</span> <span class="n">entity_type</span> <span class="o">=</span> <span class="s1">&#39;bar&#39;</span><span class="p">)</span> <span class="ow">and</span>
      <span class="n">remote_hostname</span> <span class="o">=~</span> <span class="s1">&#39;33\.3[0-9].*&#39;</span>
    <span class="k">then</span>
      <span class="n">set</span> <span class="n">value</span> <span class="c1">#foo = &#39;100&#39;</span>
      <span class="n">set</span> <span class="n">value</span> <span class="c1">#xyz = &#39;test&#39;</span>
      <span class="n">notify</span><span class="p">(</span><span class="s1">&#39;slack&#39;</span><span class="p">,</span> <span class="s1">&#39;{</span>
<span class="s1">        &quot;text&quot;: &quot;{{message.requestor_name}} did something at {{message.recorded_at}}!&quot;</span>
<span class="s1">      }&#39;</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="set">
<h3>set()<a class="headerlink" href="#set" title="Permalink to this headline"></a></h3>
<p>Use <tt class="docutils literal"><span class="pre">set()</span></tt> to set a user-defined value in the JSON object. A user-defined value always begins with <tt class="docutils literal"><span class="pre">#</span></tt>. Prepend values saved by the <tt class="docutils literal"><span class="pre">set()</span></tt> function with <tt class="docutils literal"><span class="pre">user_defined_values</span></tt> to access them later from a <tt class="docutils literal"><span class="pre">notify()</span></tt> or <tt class="docutils literal"><span class="pre">alert()</span></tt> function.  Values that are not user-defined may not be modified.</p>
<p>The syntax for this function:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">set</span><span class="p">(</span><span class="c1">#variableToSet, valueToSet)</span>
</pre></div>
</div>
<p>where:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">variableToSet</span></tt> is the location of a user-defined value</li>
<li><tt class="docutils literal"><span class="pre">valueToSet</span></tt> is the value</li>
</ul>
<p>For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">set</span><span class="p">(</span><span class="c1">#organization_name, &#39;ponyville&#39;)</span>
</pre></div>
</div>
<p>Later on in the same rule or another rule in the same group, do:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">alert</span><span class="p">:</span><span class="nb">warn</span><span class="p">(</span><span class="s2">&quot;Check out the org name {{user_defined_values.#organization_name}}&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline"></a></h2>
<p>The following examples show how to define Chef Analytics rules.</p>
<div class="section" id="always-run-a-rule">
<h3>Always Run a Rule<a class="headerlink" href="#always-run-a-rule" title="Permalink to this headline"></a></h3>
<p>A rule that always fire for the specified message type:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">rule</span> <span class="s2">&quot;test_rule&quot;</span> <span class="n">on</span> <span class="n">action</span>
<span class="k">when</span>
  <span class="kp">true</span>
<span class="k">then</span>
  <span class="n">notify</span><span class="p">(</span><span class="s2">&quot;some_alias&quot;</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</div>
<p>where every <tt class="docutils literal"><span class="pre">action</span></tt> will notify <tt class="docutils literal"><span class="pre">&quot;some_alias&quot;</span></tt>.</p>
</div>
<div class="section" id="raise-audit">
<h3>Raise Audit<a class="headerlink" href="#raise-audit" title="Permalink to this headline"></a></h3>
<p>The following rule raises an alert when a <tt class="docutils literal"><span class="pre">run_control_group</span></tt> fails, signifying that one or more controls failed:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span> <span class="nx">rules</span> <span class="s2">&quot;throw errors on control group failure&quot;</span>
  <span class="nx">rule</span> <span class="nx">on</span> <span class="nx">run_converge</span>
  <span class="nx">when</span>
    <span class="kc">true</span>
  <span class="nx">then</span>
    <span class="nx">alert</span><span class="o">:</span><span class="nx">info</span><span class="p">(</span><span class="s2">&quot;Run converge detected at {{ message.end_time }} &quot;</span><span class="p">)</span>
  <span class="nx">end</span>

  <span class="nx">rule</span> <span class="nx">on</span> <span class="nx">run_control_group</span>
  <span class="nx">when</span>
    <span class="kc">true</span>
  <span class="nx">then</span>
    <span class="c1">// the run_control_group name will appear in double quotes</span>
    <span class="nx">alert</span><span class="o">:</span><span class="nx">info</span><span class="p">(</span><span class="s2">&quot;Run control group \&quot;{{ message.name }}\&quot; failed on {{ message.run.node_name }}&quot;</span><span class="p">)</span>
  <span class="nx">end</span>
<span class="nx">end</span>
</pre></div>
</div>
</div>
<div class="section" id="send-a-notification">
<span id="analytics-rules-send-a-notification"></span><h3>Send a Notification<a class="headerlink" href="#send-a-notification" title="Permalink to this headline"></a></h3>
<p>Using the <tt class="docutils literal"><span class="pre">notify()</span></tt> function, notifications can be sent when a rule&#8217;s conditions are met.</p>
<p>Once you&#8217;ve created a notification you&#8217;ll use its name as the first argument given to the <tt class="docutils literal"><span class="pre">notify()</span></tt> function. For example, suppose you&#8217;ve created a notification with the name <tt class="docutils literal"><span class="pre">email-admins</span></tt>:</p>
<img alt="_images/analytics_email_notification_name.png" src="_images/analytics_email_notification_name.png" />
<p>This notification could then be triggered by creating a rule that calls <tt class="docutils literal"><span class="pre">notify()</span></tt>, e.g.:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">notify</span><span class="p">(</span><span class="s2">&quot;email-admins&quot;</span><span class="p">,</span> <span class="s2">&quot;Your message here.&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The below rule would trigger this notification for every <tt class="docutils literal"><span class="pre">run_start</span></tt> message:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">rule</span> <span class="s2">&quot;Email notification&quot;</span> <span class="n">on</span> <span class="n">run_start</span>
<span class="k">when</span>
  <span class="kp">true</span>
<span class="k">then</span>
  <span class="n">notify</span><span class="p">(</span><span class="s2">&quot;email-admins&quot;</span><span class="p">,</span> <span class="s2">&quot;Run started on {{message.node_name}}&quot;</span><span class="p">)</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="id1">
<h3>Regular Expressions<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h3>
<p>The following rule shows using a regular expression:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>rules &quot;user-agent matching&quot;
  rule on action
  when
    get(#user_agent, false) != false
  then
    log(&quot;Something else set #user_agent&quot;)
  end

  rule on action
  when
    // match if the user_agent starts with the string &quot;Chef Manage&quot;
    user_agent =~ &quot;Chef Manage.*&quot;
  then
    // if #user_agent has been set before
    // this command will overwrite it&#39;s value
  set(#user_agent, &quot;Chef Manage&quot;)
  end

  rule on action
  when
    // match if the user_agent starts with the string &quot;Chef Client&quot;
    user_agent =~ &quot;Chef Client.*&quot;
  then
    set(#user_agent, &quot;Chef Client&quot;)
  end

  rule on action
  when
    get(#user_agent, false) != false
  then
    alert:info(&quot;User agent {{user_defined_values.#user_agent}}&quot;)
  end
end
</pre></div>
</div>
</div>
<div class="section" id="notify-on-port-23">
<h3>Notify on Port 23<a class="headerlink" href="#notify-on-port-23" title="Permalink to this headline"></a></h3>
<p>The following rule shows how to define a rule that sends a notification when a machine is listening for connections on port 23:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">rules</span> <span class="s2">&quot;pci check telnet port&quot;</span>
  <span class="n">rule</span> <span class="n">on</span> <span class="n">run_control</span>
  <span class="k">when</span>
    <span class="nb">name</span> <span class="o">=</span> <span class="s2">&quot;should be listening&quot;</span> <span class="ow">and</span>
    <span class="n">resource_type</span> <span class="o">=</span> <span class="s2">&quot;port&quot;</span> <span class="ow">and</span>
    <span class="n">resource_name</span> <span class="o">=</span> <span class="mi">23</span> <span class="ow">and</span>
    <span class="n">status</span> <span class="o">!=</span> <span class="s2">&quot;success&quot;</span>
  <span class="k">then</span>
    <span class="ss">alert</span><span class="p">:</span><span class="n">error</span><span class="p">(</span><span class="s2">&quot;Encrypt all non-console administrative access such as browser/Web-based management tools.&quot;</span><span class="p">)</span>
    <span class="n">notify</span><span class="p">(</span><span class="s2">&quot;some_alias&quot;</span><span class="p">,</span> <span class="s2">&quot;A machine is listening for connections on port 23!&quot;</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="user-defined-values">
<h3>User-defined Values<a class="headerlink" href="#user-defined-values" title="Permalink to this headline"></a></h3>
<p>The following rule sets, and then uses a user-defined value:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>rules &quot;user-agent matching&quot;
  rule on action
  when
    entity_name = &quot;app1&quot;
  then
    set(#foo, requestor_name)
  otherwise
    set(#bar, task)
  end

  // ... other rules could go here

  rule on action
  when
    // #foo might be undefined, so use get()
    // to supply a default value of false to perform the
    // test
    get(#foo, false) != false
  then
    alert:info(#foo)
  end
end
</pre></div>
</div>
</div>
<div class="section" id="verify-dates">
<h3>Verify Dates<a class="headerlink" href="#verify-dates" title="Permalink to this headline"></a></h3>
<p>The following rule checks the day of the week on which an action runs:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>rules &quot;Check deploy day of week&quot;
  rule &quot;my rule&quot; on action
  when
    // DAY_OF_WEEK uses 1 -&gt; 7 for Monday -&gt; Sunday
    datetime:component(recorded_at, &quot;DAY_OF_WEEK&quot;) &gt;= 5
  then
    // set a user defined value
    set(#alert, &#39;action detected on a Friday, Saturday, or Sunday&#39;),
  end
end
</pre></div>
</div>
</div>
<div class="section" id="verify-resource-updates">
<h3>Verify Resource Updates<a class="headerlink" href="#verify-resource-updates" title="Permalink to this headline"></a></h3>
<p>The following rule verifies if resources have been updated on a <tt class="docutils literal"><span class="pre">run_converge</span></tt>:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">rules</span> <span class="s2">&quot;Match a run converge&quot;</span>
  <span class="n">rule</span> <span class="n">on</span> <span class="n">run_converge</span>
  <span class="k">when</span>
    <span class="n">total_resource_count</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="ow">and</span>
    <span class="n">updated_resource_count</span> <span class="o">&gt;</span> <span class="mi">0</span>
  <span class="k">then</span>
    <span class="ss">alert</span><span class="p">:</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;Run converge detected at {{ message.end_time }} &quot;</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="verify-run-lists">
<h3>Verify Run-lists<a class="headerlink" href="#verify-run-lists" title="Permalink to this headline"></a></h3>
<p>The following rule verfies if a specific role appears in a run-list:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">rules</span> <span class="s2">&quot;Check a converge run_list&quot;</span>
  <span class="n">rule</span> <span class="n">on</span> <span class="n">run_converge</span>
  <span class="k">when</span>
    <span class="ss">array</span><span class="p">:</span><span class="n">contains</span><span class="p">(</span><span class="n">run_list</span><span class="p">,</span> <span class="s1">&#39;role[opscode-reporting]&#39;</span><span class="p">)</span>
  <span class="k">then</span>
    <span class="ss">alert</span><span class="p">:</span><span class="n">info</span><span class="p">(</span><span class="s2">&quot;run_list contains role[opscode-reporting]&quot;</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>


          <div class="footer" role="contentinfo">
                &copy; Copyright: This work is licensed under a Creative Commons Attribution 3.0 Unported License.
              This page is about: current version of Chef.
            <a href="/feedback.html">Provide feedback on Chef documentation</a>.
            </div>

<!-- Start of Async Google Analytics Code -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-6369228-7', 'auto', {'legacyCookieDomain': '.chef.io', 'allowLinker': true});
  ga('send', 'pageview');

  var trackOutboundLink = function(url) {
    if (ga.q) {
     document.location = url;
    } else {
      ga('send', 'event', 'outbound', 'click', url, {'hitCallback':
        function () {
          document.location = url;
        }
      });
    }
  };
</script>
<!-- End of Async Google Analytics Code -->

<!-- Start of Marketo Analytics Code -->
<script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('255-VFB-268');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
<!-- End of Marketo Analytics Code -->

<!-- Start of DemandBase Analytics Code -->
<script type="text/javascript">
	(function(d,b,a,s,e){ var t = b.createElement(a),
		fs = b.getElementsByTagName(a)[0]; t.async=1; t.id=e;
		t.src=('https:'==document.location.protocol ? 'https://' : 'http://') + s;
		fs.parentNode.insertBefore(t, fs); })
	(window,document,'script','scripts.demandbase.com/zH7sZrWR.min.js','demandbase_js_lib');
</script>
<!-- End of DemandBase Analytics Code -->

<!-- Start of Segment Analytics Code -->
<script type="text/javascript">
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
  analytics.load("RtyoRfLf1ZETiJcIfkKND3Wq1K1LhYHx");
  analytics.page();
  }}();
</script>
<!-- End of Segment Analytics Code -->


        </div>
      </div>

      <div class="clearer"></div>
    </div>

  </div>
  </body>
</html>