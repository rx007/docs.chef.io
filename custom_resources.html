<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    
    <title>Custom Resources &mdash; Chef Docs</title>
    <link rel="stylesheet" href="_static/chefv2.css" type="text/css" />
<link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
    URL_ROOT:    './',
    VERSION:     '',
    COLLAPSE_INDEX: false,
    FILE_SUFFIX: '.html',
    HAS_SOURCE:  true
  };
</script>
<script type="text/javascript" src="_static/jquery.js"></script>
<script type="text/javascript" src="_static/underscore.js"></script>
<script type="text/javascript" src="_static/doctools.js"></script>
<script type="text/javascript" src="_static/script.js"></script>

    <link rel="top" title="Chef Docs" href="index.html" />
    <link rel="next" title="Custom Resources Notes" href="custom_resources_notes.html" />
    <link rel="prev" title="supermarket-ctl (executable)" href="ctl_supermarket.html" /> 
  </head>
  <body role="document">
    <div class="body-wrap">

  <nav class="nav-main" role="navigation" data-topbar>
    <div class="nav-inner">
      <div class="left">
        <h1>
          <a href="https://learn.chef.io">
            <span>Learn Chef</span>
          </a>
        </h1>
      </div>

      <i id="nav-icon" class="fa fa-bars"></i>
      <a href="https://www.chef.io/">
        <img id="logo" src="_static/chef_logo_v2.svg" onerror="_static/chef_logo_v2.png"/>
      </a>

      <ul class="nav-links links-main">
        <li class="nav-link">
          <a href="https://learn.chef.io/tutorials">Tutorials</a>
        </li>
        <li class="nav-link">
          <a href="https://learn.chef.io/skills/">Skills Library</a>
        </li>
        <li class="nav-link is-active">
          <a href="https://docs.chef.io/">Docs</a>
        </li>
        <li class="nav-link">
          <a href="https://www.chef.io/training/">Training</a>
        </li>
      </ul>
    </div>
  </nav>





    <div class="document chef-docs">
    <nav class="nav-docs">
  <ul class="nav-docs-items" id="nav-docs-list">
    <li class="main-item dark-item docs-search">
      <form action="/search.html" method="get">
        <input type="text" placeholder="Search" id="docs-search" name="q">
        <input type="submit" class="submit-button" value="">
        <i class="fa fa-search icon-search"></i>
      </form>
   

    </li>
    
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Overview"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-home icon-left"></i> Overview <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items"> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/platform_overview.html" title="Platform Overview">
            Platform Overview
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Community">
            Community
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/community.html" title="About the Community">
                About the Community
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/community_contributions.html" title="Contributing">
                Contributing
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/community_guidelines.html" title="Guidelines">
                Guidelines
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/style_guide.html" title="Docs Style Guide">
                Docs Style Guide
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Packages &amp; Platforms">
            Packages &amp; Platforms
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/packages.html" title="Packages">
                Packages
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/platforms.html" title="Platforms">
                Platforms
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_omnitruck.html" title="Omnitruck API">
                Omnitruck API
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_license.html" title="Licensing">
                Licensing
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Chef"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-tasks icon-left"></i> Chef <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items">

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Getting Started">
            Getting Started
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_overview.html" title="Chef Overview">
                Chef Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/quick_start.html" title="Quick Start">
                Quick Start
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_system_requirements.html" title="System Requirements">
                System Requirements
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Release Notes">
                Release Notes
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/release_notes.html" title="Chef Client">
                    Chef Client
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/release_notes_chefdk.html" title="Chef Development Kit">
                    Chef Development Kit
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/release_notes_server.html" title="Chef Server">
                    Chef Server
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/release_notes_push_jobs.html" title="Chef Push Jobs">
                    Chef Push Jobs
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/release_notes_ohai.html" title="Ohai">
                    Ohai
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_deprecations_client.html" title="Deprecations">
                Deprecations
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Tutorials">
            Tutorials
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/learn-the-basics/" title="Learn the Basics">
                Learn the Basics
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/manage-a-node/" title="Manage a Node">
                Manage a Node
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/local-development/" title="Get started with Test Kitchen">
                Get started with Test Kitchen
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/manage-a-web-app/" title="Develop a web app cookbook">
                Develop a web app cookbook
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/inspec/" title="Verify with InSpec">
                Verify with InSpec
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/chefspec/" title="Unit test with ChefSpec">
                Unit test with ChefSpec
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/verify-style/" title="Verify code style">
                Verify code style
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/refactor-web-app-cookbook/" title="Refactor the web app cookbook">
                Refactor the web app cookbook
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Concepts">
            Concepts
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/workstation.html" title="Workstation">
                Workstation
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_repo.html" title="chef-repo">
                chef-repo
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/nodes.html" title="Nodes">
                Nodes
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_client.html" title="chef-client">
                chef-client
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_components.html" title="Server">
                Server
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_search.html" title="Search">
                Search
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/cookbooks.html" title="Cookbooks">
                Cookbooks
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/handlers.html" title="Handlers">
                Handlers
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/manage.html" title="Management Console">
                Management Console
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Policy">
                Policy
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/policy.html" title="About Policy">
                    About Policy
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/data_bags.html" title="Data Bags">
                    Data Bags
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/environments.html" title="Environments">
                    Environments
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/roles.html" title="Roles">
                    Roles
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/push_jobs.html" title="Push Jobs">
                Push Jobs
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/run_lists.html" title="Run-lists">
                Run-lists
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Security">
                Security
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/auth.html#authentication" title="Authentication">
                    Authentication
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/auth.html#authorization" title="Authorization">
                    Authorization
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/chef_private_keys.html" title="Private Keys">
                    Private Keys
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef_client.html#run-in-fips-mode" title="FIPS-mode">
                    FIPS-mode
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Supermarket">
                Supermarket
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/supermarket.html#public-supermarket" title="Public Supermarket">
                    Public Supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/supermarket.html#private-supermarket" title="Private Supermarket">
                    Private Supermarket
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/windows.html" title="Microsoft Windows">
                Microsoft Windows
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Appendix">
                Appendix
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/environment_variables.html" title="Env Variables">
                    Env Variables
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/errors.html" title="Troubleshooting">
                    Troubleshooting
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/glossary.html" title="Glossary">
                    Glossary
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Setup">
            Setup
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/proxies.html" title="Proxies">
                Proxies
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_dk.html" title="Workstation">
                Workstation
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Nodes">
                Nodes
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/install_bootstrap.html" title="Install via Bootstrap">
                    Install via Bootstrap
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_omnibus.html" title="Install via URL">
                    Install via URL
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_windows.html" title="Install on Windows">
                    Install on Windows
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/junos.html" title="Install on Junos OS">
                    Install on Junos OS
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef_client.html" title="chef-client (executable)">
                    chef-client (executable)
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_client.html" title="client.rb">
                    client.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/upgrade_client.html" title="Upgrades">
                    Upgrades
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/chef_client_security.html" title="Security">
                    Security
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Server">
                Server
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="https://manage.chef.io/signup" title="Hosted Chef Server">
                    Hosted Chef Server
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_server.html#standalone" title="Install Standalone">
                    Install Standalone
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_server_ha.html" title="Install High Availability">
                    Install High Availability
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/aws_marketplace.html" title="AWS Marketplace">
                    AWS Marketplace
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/azure_portal.html" title="Microsoft Azure">
                    Microsoft Azure
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/openstack.html" title="Openstack">
                    Openstack
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Supermarket">
                Supermarket
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="https://supermarket.chef.io" title="Public Supermarket">
                    Public Supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_supermarket.html" title="Install Private Supermarket">
                    Install Private Supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_supermarket.html#customize-supermarket" title="Customize Supermarket">
                    Customize Supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/install_supermarket.html#run-supermarket-in-kitchen" title="Run in Test Kitchen">
                    Run in Test Kitchen
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_server.html#install" title="Management Console">
                Management Console
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_push_jobs.html" title="Push Jobs">
                Push Jobs
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Integrations">
                Integrations
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/integrate_compliance_chef_server.html" title="w/Chef Compliance">
                    w/Chef Compliance
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/uninstall.html" title="Uninstall">
                Uninstall
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Cookbook Reference">
            Cookbook Reference
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/cookbooks.html" title="About Cookbooks">
                About Cookbooks
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/attributes.html" title="Attributes">
                Attributes
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/definitions.html" title="Definitions">
                Definitions
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/files.html" title="Files">
                Files
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/libraries.html" title="Libraries">
                Libraries
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Recipes">
                Recipes
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/recipes.html" title="About Recipes">
                    About Recipes
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/debug.html" title="Debug Recipes, Client Runs">
                    Debug Recipes, Client Runs
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Recipe DSL">
                Recipe DSL
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#attribute" title="attribute?">
                    attribute?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#control" title="control">
                    control
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#control-group" title="control_group">
                    control_group
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#cookbook-name" title="cookbook_name">
                    cookbook_name
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#data-bag" title="data_bag">
                    data_bag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#data-bag-item" title="data_bag_item">
                    data_bag_item
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#platform" title="platform?">
                    platform?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#platform-family" title="platform_family?">
                    platform_family?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#reboot-pending" title="reboot_pending?">
                    reboot_pending?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#recipe-name" title="recipe_name">
                    recipe_name
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-data-exists" title="registry_data_exists?">
                    registry_data_exists?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-get-subkeys" title="registry_get_subkeys">
                    registry_get_subkeys
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-get-values" title="registry_get_values">
                    registry_get_values
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-has-subkeys" title="registry_has_subkeys?">
                    registry_has_subkeys?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-key-exists" title="registry_key_exists?">
                    registry_key_exists?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#registry-value-exists" title="registry_value_exists?">
                    registry_value_exists?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#resources" title="resources">
                    resources
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#search" title="search">
                    search
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#shell-out" title="shell_out">
                    shell_out
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#shell-out-bang" title="shell_out!">
                    shell_out!
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#shell-out-with-systems-locale" title="shell_out_with_systems_locale">
                    shell_out_with_systems_locale
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#tag-tagged-untag" title="tag">
                    tag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#tag-tagged-untag" title="tagged?">
                    tagged?
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#tag-tagged-untag" title="untag">
                    untag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#value-for-platform" title="value_for_platform">
                    value_for_platform
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#value-for-platform-family" title="value_for_platform_family">
                    value_for_platform_family
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/dsl_recipe.html#helpers" title="Windows Platform Helpers">
                    Windows Platform Helpers
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Resources">
                Resources
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/resource.html" title="About Resources">
                    About Resources
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_common.html" title="Common Functionality">
                    Common Functionality
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/custom_resources.html" title="Custom Resources">
                    Custom Resources
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resources.html" title="All Resources (Single Page)">
                    All Resources (Single Page)
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_apt_package.html" title="apt_package">
                    apt_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_apt_repository.html" title="apt_repository">
                    apt_repository
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_apt_update.html" title="apt_update">
                    apt_update
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_bash.html" title="bash">
                    bash
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_batch.html" title="batch">
                    batch
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_bff_package.html" title="bff_package">
                    bff_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_breakpoint.html" title="breakpoint">
                    breakpoint
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_cab_package.html" title="cab_package">
                    cab_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_gem.html" title="chef_gem">
                    chef_gem
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_acl.html" title="chef_acl">
                    chef_acl
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_client.html" title="chef_client">
                    chef_client
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_container.html" title="chef_container">
                    chef_container
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_data_bag_item.html" title="chef_data_bag_item">
                    chef_data_bag_item
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_data_bag.html" title="chef_data_bag">
                    chef_data_bag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_environment.html" title="chef_environment">
                    chef_environment
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_group.html" title="chef_group">
                    chef_group
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_handler.html" title="chef_handler">
                    chef_handler
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_mirror.html" title="chef_mirror">
                    chef_mirror
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_node.html" title="chef_node">
                    chef_node
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_organization.html" title="chef_organization">
                    chef_organization
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_role.html" title="chef_role">
                    chef_role
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chef_user.html" title="chef_user">
                    chef_user
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_chocolatey_package.html" title="chocolatey_package">
                    chocolatey_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_cookbook_file.html" title="cookbook_file">
                    cookbook_file
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_cron.html" title="cron">
                    cron
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_csh.html" title="csh">
                    csh
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_deploy.html" title="deploy">
                    deploy
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_directory.html" title="directory">
                    directory
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_dpkg_package.html" title="dpkg_package">
                    dpkg_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_dsc_resource.html" title="dsc_resource">
                    dsc_resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_dsc_script.html" title="dsc_script">
                    dsc_script
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_easy_install_package.html" title="easy_install_package">
                    easy_install_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_env.html" title="env">
                    env
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_erlang_call.html" title="erl_call">
                    erl_call
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_execute.html" title="execute">
                    execute
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_file.html" title="file">
                    file
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_freebsd_package.html" title="freebsd_package">
                    freebsd_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_gem_package.html" title="gem_package">
                    gem_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_git.html" title="git">
                    git
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_group.html" title="group">
                    group
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_homebrew_package.html" title="homebrew_package">
                    homebrew_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_http_request.html" title="http_request">
                    http_request
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ifconfig.html" title="ifconfig">
                    ifconfig
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ips_package.html" title="ips_package">
                    ips_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ksh.html" title="ksh">
                    ksh
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_launchd.html" title="launchd">
                    launchd
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_link.html" title="link">
                    link
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_log.html" title="log">
                    log
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_macports_package.html" title="macports_package">
                    macports_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_mdadm.html" title="mdadm">
                    mdadm
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_mount.html" title="mount">
                    mount
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_msu_package.html" title="msu_package">
                    msu_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ohai.html" title="ohai">
                    ohai
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_openbsd_package.html" title="openbsd_package">
                    openbsd_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_osx_profile.html" title="osx_profile">
                    osx_profile
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_package.html" title="package">
                    package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_pacman_package.html" title="pacman_package">
                    pacman_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_paludis_package.html" title="paludis_package">
                    paludis_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_perl.html" title="perl">
                    perl
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_portage_package.html" title="portage_package">
                    portage_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_powershell_script.html" title="powershell_script">
                    powershell_script
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_private_key.html" title="private_key">
                    private_key
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_public_key.html" title="public_key">
                    public_key
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_python.html" title="python">
                    python
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_reboot.html" title="reboot">
                    reboot
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_registry_key.html" title="registry_key">
                    registry_key
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_remote_directory.html" title="remote_directory">
                    remote_directory
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_remote_file.html" title="remote_file">
                    remote_file
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_route.html" title="route">
                    route
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_rpm_package.html" title="rpm_package">
                    rpm_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ruby.html" title="ruby">
                    ruby
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_ruby_block.html" title="ruby_block">
                    ruby_block
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_script.html" title="script">
                    script
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_service.html" title="service">
                    service
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_smartos_package.html" title="smartos_package">
                    smartos_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_solaris_package.html" title="solaris_package">
                    solaris_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_subversion.html" title="subversion">
                    subversion
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_systemd_unit.html" title="systemd_unit">
                    systemd_unit
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_template.html" title="template">
                    template
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_user.html" title="user">
                    user
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_windows_package.html" title="windows_package">
                    windows_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_windows_service.html" title="windows_service">
                    windows_service
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_yum.html" title="yum_package">
                    yum_package
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_yum_repository.html" title="yum_repository">
                    yum_repository
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_examples.html" title="Examples (by Resource)">
                    Examples (by Resource)
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/templates.html" title="Templates">
                Templates
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/cookbook_repo.html" title="Cookbook Repo">
                Cookbook Repo
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_metadata.html" title="metadata.rb">
                metadata.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/cookbook_versions.html" title="Cookbook Versions">
                Cookbook Versions
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ruby.html" title="Ruby">
                Ruby
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Chef DK">
            Chef DK
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/about_chefdk.html" title="About the ChefDK">
                About the ChefDK
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/berkshelf.html" title="Berkshelf">
                Berkshelf
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_apply.html" title="chef-apply (executable)">
                chef-apply (executable)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_shell.html" title="chef-shell (executable)">
                chef-shell (executable)
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="chef (executable)">
                chef (executable)
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-env" title="chef env">
                    chef env
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-exec" title="chef exec">
                    chef exec
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-gem" title="chef gem">
                    chef gem
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-app" title="chef generate app">
                    chef generate app
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-attribute" title="chef generate attribute">
                    chef generate attribute
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-cookbook" title="chef generate cookbook">
                    chef generate cookbook
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-file" title="chef generate file">
                    chef generate file
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-lwrp" title="chef generate lwrp">
                    chef generate lwrp
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-recipe" title="chef generate recipe">
                    chef generate recipe
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-repo" title="chef generate repo">
                    chef generate repo
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-generate-template" title="chef generate template">
                    chef generate template
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-provision" title="chef provision">
                    chef provision
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-shell-init" title="chef shell-init">
                    chef shell-init
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef.html#chef-verify" title="chef verify">
                    chef verify
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Chef Solo">
                Chef Solo
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/chef_solo.html" title="About Chef Solo">
                    About Chef Solo
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_chef_solo.html" title="chef-solo (executable)">
                    chef-solo (executable)
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_solo.html" title="solo.rb">
                    solo.rb
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_shell.html" title="chef-shell (executable)">
                chef-shell (executable)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_client.html#run-in-local-mode" title="chef-zero (local mode)">
                chef-zero (local mode)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_vault.html" title="chef-vault">
                chef-vault
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chefspec.html" title="ChefSpec">
                ChefSpec
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Configuration">
                Configuration
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/config_rb.html" title="config.rb">
                    config.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_client.html#d-directories" title="Multiple Config Files">
                    Multiple Config Files
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/cookstyle.html" title="cookstyle">
                cookstyle
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_delivery.html" title="Delivery CLI">
                Delivery CLI
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/foodcritic.html" title="Foodcritic">
                Foodcritic
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Test Kitchen">
                Test Kitchen
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/kitchen.html" title="About Test Kitchen">
                    About Test Kitchen
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_kitchen.html" title="kitchen (executable)">
                    kitchen (executable)
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_yml_kitchen.html" title=".kitchen.yml">
                    .kitchen.yml
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_kitchen_vagrant.html" title="kitchen-vagrant">
                    kitchen-vagrant
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Knife">
                Knife
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/knife.html" title="About Knife">
                    About Knife
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_common_options.html" title="Common Options">
                    Common Options
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_using.html" title="Using Knife">
                    Using Knife
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_knife.html" title="knife.rb">
                    knife.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_bootstrap.html" title="knife bootstrap">
                    knife bootstrap
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_client.html" title="knife client">
                    knife client
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_configure.html" title="knife configure">
                    knife configure
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_cookbook.html" title="knife cookbook">
                    knife cookbook
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_cookbook_site.html" title="knife cookbook site">
                    knife cookbook site
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_data_bag.html" title="knife data bag">
                    knife data bag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_delete.html" title="knife delete">
                    knife delete
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_deps.html" title="knife deps">
                    knife deps
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_diff.html" title="knife diff">
                    knife diff
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_download.html" title="knife download">
                    knife download
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_edit.html" title="knife edit">
                    knife edit
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_environment.html" title="knife environment">
                    knife environment
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_exec.html" title="knife exec">
                    knife exec
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_list.html" title="knife list">
                    knife list
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_node.html" title="knife node">
                    knife node
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_raw.html" title="knife raw">
                    knife raw
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_recipe_list.html" title="knife recipe list">
                    knife recipe list
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_role.html" title="knife role">
                    knife role
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_search.html" title="knife search">
                    knife search
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_serve.html" title="knife serve">
                    knife serve
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_show.html" title="knife show">
                    knife show
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_ssh.html" title="knife ssh">
                    knife ssh
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_ssl_check.html" title="knife ssl_check">
                    knife ssl_check
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_ssl_fetch.html" title="knife ssl_fetch">
                    knife ssl_fetch
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_status.html" title="knife status">
                    knife status
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_tag.html" title="knife tag">
                    knife tag
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_upload.html" title="knife upload">
                    knife upload
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_user.html" title="knife user">
                    knife user
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/knife_xargs.html" title="knife xargs">
                    knife xargs
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="knife opc">
                knife opc
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html" title="About knife opc">
                    About knife opc
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#knife-rb-configuration" title="knife.rb Configuration">
                    knife.rb Configuration
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-list" title="opc user list">
                    opc user list
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-show" title="opc user show">
                    opc user show
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-create" title="opc user create">
                    opc user create
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-delete" title="opc user delete">
                    opc user delete
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-edit" title="opc user edit">
                    opc user edit
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-user-password" title="opc user password">
                    opc user password
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-list" title="opc org list">
                    opc org list
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-show" title="opc org show">
                    opc org show
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-create" title="opc org create">
                    opc org create
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-delete" title="opc org delete">
                    opc org delete
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-user-add" title="opc org user add">
                    opc org user add
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_opc.html#opc-org-user-remove" title="opc org user remove">
                    opc org user remove
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_knife_spork.html" title="knife spork">
                knife spork
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="knife supermarket">
                knife supermarket
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html" title="About knife supermarket">
                    About knife supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#download" title="supermarket download">
                    supermarket download
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#install" title="supermarket install">
                    supermarket install
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#list" title="supermarket list">
                    supermarket list
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#search" title="supermarket search">
                    supermarket search
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#share" title="supermarket share">
                    supermarket share
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#show" title="supermarket show">
                    supermarket show
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html#unshare" title="supermarket unshare">
                    supermarket unshare
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Ohai">
                Ohai
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/ohai.html" title="About Ohai">
                    About Ohai
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_ohai.html" title="ohai (executable)">
                    ohai (executable)
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Policyfile">
                Policyfile
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/policyfile.html" title="About Policyfile">
                    About Policyfile
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_policyfile.html" title="Policyfile.rb">
                    Policyfile.rb
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Provisioning">
                Provisioning
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/provisioning.html" title="About Provisioning">
                    About Provisioning
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_load_balancer.html" title="load_balancer resource">
                    load_balancer resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_machine.html" title="machine resource">
                    machine resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_machine_batch.html" title="machine_batch resource">
                    machine_batch resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_machine_execute.html" title="machine_execute resource">
                    machine_execute resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_machine_file.html" title="machine_file resource">
                    machine_file resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/resource_machine_image.html" title="machine_image resource">
                    machine_image resource
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/provisioning_aws.html" title="AWS Driver Resources">
                    AWS Driver Resources
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/provisioning_fog.html" title="Fog Driver Resources">
                    Fog Driver Resources
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/provisioning_vagrant.html" title="Vagrant Driver Resources">
                    Vagrant Driver Resources
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_push_jobs_client.html" title="push-jobs-client (executable)">
                push-jobs-client (executable)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/rubocop.html" title="Rubocop">
                Rubocop
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Managing the Server">
            Managing the Server
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/runbook.html" title="Runbook (Single Page)">
                Runbook (Single Page)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_backup_restore.html" title="Backup &amp; Restore">
                Backup &amp; Restore
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_data.html" title="Data Storage">
                Data Storage
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_firewalls_and_ports.html" title="Firewalls &amp; Ports">
                Firewalls &amp; Ports
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_ldap.html" title="Active Directory &amp; LDAP">
                Active Directory &amp; LDAP
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_logs.html" title="Log Files">
                Log Files
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_monitor.html" title="Monitor">
                Monitor
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_orgs.html" title="Organizations &amp; Groups">
                Organizations &amp; Groups
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/secrets.html" title="Secrets">
                Secrets
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_security.html" title="Security">
                Security
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_services.html" title="Services">
                Services
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_tuning.html" title="Tuning">
                Tuning
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/upgrade_server.html" title="Upgrades">
                Upgrades
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/upgrade_server_ha_v2.html" title="Upgrade HA Cluster">
                Upgrade HA Cluster
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_users.html" title="Users">
                Users
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_server.html" title="chef-server-ctl">
                chef-server-ctl
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_chef_backend.html" title="chef-backend-ctl">
                chef-backend-ctl
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_server.html" title="chef-server.rb">
                chef-server.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_opscode_expander.html" title="opscode-expander-ctl">
                opscode-expander-ctl
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_chef_server.html" title="Chef Server API">
                Chef Server API
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Push Jobs">
                Push Jobs
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_push_jobs.html" title="knife push jobs">
                    knife push jobs
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_push_jobs_client.html" title="push-jobs-client">
                    push-jobs-client
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_push_jobs_client.html" title="push-jobs-client.rb">
                    push-jobs-client.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_push_jobs_server.html" title="push-jobs-server.rb">
                    push-jobs-server.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/api_push_jobs.html" title="Push Jobs API">
                    Push Jobs API
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_sent_events.html" title="Server Sent Events">
                    Server Sent Events
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Supermarket">
                Supermarket
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/supermarket_logs.html" title="Log Files">
                    Log Files
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/supermarket_monitor.html" title="Monitoring">
                    Monitoring
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_supermarket.html" title="supermarket.rb">
                    supermarket.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/plugin_knife_supermarket.html" title="knife supermarket">
                    knife supermarket
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_supermarket.html" title="supermarket-ctl">
                    supermarket-ctl
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/supermarket_api.html" title="Supermarket API">
                    Supermarket API
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Management Console">
                Management Console
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/server_configure_saml.html" title="Configure SAML">
                    Configure SAML
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_clients.html" title="Clients">
                    Clients
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_cookbooks.html" title="Cookbooks">
                    Cookbooks
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_data_bags.html" title="Data Bags">
                    Data Bags
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_environments.html" title="Environments">
                    Environments
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_nodes.html" title="Nodes">
                    Nodes
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_manage_roles.html" title="Roles">
                    Roles
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/server_users.html#chef-manage" title="Users">
                    Users
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/config_rb_manage.html" title="manage.rb">
                    manage.rb
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_manage.html" title="chef-manage-ctl">
                    chef-manage-ctl
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Habitat"> <!-- if item has custom image -->

        <img class="icon-left" src="./_static/habitat-mark.png"></img> Habitat <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items"> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/habitat.html" title="Habitat Overview">
            Habitat Overview
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Tutorials">
            Tutorials
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://www.habitat.sh/tutorials/getting-started-overview" title="Getting started">
                Getting started
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="InSpec"> <!-- if item has custom image -->

        <img class="icon-left" src="./_static/inspec_logo.png"></img> InSpec <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items"> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/inspec.html" title="InSpec Overview">
            InSpec Overview
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Chef Automate"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-cogs icon-left"></i> Chef Automate <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items">

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Getting Started">
            Getting Started
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_automate.html" title="Chef Automate Overview">
                Chef Automate Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_chef_automate.html" title="Installation Guide">
                Installation Guide
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Tutorials">
            Tutorials
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/automate/install" title="Get Started">
                Get Started
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/automate/visibility" title="Visibility into Infrastructure">
                Visibility into Infrastructure
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/automate/deploy-cookbook/" title="Deploy with Chef Automate">
                Deploy with Chef Automate
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/compliance-assess" title="Assess for Compliance">
                Assess for Compliance
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="https://learn.chef.io/tutorials/compliance-remediate" title="Remediate Compliance Failures">
                Remediate Compliance Failures
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Setup">
            Setup
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_pipeline.html" title="Configure a Pipeline">
                Configure a Pipeline
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_json_delivery.html" title="Configure a Project">
                Configure a Project
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/setup_visibility_chef_automate.html" title="Configure Data Collection">
                Configure Data Collection
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Concepts">
            Concepts
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2">

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Workflow">
                Workflow
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/workflow.html" title="Workflow Overview">
                    Workflow Overview
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/delivery_manage_dependencies.html" title="Manage Dependencies">
                    Manage Dependencies
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/visibility.html" title="Visibility Overview">
                Visibility Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/compliance.html" title="Compliance Overview">
                Compliance Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/ctl_delivery.html" title="Delivery CLI">
            Delivery CLI
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Integrations">
            Integrations
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_delivery_bitbucket.html" title="w/Bitbucket">
                w/Bitbucket
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_delivery_smtp.html" title="w/Email (SMTP)">
                w/Email (SMTP)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_delivery_github.html" title="w/GitHub">
                w/GitHub
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_delivery_ldap.html" title="w/LDAP">
                w/LDAP
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_chef_automate_saml.html" title="w/SAML">
                w/SAML
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_delivery_slack.html" title="w/Slack">
                w/Slack
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Cookbooks">
            Cookbooks
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_build_cookbook.html" title="build-cookbook (cookbook)">
                build-cookbook (cookbook)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_truck.html" title="delivery-truck (cookbook)">
                delivery-truck (cookbook)
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/publish_cookbooks_multiple_servers.html" title="Publish to Multiple Chef Servers">
                Publish to Multiple Chef Servers
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/dsl_delivery.html" title="Workflow DSL">
            Workflow DSL
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/job_dispatch.html" title="Job Dispatch">
            Job Dispatch
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Managing the Server">
            Managing the Server
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2">

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="Backups">
                Backups
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/delivery_server_backup.html#configuration" title="Configuration">
                    Configuration
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/delivery_server_backup.html#create-backups" title="Create Backups">
                    Create Backups
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/delivery_server_backup.html#list-backups" title="List Backups">
                    List Backups
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/delivery_server_backup.html#delete-backups" title="Delete Backups">
                    Delete Backups
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/delivery_server_backup.html#restore-backups" title="Restore Backups">
                    Restore Backups
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/scaling_capacity_planning_chef_automate.html" title="Capacity Planning">
                Capacity Planning
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_delivery.html" title="Chef Automate API">
                Chef Automate API
              </a>
            </li> <!-- /if subItem2.hasSubItems -->

            <li class="has-sub-items">
              <div class="has-sub-items-content" title="automate-ctl">
                automate-ctl
                <i class="fa fa-chevron-down"></i>
              </div>
              <ul class="sub-items level-3">

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#cleanse" title="cleanse">
                    cleanse
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#create-enterprise" title="create-enterprise">
                    create-enterprise
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#create-user" title="create-user">
                    create-user
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-application" title="delete-application">
                    delete-application
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-enterprise" title="delete-enterprise">
                    delete-enterprise
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-project" title="delete-project">
                    delete-project
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-user" title="delete-user">
                    delete-user
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-visibility-node" title="delete-visibility-node">
                    delete-visibility-node
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#delete-visibility-node-by-id" title="delete-visibility-node-by-id">
                    delete-visibility-node-by-id
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#gather-logs" title="gather-logs">
                    gather-logs
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#help" title="help">
                    help
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#install-runner" title="install-runner">
                    install-runner
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#list-applications" title="list-applications">
                    list-applications
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#list-enterprises" title="list-enterprises">
                    list-enterprises
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#list-users" title="list-users">
                    list-users
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#migrate-change-description" title="migrate-change-description">
                    migrate-change-description
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#migrate-patchset-diffs" title="migrate-patchset-diffs">
                    migrate-patchset-diffs
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#preflight-check" title="preflight-check">
                    preflight-check
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#reconfigure" title="reconfigure">
                    reconfigure
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#rename-enterprise" title="rename-enterprise">
                    rename-enterprise
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#reset-password" title="reset-password">
                    reset-password
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#restore-backup" title="restore-backup">
                    restore-backup
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#revoke-token" title="revoke-token">
                    revoke-token
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#show-config" title="show-config">
                    show-config
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#uninstall" title="uninstall">
                    uninstall
                  </a>
                </li>

                <li>
                  <a class="nav-docs-link" href="/ctl_delivery_server.html#update-project-hooks" title="update-project-hooks">
                    update-project-hooks
                  </a>
                </li> <!-- /for subItem3 in subItem2.subItems -->

              </ul>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_delivery.html" title="delivery.rb">
                delivery.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_server_disaster_recovery.html" title="Disaster Recovery">
                Disaster Recovery
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/elasticsearch_and_kibana_auth.html" title="Elasticsearch &amp; Kibana Auth">
                Elasticsearch &amp; Kibana Auth
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/manage_indices_chef_automate.html" title="Manage Elasticsearch Indices">
                Manage Elasticsearch Indices
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/search_query_chef_automate.html" title="Node Search Reference">
                Node Search Reference
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_manage_secrets.html" title="Secrets">
                Secrets
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/stream_data_chef_automate.html" title="Stream Data">
                Stream Data
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_server_tuning.html" title="Tuning">
                Tuning
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/upgrade_chef_automate.html" title="Upgrades">
                Upgrades
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/delivery_users_and_roles.html" title="Users &amp; Roles">
                Users &amp; Roles
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Compliance scanner">
            Compliance scanner
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/compliance.html" title="Overview">
                Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/release_notes_compliance.html" title="Release Notes">
                Release Notes
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_compliance.html" title="Installation Guide">
                Installation Guide
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_compliance_chef_server.html" title="Integrate w/Chef Server">
                Integrate w/Chef Server
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/integrate_compliance_chef_automate.html" title="Integrate w/Chef Automate">
                Integrate w/Chef Automate
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/upgrade_compliance.html" title="Upgrade Compliance">
                Upgrade Compliance
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_compliance.html" title="chef-compliance.rb">
                chef-compliance.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_compliance.html" title="Chef Compliance API">
                Chef Compliance API
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/aws_opsworks_chef_automate.html" title="AWS OpsWorks for Chef Automate">
            AWS OpsWorks for Chef Automate
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/troubleshooting_chef_automate.html" title="Troubleshooting">
            Troubleshooting
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Legacy"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-hdd-o icon-left"></i> Legacy <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items">

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Analytics">
            Analytics
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics.html" title="Overview">
                Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/release_notes_analytics.html" title="Release Notes">
                Release Notes
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_analytics.html" title="Install Standalone">
                Install Standalone
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/actions.html" title="Web UI">
                Web UI
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics_webui_tasks.html" title="Management Console">
                Management Console
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics_nodes_view.html" title="Nodes View">
                Nodes View
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics.html#integrations" title="Integrations">
                Integrations
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics_splunk.html" title="Splunk">
                Splunk
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics_rules.html" title="Rules">
                Rules
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/analytics_monitor.html" title="Monitor">
                Monitor
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/upgrade_analytics.html" title="Upgrades">
                Upgrades
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/chef_client_analytics.html" title="Chef Client for Analytics">
                Chef Client for Analytics
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_analytics.html" title="opscode-analytics-ctl">
                opscode-analytics-ctl
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_analytics.html" title="opscode-analytics.rb">
                opscode-analytics.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_knife_analytics.html" title="knife-analytics">
                knife-analytics
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_analytics.html" title="Analytics API">
                Analytics API
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/dsl_recipe_analytics.html" title="Recipe DSL for Analytics">
                Recipe DSL for Analytics
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Reporting">
            Reporting
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/reporting.html" title="Overview">
                Overview
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/install_reporting.html" title="Install Reporting">
                Install Reporting
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/server_manage_reports.html" title="View Reports">
                View Reports
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_knife_reporting.html" title="knife reporting">
                knife reporting
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ctl_reporting.html" title="opscode-reporting-ctl">
                opscode-reporting-ctl
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/config_rb_reporting.html" title="opscode-reporting.rb">
                opscode-reporting.rb
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/api_reporting.html" title="Reporting API">
                Reporting API
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li>
    <li class="main-item has-sub-items">

      <div class="has-sub-items-content" title="Extension APIs"> <!-- else item does not have custom image and should use FontAwesome icon -->

        <i class="fa fa-clone icon-left"></i> Extension APIs <!-- endif -->

        <i class="fa fa-chevron-down"></i>
      </div>


      <ul class="sub-items"> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/dsl_compliance.html" title="Compliance DSL">
            Compliance DSL
          </a>
        </li>

         <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Handlers">
            Handlers
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/handlers.html#custom-handlers" title="Custom Handlers">
                Custom Handlers
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/dsl_handler.html" title="Handler DSL">
                Handler DSL
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_community.html#handlers" title="Community Handlers">
                Community Handlers
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Knife Plugins">
            Knife Plugins
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_knife.html" title="About Cloud Plugins">
                About Cloud Plugins
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_knife_custom.html" title="Custom Plugins">
                Custom Plugins
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_community.html#knife" title="Community Plugins">
                Community Plugins
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems -->

        <li class="has-sub-items">
          <div class="has-sub-items-content" title="Ohai Plugins">
            Ohai Plugins
            <i class="fa fa-chevron-down"></i>
          </div>
          <ul class="sub-items level-2"> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/ohai_custom.html" title="Custom Plugins">
                Custom Plugins
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem2 does not have sub items -->

            <li>
              <a class="nav-docs-link" href="/plugin_community.html#ohai" title="Community Plugins">
                Community Plugins
              </a>
            </li> <!-- /if subItem2.hasSubItems --> <!-- /for subItem2 in subItem.subItems -->

          </ul>
        
        </li> <!-- /if subItem2.hasSubItems --> <!-- if subItem does not have sub items  -->

        <li>
          <a class="nav-docs-link" href="/plugin_community.html#chef-client" title="Chef Client Plugins">
            Chef Client Plugins
          </a>
        </li>

         <!-- /if subItem2.hasSubItems --> <!-- /for subItem in subItems -->

      </ul>
    </li> <!-- /for item in navItems -->
    
    <li class="main-item dark-item">
      <a href="https://github.com/chef/chef-web-docs" title="Available on GitHub">
        <i class="fa fa-github icon-left"></i>
        Available on GitHub
      </a>
    </li>
    <li class="main-item dark-item">
      <a href="https://www.chef.io/chef/get-chef">
        <i class="fa fa-download icon-left"></i>
        Get Chef
      </a>
    </li>
    <li class="main-item dark-item">
      <a href="https://docs.chef.io/feedback.html">
        <i class="fa fa-commenting icon-left"></i>
        Send Feedback
      </a>
    </li>
    <li class="main-item dark-item">
      <a href="https://www.chef.io/support/">
        <i class="fa fa-support icon-left"></i>
        Support
      </a>
    </li>
    <li class="main-item dark-item">
      <a href="https://docs.chef.io/index.html">
        <i class="fa fa-map-o icon-left"></i>
        Site Map
      </a>
    </li>
    <li class="main-item dark-item">
      <a href="https://docs-archive.chef.io/">
        <i class="fa fa-archive icon-left"></i>
        Archive
      </a>
    </li>
  </ul>
</nav>
      <div class="documentwrapper"><div class="sphinxsidebar" role="navigation" aria-label="main navigation">
  <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Custom Resources</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#resource-name">resource_name</a></li>
</ul>
</li>
<li><a class="reference internal" href="#scenario-website-resource">Scenario: website Resource</a><ul>
<li><a class="reference internal" href="#create-a-cookbook">Create a Cookbook</a></li>
<li><a class="reference internal" href="#objectives">Objectives</a><ul>
<li><a class="reference internal" href="#what-is-needed">What is needed?</a></li>
</ul>
</li>
<li><a class="reference internal" href="#define-properties">Define Properties</a></li>
<li><a class="reference internal" href="#define-actions">Define Actions</a></li>
<li><a class="reference internal" href="#define-resource">Define Resource</a><ul>
<li><a class="reference internal" href="#package">package</a></li>
<li><a class="reference internal" href="#template-httpd-service">template, httpd.service</a></li>
<li><a class="reference internal" href="#template-httpd-conf">template, httpd.conf</a></li>
<li><a class="reference internal" href="#directory">directory</a></li>
<li><a class="reference internal" href="#service">service</a></li>
</ul>
</li>
<li><a class="reference internal" href="#create-templates">Create Templates</a><ul>
<li><a class="reference internal" href="#httpd-conf-erb">httpd.conf.erb</a><ul>
<li><a class="reference internal" href="#template-variables">Template Variables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#httpd-service-erb">httpd.service.erb</a></li>
</ul>
</li>
<li><a class="reference internal" href="#final-resource">Final Resource</a></li>
<li><a class="reference internal" href="#final-cookbook-directory">Final Cookbook Directory</a></li>
<li><a class="reference internal" href="#recipe">Recipe</a></li>
</ul>
</li>
<li><a class="reference internal" href="#custom-resource-dsl">Custom Resource DSL</a><ul>
<li><a class="reference internal" href="#action-class">action_class</a></li>
<li><a class="reference internal" href="#converge-if-changed">converge_if_changed</a><ul>
<li><a class="reference internal" href="#multiple-properties">Multiple Properties</a></li>
</ul>
</li>
<li><a class="reference internal" href="#default-action">default_action</a></li>
<li><a class="reference internal" href="#load-current-value">load_current_value</a></li>
<li><a class="reference internal" href="#new-resource-property">new_resource.property</a></li>
<li><a class="reference internal" href="#property">property</a><ul>
<li><a class="reference internal" href="#ruby-type">ruby_type</a></li>
<li><a class="reference internal" href="#validators">validators</a></li>
<li><a class="reference internal" href="#desired-state">desired_state</a></li>
<li><a class="reference internal" href="#identity">identity</a></li>
</ul>
</li>
<li><a class="reference internal" href="#block-arguments">Block Arguments</a></li>
<li><a class="reference internal" href="#property-is-set">property_is_set?</a></li>
<li><a class="reference internal" href="#provides">provides</a><ul>
<li><a class="reference internal" href="#override">override</a></li>
</ul>
</li>
<li><a class="reference internal" href="#reset-property">reset_property</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
</div>
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="custom-resources">
<h1>Custom Resources<a class="headerlink" href="#custom-resources" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/chef/chef-web-docs/blob/master/chef_master/source/custom_resources.rst">[edit on GitHub]</a></p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This approach to building custom resources was introduced in chef-client, version 12.5. It is the recommended approach for all custom resources starting with that version of the chef-client. If you are using an older version of the chef-client, please use the version picker (in the top left of the navigation) to select your version, and then choose the same topic from the navigation tree (&#8220;Extend Chef &gt; Custom Resources&#8221;). See also <a class="reference external" href="https://github.com/chef-cookbooks/compat_resource">https://github.com/chef-cookbooks/compat_resource</a> for using custom resources with chef-client 12.1 - 12.4.</p>
</div>
<p>A custom resource:</p>
<ul class="simple">
<li>Is a simple extension of Chef that adds your own resources</li>
<li>Is implemented and shipped as part of a cookbook</li>
<li>Follows easy, repeatable syntax patterns</li>
<li>Effectively leverages resources that are built into Chef and/or custom Ruby code</li>
<li>Is reusable in the same way as resources that are built into Chef</li>
</ul>
<p>For example, Chef includes built-in resources to manage files, packages, templates, and services, but it does not include a resource that manages websites.</p>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<p>A custom resource is defined as a Ruby file and is located in a cookbook&#8217;s <tt class="docutils literal"><span class="pre">/resources</span></tt> directory. This file</p>
<ul class="simple">
<li>Declares the properties of the custom resource</li>
<li>Loads current properties, if the resource already exists</li>
<li>Defines each action the custom resource may take</li>
</ul>
<p>The syntax for a custom resource is. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:name</span><span class="p">,</span> <span class="no">RubyType</span><span class="p">,</span> <span class="ss">default</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span>

<span class="n">load_current_value</span> <span class="k">do</span>
  <span class="c1"># some Ruby</span>
<span class="k">end</span>

<span class="n">action</span> <span class="ss">:name</span> <span class="k">do</span>
 <span class="c1"># a mix of built-in Chef resources and Ruby</span>
<span class="k">end</span>

<span class="n">action</span> <span class="ss">:name</span> <span class="k">do</span>
 <span class="c1"># a mix of built-in Chef resources and Ruby</span>
<span class="k">end</span>
</pre></div>
</div>
<p>where the first action listed is the default action.</p>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>For example, the <tt class="docutils literal"><span class="pre">site.rb</span></tt> file in the <tt class="docutils literal"><span class="pre">exampleco</span></tt> cookbook could be similar to:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:homepage</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="ss">default</span><span class="p">:</span> <span class="s1">&#39;&lt;h1&gt;Hello world!&lt;/h1&gt;&#39;</span>

<span class="n">load_current_value</span> <span class="k">do</span>
  <span class="k">if</span> <span class="o">::</span><span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="s1">&#39;/var/www/html/index.html&#39;</span><span class="p">)</span>
    <span class="n">homepage</span> <span class="no">IO</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;/var/www/html/index.html&#39;</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">action</span> <span class="ss">:create</span> <span class="k">do</span>
  <span class="n">package</span> <span class="s1">&#39;httpd&#39;</span>

  <span class="n">service</span> <span class="s1">&#39;httpd&#39;</span> <span class="k">do</span>
    <span class="n">action</span> <span class="o">[</span><span class="ss">:enable</span><span class="p">,</span> <span class="ss">:start</span><span class="o">]</span>
  <span class="k">end</span>

  <span class="n">file</span> <span class="s1">&#39;/var/www/html/index.html&#39;</span> <span class="k">do</span>
    <span class="n">content</span> <span class="n">homepage</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">action</span> <span class="ss">:delete</span> <span class="k">do</span>
  <span class="n">package</span> <span class="s1">&#39;httpd&#39;</span> <span class="k">do</span>
    <span class="n">action</span> <span class="ss">:delete</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">homepage</span></tt> is a property that sets the default HTML for the <tt class="docutils literal"><span class="pre">index.html</span></tt> file with a default value of <tt class="docutils literal"><span class="pre">'&lt;h1&gt;Hello</span> <span class="pre">world!&lt;/h1&gt;'</span></tt></li>
<li>the (optional) <tt class="docutils literal"><span class="pre">load_current_value</span></tt> block loads the current values for all specified properties, in this example there is just a single property: <tt class="docutils literal"><span class="pre">homepage</span></tt></li>
<li>the <tt class="docutils literal"><span class="pre">if</span></tt> statement checks to see if the <tt class="docutils literal"><span class="pre">index.html</span></tt> file is already present on the node. If that file is already present, its contents are loaded <strong>instead</strong> of the default value for <tt class="docutils literal"><span class="pre">homepage</span></tt></li>
<li>the <tt class="docutils literal"><span class="pre">action</span></tt> block uses the built-in collection of resources to tell the chef-client how to install Apache, start the service, and then create the contents of the file located at <tt class="docutils literal"><span class="pre">/var/www/html/index.html</span></tt></li>
<li><tt class="docutils literal"><span class="pre">action</span> <span class="pre">:create</span></tt> is the default resource; <tt class="docutils literal"><span class="pre">action</span> <span class="pre">:delete</span></tt> must be called specifically (because it is not the default resource)</li>
</ul>
<p>Once built, the custom resource may be used in a recipe just like the any of the resources that are built into Chef. The resource gets its name from the cookbook and from the file name in the <tt class="docutils literal"><span class="pre">/resources</span></tt> directory, with an underscore (<tt class="docutils literal"><span class="pre">_</span></tt>) separating them. For example, a cookbook named <tt class="docutils literal"><span class="pre">exampleco</span></tt> with a custom resource named <tt class="docutils literal"><span class="pre">site.rb</span></tt> is used in a recipe like this:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">exampleco_site</span> <span class="s1">&#39;httpd&#39;</span> <span class="k">do</span>
  <span class="n">homepage</span> <span class="s1">&#39;&lt;h1&gt;Welcome to the Example Co. website!&lt;/h1&gt;&#39;</span>
  <span class="n">action</span> <span class="ss">:create</span>
<span class="k">end</span>
</pre></div>
</div>
<p>and to delete the exampleco website, do the following:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">exampleco_site</span> <span class="s1">&#39;httpd&#39;</span> <span class="k">do</span>
  <span class="n">action</span> <span class="ss">:delete</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="resource-name">
<h3>resource_name<a class="headerlink" href="#resource-name" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Cookbook and custom resource names should contain only alphanumeric characters. A hyphen (<tt class="docutils literal"><span class="pre">-</span></tt>) is a valid character and may be used in cookbook and custom resource names, but it is discouraged. The chef-client will return an error if a hyphen is not converted to an underscore (<tt class="docutils literal"><span class="pre">_</span></tt>) when referencing from a recipe the name of a custom resource in which a hyphen is located.</p>
</div>
<p>Use the <tt class="docutils literal"><span class="pre">resource_name</span></tt> method at the top of a custom resource to declare a custom name for that resource. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">resource_name</span> <span class="ss">:custom_name</span>
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">:custom_name</span></tt> is the resource name as it may be used in a recipe. For example, a cookbook named <tt class="docutils literal"><span class="pre">website</span></tt> and a custom resource file named <tt class="docutils literal"><span class="pre">httpd</span></tt> is by default used in a recipe with <tt class="docutils literal"><span class="pre">website_httpd</span></tt>. If <tt class="docutils literal"><span class="pre">:custom_name</span></tt> is <tt class="docutils literal"><span class="pre">web_httpd</span></tt> then it may be used like this:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">web_httpd</span> <span class="s1">&#39;name&#39;</span> <span class="k">do</span>
  <span class="c1"># properties</span>
<span class="k">end</span>
</pre></div>
</div>
<p>For example, the <tt class="docutils literal"><span class="pre">httpd.rb</span></tt> file in the <tt class="docutils literal"><span class="pre">website</span></tt> cookbook could be assigned a custom resource name like this:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">resource_name</span> <span class="ss">:httpd</span>

<span class="n">property</span> <span class="ss">:homepage</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="ss">default</span><span class="p">:</span> <span class="s1">&#39;&lt;h1&gt;Hello world!&lt;/h1&gt;&#39;</span>

<span class="n">load_current_value</span> <span class="k">do</span>
  <span class="k">if</span> <span class="o">::</span><span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="s1">&#39;/var/www/html/index.html&#39;</span><span class="p">)</span>
    <span class="n">homepage</span> <span class="no">IO</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;/var/www/html/index.html&#39;</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">action</span> <span class="ss">:create</span> <span class="k">do</span>
  <span class="n">package</span> <span class="s1">&#39;httpd&#39;</span>

  <span class="n">service</span> <span class="s1">&#39;httpd&#39;</span> <span class="k">do</span>
    <span class="n">action</span> <span class="o">[</span><span class="ss">:enable</span><span class="p">,</span> <span class="ss">:start</span><span class="o">]</span>
  <span class="k">end</span>

  <span class="n">file</span> <span class="s1">&#39;/var/www/html/index.html&#39;</span> <span class="k">do</span>
    <span class="n">content</span> <span class="n">homepage</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<p>and is then usable in a recipe like this:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">httpd</span> <span class="s1">&#39;build website&#39;</span> <span class="k">do</span>
  <span class="n">homepage</span> <span class="s1">&#39;&lt;h1&gt;Welcome to the Example Co. website!&lt;/h1&gt;&#39;</span>
  <span class="n">action</span> <span class="ss">:create</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="scenario-website-resource">
<h2>Scenario: website Resource<a class="headerlink" href="#scenario-website-resource" title="Permalink to this headline">¶</a></h2>
<p>Create a resource that configures Apache httpd for Red Hat Enterprise Linux 7 and CentOS 7.</p>
<p>This scenario covers the following:</p>
<ol class="arabic simple">
<li>Defining a cookbook named <tt class="docutils literal"><span class="pre">website</span></tt></li>
<li>Defining two properties</li>
<li>Defining an action</li>
<li>For the action, defining the steps to configure the system using resources that are built into Chef</li>
<li>Creating two templates that support the custom resource</li>
<li>Adding the resource to a recipe</li>
</ol>
<div class="section" id="create-a-cookbook">
<h3>Create a Cookbook<a class="headerlink" href="#create-a-cookbook" title="Permalink to this headline">¶</a></h3>
<p>This article assumes that a cookbook directory named <tt class="docutils literal"><span class="pre">website</span></tt> exists in a chef-repo with (at least) the following directories:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>/website
  /recipes
  /resources
  /templates
</pre></div>
</div>
<p>You may use a cookbook that already exists or you may create a new cookbook.</p>
<p>See <a class="reference external" href="https://docs.chef.io/ctl_chef.html">https://docs.chef.io/ctl_chef.html</a> for more information about how to use the <tt class="docutils literal"><span class="pre">chef</span></tt> command-line tool that is packaged with the Chef development kit to build the chef-repo, plus related cookbook sub-directories.</p>
</div>
<div class="section" id="objectives">
<h3>Objectives<a class="headerlink" href="#objectives" title="Permalink to this headline">¶</a></h3>
<p>Define a custom resource!</p>
<p>A custom resource typically contains:</p>
<ul class="simple">
<li>A list of defined custom properties (property values are specified in recipes)</li>
<li>At least one action (actions tell the chef-client what to do)</li>
<li>For each action, use a collection of resources that are built into Chef to define the steps required to complete the action</li>
</ul>
<div class="section" id="what-is-needed">
<h4>What is needed?<a class="headerlink" href="#what-is-needed" title="Permalink to this headline">¶</a></h4>
<p>This custom resource requires:</p>
<ul class="simple">
<li>Two template files</li>
<li>Two properties</li>
<li>An action that defines all of the steps necessary to create the website</li>
</ul>
</div>
</div>
<div class="section" id="define-properties">
<h3>Define Properties<a class="headerlink" href="#define-properties" title="Permalink to this headline">¶</a></h3>
<p>Custom properties are defined in the resource. This custom resource needs two:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">instance_name</span></tt></li>
<li><tt class="docutils literal"><span class="pre">port</span></tt></li>
</ul>
<p>These properties are defined as variables in the <tt class="docutils literal"><span class="pre">httpd.conf.erb</span></tt> file. A <strong>template</strong> block in recipes will tell the chef-client how to apply these variables.</p>
<p>In the custom resource, add the following custom properties:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:instance_name</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="ss">name_property</span><span class="p">:</span> <span class="kp">true</span>
<span class="n">property</span> <span class="ss">:port</span><span class="p">,</span> <span class="no">Fixnum</span><span class="p">,</span> <span class="ss">required</span><span class="p">:</span> <span class="kp">true</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">String</span></tt> and <tt class="docutils literal"><span class="pre">Fixnum</span></tt> are Ruby types (all custom properties must have an assigned Ruby type)</li>
<li><tt class="docutils literal"><span class="pre">name_property:</span> <span class="pre">true</span></tt> allows the value for this property to be equal to the <tt class="docutils literal"><span class="pre">'name'</span></tt> of the resource block</li>
</ul>
<p>The <tt class="docutils literal"><span class="pre">instance_name</span></tt> property is then used within the custom resource in many locations, including defining paths to configuration files, services, and virtual hosts.</p>
</div>
<div class="section" id="define-actions">
<h3>Define Actions<a class="headerlink" href="#define-actions" title="Permalink to this headline">¶</a></h3>
<p>Each custom resource must have at least one action that is defined within an <tt class="docutils literal"><span class="pre">action</span></tt> block:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">action</span> <span class="ss">:create</span> <span class="k">do</span>
  <span class="c1"># the steps that define the action</span>
<span class="k">end</span>
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">:create</span></tt> is a value that may be assigned to the <tt class="docutils literal"><span class="pre">action</span></tt> property for when this resource is used in a recipe.</p>
<p>For example, the <tt class="docutils literal"><span class="pre">action</span></tt> appears as a property when this custom resource is used in a recipe:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">custom_resource</span> <span class="s1">&#39;name&#39;</span> <span class="k">do</span>
  <span class="c1"># some properties</span>
  <span class="n">action</span> <span class="ss">:create</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="define-resource">
<h3>Define Resource<a class="headerlink" href="#define-resource" title="Permalink to this headline">¶</a></h3>
<p>Use the <strong>package</strong>, <strong>template</strong> (two times), <strong>directory</strong>, and <strong>service</strong> resources to define the <tt class="docutils literal"><span class="pre">website</span></tt> resource. Remember: order matters!</p>
<div class="section" id="package">
<h4>package<a class="headerlink" href="#package" title="Permalink to this headline">¶</a></h4>
<p>Use the <strong>package</strong> resource to install httpd:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">package</span> <span class="s1">&#39;httpd&#39;</span> <span class="k">do</span>
  <span class="n">action</span> <span class="ss">:install</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="template-httpd-service">
<h4>template, httpd.service<a class="headerlink" href="#template-httpd-service" title="Permalink to this headline">¶</a></h4>
<p>Use the <strong>template</strong> resource to create an <tt class="docutils literal"><span class="pre">httpd.service</span></tt> on the node based on the <tt class="docutils literal"><span class="pre">httpd.service.erb</span></tt> template located in the cookbook:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">template</span> <span class="s2">&quot;/lib/systemd/system/httpd-</span><span class="si">#{</span><span class="n">instance_name</span><span class="si">}</span><span class="s2">.service&quot;</span> <span class="k">do</span>
  <span class="n">source</span> <span class="s1">&#39;httpd.service.erb&#39;</span>
  <span class="n">variables</span><span class="p">(</span>
    <span class="ss">:instance_name</span> <span class="o">=&gt;</span> <span class="n">instance_name</span>
  <span class="p">)</span>
  <span class="n">owner</span> <span class="s1">&#39;root&#39;</span>
  <span class="n">group</span> <span class="s1">&#39;root&#39;</span>
  <span class="n">mode</span> <span class="s1">&#39;0644&#39;</span>
  <span class="n">action</span> <span class="ss">:create</span>
<span class="k">end</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">source</span></tt> gets the <tt class="docutils literal"><span class="pre">httpd.service.erb</span></tt> template from this cookbook</li>
<li><tt class="docutils literal"><span class="pre">variables</span></tt> assigns the <tt class="docutils literal"><span class="pre">instance_name</span></tt> property to a variable in the template</li>
</ul>
</div>
<div class="section" id="template-httpd-conf">
<h4>template, httpd.conf<a class="headerlink" href="#template-httpd-conf" title="Permalink to this headline">¶</a></h4>
<p>Use the <strong>template</strong> resource to configure httpd on the node based on the <tt class="docutils literal"><span class="pre">httpd.conf.erb</span></tt> template located in the cookbook:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">template</span> <span class="s2">&quot;/etc/httpd/conf/httpd-</span><span class="si">#{</span><span class="n">instance_name</span><span class="si">}</span><span class="s2">.conf&quot;</span> <span class="k">do</span>
  <span class="n">source</span> <span class="s1">&#39;httpd.conf.erb&#39;</span>
  <span class="n">variables</span><span class="p">(</span>
    <span class="ss">:instance_name</span> <span class="o">=&gt;</span> <span class="n">instance_name</span><span class="p">,</span>
    <span class="ss">:port</span> <span class="o">=&gt;</span> <span class="n">port</span>
  <span class="p">)</span>
  <span class="n">owner</span> <span class="s1">&#39;root&#39;</span>
  <span class="n">group</span> <span class="s1">&#39;root&#39;</span>
  <span class="n">mode</span> <span class="s1">&#39;0644&#39;</span>
  <span class="n">action</span> <span class="ss">:create</span>
<span class="k">end</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">source</span></tt> gets the <tt class="docutils literal"><span class="pre">httpd.conf.erb</span></tt> template from this cookbook</li>
<li><tt class="docutils literal"><span class="pre">variables</span></tt> assigns the <tt class="docutils literal"><span class="pre">instance_name</span></tt> and <tt class="docutils literal"><span class="pre">port</span></tt> properties to variables in the template</li>
</ul>
</div>
<div class="section" id="directory">
<h4>directory<a class="headerlink" href="#directory" title="Permalink to this headline">¶</a></h4>
<p>Use the <strong>directory</strong> resource to create the <tt class="docutils literal"><span class="pre">/var/www/vhosts</span></tt> directory on the node:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">directory</span> <span class="s2">&quot;/var/www/vhosts/</span><span class="si">#{</span><span class="n">instance_name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">do</span>
  <span class="n">recursive</span> <span class="kp">true</span>
  <span class="n">owner</span> <span class="s1">&#39;root&#39;</span>
  <span class="n">group</span> <span class="s1">&#39;root&#39;</span>
  <span class="n">mode</span> <span class="s1">&#39;0755&#39;</span>
  <span class="n">action</span> <span class="ss">:create</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="service">
<h4>service<a class="headerlink" href="#service" title="Permalink to this headline">¶</a></h4>
<p>Use the <strong>service</strong> resource to enable, and then start the service:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">service</span> <span class="s2">&quot;httpd-</span><span class="si">#{</span><span class="n">instance_name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">do</span>
  <span class="n">action</span> <span class="o">[</span><span class="ss">:enable</span><span class="p">,</span> <span class="ss">:start</span><span class="o">]</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="create-templates">
<h3>Create Templates<a class="headerlink" href="#create-templates" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">/templates</span></tt> directory must contain two templates:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">httpd.conf.erb</span></tt> to configure Apache httpd</li>
<li><tt class="docutils literal"><span class="pre">httpd.service.erb</span></tt> to tell systemd how to start and stop the website</li>
</ul>
<div class="section" id="httpd-conf-erb">
<h4>httpd.conf.erb<a class="headerlink" href="#httpd-conf-erb" title="Permalink to this headline">¶</a></h4>
<p><tt class="docutils literal"><span class="pre">httpd.conf.erb</span></tt> stores information about the website and is typically located under the <tt class="docutils literal"><span class="pre">/etc/httpd</span></tt>:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="no">ServerRoot</span> <span class="s2">&quot;/etc/httpd&quot;</span>
<span class="no">Listen</span> <span class="o">&lt;</span><span class="sx">%= @port %&gt;</span>
<span class="sx">Include conf.modules.d/*.conf</span>
<span class="sx">User apache</span>
<span class="sx">Group apache</span>
<span class="sx">&lt;Directory /&gt;</span>
<span class="sx">  AllowOverride none</span>
<span class="sx">  Require all denied</span>
<span class="sx">&lt;/Directory&gt;</span>
<span class="sx">DocumentRoot &quot;/var/www/vhosts/&lt;%=</span> <span class="vi">@instance_name</span> <span class="sx">%&gt;&quot;</span>
<span class="sx">&lt;IfModule mime_module&gt;</span>
  <span class="no">TypesConfig</span> <span class="sr">/etc/mime</span><span class="o">.</span><span class="n">types</span>
<span class="o">&lt;</span><span class="sr">/IfModule&gt;</span>
</pre></div>
</div>
<p>Copy it as shown, add it under <tt class="docutils literal"><span class="pre">/templates/default</span></tt>, and then name the file <tt class="docutils literal"><span class="pre">httpd.conf.erb</span></tt>.</p>
<div class="section" id="template-variables">
<h5>Template Variables<a class="headerlink" href="#template-variables" title="Permalink to this headline">¶</a></h5>
<p>The <tt class="docutils literal"><span class="pre">httpd.conf.erb</span></tt> template has two variables:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">&lt;%=</span> <span class="pre">&#64;instance_name</span> <span class="pre">%&gt;</span></tt></li>
<li><tt class="docutils literal"><span class="pre">&lt;%=</span> <span class="pre">&#64;port</span> <span class="pre">%&gt;</span></tt></li>
</ul>
<p>They are:</p>
<ul class="simple">
<li>Declared as properties of the custom resource</li>
<li>Defined as variables in a <strong>template</strong> resource block within the custom resource</li>
<li>Tunable from a recipe when using <tt class="docutils literal"><span class="pre">port</span></tt> and <tt class="docutils literal"><span class="pre">instance_name</span></tt> as properties in that recipe</li>
<li><tt class="docutils literal"><span class="pre">instance_name</span></tt> defaults to the <tt class="docutils literal"><span class="pre">'name'</span></tt> of the custom resource if not specified as a property</li>
</ul>
</div>
</div>
<div class="section" id="httpd-service-erb">
<h4>httpd.service.erb<a class="headerlink" href="#httpd-service-erb" title="Permalink to this headline">¶</a></h4>
<p><tt class="docutils literal"><span class="pre">httpd.service.erb</span></tt> tells systemd how to start and stop the website:</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>[Unit]
Description=The Apache HTTP Server - instance &lt;%= @instance_name %&gt;
After=network.target remote-fs.target nss-lookup.target

[Service]
Type=notify

ExecStart=/usr/sbin/httpd -f /etc/httpd/conf/httpd-&lt;%= @instance_name %&gt;.conf -DFOREGROUND
ExecReload=/usr/sbin/httpd -f /etc/httpd/conf/httpd-&lt;%= @instance_name %&gt;.conf -k graceful
ExecStop=/bin/kill -WINCH ${MAINPID}

KillSignal=SIGCONT
PrivateTmp=true

[Install]
WantedBy=multi-user.target
</pre></div>
</div>
<p>Copy it as shown, add it under <tt class="docutils literal"><span class="pre">/templates/default</span></tt>, and then name it <tt class="docutils literal"><span class="pre">httpd.service.erb</span></tt>.</p>
</div>
</div>
<div class="section" id="final-resource">
<h3>Final Resource<a class="headerlink" href="#final-resource" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:instance_name</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="ss">name_property</span><span class="p">:</span> <span class="kp">true</span>
<span class="n">property</span> <span class="ss">:port</span><span class="p">,</span> <span class="no">Fixnum</span><span class="p">,</span> <span class="ss">required</span><span class="p">:</span> <span class="kp">true</span>

<span class="n">action</span> <span class="ss">:create</span> <span class="k">do</span>
  <span class="n">package</span> <span class="s1">&#39;httpd&#39;</span> <span class="k">do</span>
    <span class="n">action</span> <span class="ss">:install</span>
  <span class="k">end</span>

  <span class="n">template</span> <span class="s2">&quot;/lib/systemd/system/httpd-</span><span class="si">#{</span><span class="n">instance_name</span><span class="si">}</span><span class="s2">.service&quot;</span> <span class="k">do</span>
    <span class="n">source</span> <span class="s1">&#39;httpd.service.erb&#39;</span>
    <span class="n">variables</span><span class="p">(</span>
      <span class="ss">:instance_name</span> <span class="o">=&gt;</span> <span class="n">instance_name</span>
    <span class="p">)</span>
    <span class="n">owner</span> <span class="s1">&#39;root&#39;</span>
    <span class="n">group</span> <span class="s1">&#39;root&#39;</span>
    <span class="n">mode</span> <span class="s1">&#39;0644&#39;</span>
    <span class="n">action</span> <span class="ss">:create</span>
  <span class="k">end</span>

  <span class="n">template</span> <span class="s2">&quot;/etc/httpd/conf/httpd-</span><span class="si">#{</span><span class="n">instance_name</span><span class="si">}</span><span class="s2">.conf&quot;</span> <span class="k">do</span>
    <span class="n">source</span> <span class="s1">&#39;httpd.conf.erb&#39;</span>
    <span class="n">variables</span><span class="p">(</span>
      <span class="ss">:instance_name</span> <span class="o">=&gt;</span> <span class="n">instance_name</span><span class="p">,</span>
      <span class="ss">:port</span> <span class="o">=&gt;</span> <span class="n">port</span>
    <span class="p">)</span>
    <span class="n">owner</span> <span class="s1">&#39;root&#39;</span>
    <span class="n">group</span> <span class="s1">&#39;root&#39;</span>
    <span class="n">mode</span> <span class="s1">&#39;0644&#39;</span>
    <span class="n">action</span> <span class="ss">:create</span>
  <span class="k">end</span>

  <span class="n">directory</span> <span class="s2">&quot;/var/www/vhosts/</span><span class="si">#{</span><span class="n">instance_name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">do</span>
    <span class="n">recursive</span> <span class="kp">true</span>
    <span class="n">owner</span> <span class="s1">&#39;root&#39;</span>
    <span class="n">group</span> <span class="s1">&#39;root&#39;</span>
    <span class="n">mode</span> <span class="s1">&#39;0755&#39;</span>
    <span class="n">action</span> <span class="ss">:create</span>
  <span class="k">end</span>

  <span class="n">service</span> <span class="s2">&quot;httpd-</span><span class="si">#{</span><span class="n">instance_name</span><span class="si">}</span><span class="s2">&quot;</span> <span class="k">do</span>
    <span class="n">action</span> <span class="o">[</span><span class="ss">:enable</span><span class="p">,</span> <span class="ss">:start</span><span class="o">]</span>
  <span class="k">end</span>

<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="final-cookbook-directory">
<h3>Final Cookbook Directory<a class="headerlink" href="#final-cookbook-directory" title="Permalink to this headline">¶</a></h3>
<p>When finished adding the templates and building the custom resource, the cookbook directory structure should look like this:</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>/website
  metadata.rb
  /recipes
    default.rb
  README.md
  /resources
    httpd.rb
  /templates
    /default
      httpd.conf.erb
      httpd.service.erb
</pre></div>
</div>
</div>
<div class="section" id="recipe">
<h3>Recipe<a class="headerlink" href="#recipe" title="Permalink to this headline">¶</a></h3>
<p>The custom resource name is inferred from the name of the cookbook (<tt class="docutils literal"><span class="pre">website</span></tt>), the name of the resource file (<tt class="docutils literal"><span class="pre">httpd</span></tt>), and is separated by an underscore(<tt class="docutils literal"><span class="pre">_</span></tt>): <tt class="docutils literal"><span class="pre">website_httpd</span></tt>.  The custom resource may be used in a recipe.</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">website_httpd</span> <span class="s1">&#39;httpd_site&#39;</span> <span class="k">do</span>
  <span class="n">port</span> <span class="mi">81</span>
  <span class="n">action</span> <span class="ss">:create</span>
<span class="k">end</span>
</pre></div>
</div>
<p>which does the following:</p>
<ul class="simple">
<li>Installs Apache httpd</li>
<li>Assigns an instance name of <tt class="docutils literal"><span class="pre">httpd_site</span></tt> that uses port 81</li>
<li>Configures httpd and systemd from a template</li>
<li>Creates the virtual host for the website</li>
<li>Starts the website using systemd</li>
</ul>
</div>
</div>
<div class="section" id="custom-resource-dsl">
<h2>Custom Resource DSL<a class="headerlink" href="#custom-resource-dsl" title="Permalink to this headline">¶</a></h2>
<p>The following sections describe additional Custom Resource DSL methods that were not used in the preceding scenario:</p>
<div class="section" id="action-class">
<h3>action_class<a class="headerlink" href="#action-class" title="Permalink to this headline">¶</a></h3>
<p>Use the <tt class="docutils literal"><span class="pre">action_class</span></tt> block to make methods available to the actions in the custom resource.  Modules with helper methods created as files in the cookbook library directory may be included. New action methods may also be defined directly in the <tt class="docutils literal"><span class="pre">action_class</span></tt> block.  Code in the <tt class="docutils literal"><span class="pre">action_class</span></tt> block has access to the new_resource properties.</p>
<p>Assume a helper module has been created in the cookbook <tt class="docutils literal"><span class="pre">libraries/helper.rb</span></tt> file.</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="k">module</span> <span class="nn">Sample</span>
  <span class="k">module</span> <span class="nn">Helper</span>
    <span class="k">def</span> <span class="nf">helper_method</span>
      <span class="c1"># code</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<p>Methods may be made available to the custom resource actions by using an <tt class="docutils literal"><span class="pre">action_class</span></tt> block.</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="n">file</span><span class="p">,</span> <span class="nb">String</span>

<span class="n">action_class</span> <span class="k">do</span>

  <span class="k">def</span> <span class="nf">file_exist</span>
    <span class="o">::</span><span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="nf">file_ex</span>
    <span class="o">::</span><span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="n">new_resource</span><span class="o">.</span><span class="n">file</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="nb">require</span> <span class="s1">&#39;fileutils&#39;</span>

  <span class="kp">include</span> <span class="no">Sample</span><span class="o">::</span><span class="no">Helper</span>

<span class="k">end</span>

<span class="n">action</span> <span class="ss">:delete</span> <span class="k">do</span>
  <span class="n">helper_method</span>
  <span class="no">FileUtils</span><span class="o">.</span><span class="n">rm</span><span class="p">(</span><span class="n">file</span><span class="p">)</span> <span class="k">if</span> <span class="n">file_ex</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="converge-if-changed">
<h3>converge_if_changed<a class="headerlink" href="#converge-if-changed" title="Permalink to this headline">¶</a></h3>
<p>Use the <tt class="docutils literal"><span class="pre">converge_if_changed</span></tt> method inside an <tt class="docutils literal"><span class="pre">action</span></tt> block in a custom resource to compare the desired property values against the current property values (as loaded by the <tt class="docutils literal"><span class="pre">load_current_value</span></tt> method). Use the <tt class="docutils literal"><span class="pre">converge_if_changed</span></tt> method to ensure that updates only occur when property values on the system are not the desired property values and to otherwise prevent a resource from being converged.</p>
<p>To use the <tt class="docutils literal"><span class="pre">converge_if_changed</span></tt> method, wrap it around the part of a recipe or custom resource that should only be converged when the current state is not the desired state:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">action</span> <span class="ss">:some_action</span> <span class="k">do</span>

  <span class="n">converge_if_changed</span> <span class="k">do</span>
    <span class="c1"># some property</span>
  <span class="k">end</span>

<span class="k">end</span>
</pre></div>
</div>
<p>For example, a custom resource defines two properties (<tt class="docutils literal"><span class="pre">content</span></tt> and <tt class="docutils literal"><span class="pre">path</span></tt>) and a single action (<tt class="docutils literal"><span class="pre">:create</span></tt>). Use the <tt class="docutils literal"><span class="pre">load_current_value</span></tt> method to load the property value to be compared, and then use the <tt class="docutils literal"><span class="pre">converge_if_changed</span></tt> method to tell the chef-client what to do if that value is not the desired value:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:content</span><span class="p">,</span> <span class="nb">String</span>
<span class="n">property</span> <span class="ss">:path</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="ss">name_property</span><span class="p">:</span> <span class="kp">true</span>

<span class="n">load_current_value</span> <span class="k">do</span>
  <span class="k">if</span> <span class="o">::</span><span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="n">content</span> <span class="no">IO</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">action</span> <span class="ss">:create</span> <span class="k">do</span>
  <span class="n">converge_if_changed</span> <span class="k">do</span>
    <span class="no">IO</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<p>When the file does not exist, the <tt class="docutils literal"><span class="pre">IO.write(path,</span> <span class="pre">content)</span></tt> code is executed and the chef-client output will print something similar to:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>Recipe: recipe_name::block
  * resource_name<span class="o">[</span>blah<span class="o">]</span> action create
    - update my_file<span class="o">[</span>blah<span class="o">]</span>
    -   <span class="nb">set</span> content to <span class="s2">&quot;hola mundo&quot;</span> <span class="o">(</span>was <span class="s2">&quot;hello world&quot;</span><span class="o">)</span>
</pre></div>
</div>
<div class="section" id="multiple-properties">
<h4>Multiple Properties<a class="headerlink" href="#multiple-properties" title="Permalink to this headline">¶</a></h4>
<p>The <tt class="docutils literal"><span class="pre">converge_if_changed</span></tt> method may be used multiple times. The following example shows how to use the <tt class="docutils literal"><span class="pre">converge_if_changed</span></tt> method to compare the multiple desired property values against the current property values (as loaded by the <tt class="docutils literal"><span class="pre">load_current_value</span></tt> method).</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:path</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="ss">name_property</span><span class="p">:</span> <span class="kp">true</span>
<span class="n">property</span> <span class="ss">:content</span><span class="p">,</span> <span class="nb">String</span>
<span class="n">property</span> <span class="ss">:mode</span><span class="p">,</span> <span class="nb">String</span>

<span class="n">load_current_value</span> <span class="k">do</span>
  <span class="k">if</span> <span class="o">::</span><span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="n">content</span> <span class="no">IO</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
    <span class="n">mode</span> <span class="o">::</span><span class="no">File</span><span class="o">.</span><span class="n">stat</span><span class="p">(</span><span class="n">path</span><span class="p">)</span><span class="o">.</span><span class="n">mode</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">action</span> <span class="ss">:create</span> <span class="k">do</span>
  <span class="n">converge_if_changed</span> <span class="ss">:content</span> <span class="k">do</span>
    <span class="no">IO</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">content</span><span class="p">)</span>
  <span class="k">end</span>
  <span class="n">converge_if_changed</span> <span class="ss">:mode</span> <span class="k">do</span>
    <span class="o">::</span><span class="no">File</span><span class="o">.</span><span class="n">chmod</span><span class="p">(</span><span class="n">mode</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">load_current_value</span></tt> loads the property values for both <tt class="docutils literal"><span class="pre">content</span></tt> and <tt class="docutils literal"><span class="pre">mode</span></tt></li>
<li>A <tt class="docutils literal"><span class="pre">converge_if_changed</span></tt> block tests only <tt class="docutils literal"><span class="pre">content</span></tt></li>
<li>A <tt class="docutils literal"><span class="pre">converge_if_changed</span></tt> block tests only <tt class="docutils literal"><span class="pre">mode</span></tt></li>
</ul>
<p>The chef-client will only update the property values that require updates and will not make changes when the property values are already in the desired state</p>
</div>
</div>
<div class="section" id="default-action">
<h3>default_action<a class="headerlink" href="#default-action" title="Permalink to this headline">¶</a></h3>
<p>The default action in a custom resource is, by default, the first action listed in the custom resource. For example, action <tt class="docutils literal"><span class="pre">aaaaa</span></tt> is the default resource:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:name</span><span class="p">,</span> <span class="no">RubyType</span><span class="p">,</span> <span class="ss">default</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span>

<span class="o">...</span>

<span class="n">action</span> <span class="ss">:aaaaa</span> <span class="k">do</span>
 <span class="c1"># the first action listed in the custom resource</span>
<span class="k">end</span>

<span class="n">action</span> <span class="ss">:bbbbb</span> <span class="k">do</span>
 <span class="c1"># the second action listed in the custom resource</span>
<span class="k">end</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">default_action</span></tt> method may also be used to specify the default action. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:name</span><span class="p">,</span> <span class="no">RubyType</span><span class="p">,</span> <span class="ss">default</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span>

<span class="n">default_action</span> <span class="ss">:aaaaa</span>

<span class="n">action</span> <span class="ss">:aaaaa</span> <span class="k">do</span>
 <span class="c1"># the first action listed in the custom resource</span>
<span class="k">end</span>

<span class="n">action</span> <span class="ss">:bbbbb</span> <span class="k">do</span>
 <span class="c1"># the second action listed in the custom resource</span>
<span class="k">end</span>
</pre></div>
</div>
<p>defines action <tt class="docutils literal"><span class="pre">aaaaa</span></tt> as the default action. If <tt class="docutils literal"><span class="pre">default_action</span> <span class="pre">:bbbbb</span></tt> is specified, then action <tt class="docutils literal"><span class="pre">bbbbb</span></tt> is the default action. Use this method for clarity in custom resources, if deliberately stating the default resource is desired, or to specify a default action that is not listed first in the custom resource.</p>
</div>
<div class="section" id="load-current-value">
<h3>load_current_value<a class="headerlink" href="#load-current-value" title="Permalink to this headline">¶</a></h3>
<p>Use the <tt class="docutils literal"><span class="pre">load_current_value</span></tt> method to load the specified property values from the node, and then use those values when the resource is converged. This method may take a block argument.</p>
<p>Use the <tt class="docutils literal"><span class="pre">load_current_value</span></tt> method to guard against property values being replaced. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">action</span> <span class="ss">:some_action</span> <span class="k">do</span>

  <span class="n">load_current_value</span> <span class="k">do</span>
    <span class="k">if</span> <span class="o">::</span><span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="s1">&#39;/var/www/html/index.html&#39;</span><span class="p">)</span>
      <span class="n">homepage</span> <span class="no">IO</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;/var/www/html/index.html&#39;</span><span class="p">)</span>
    <span class="k">end</span>
    <span class="k">if</span> <span class="o">::</span><span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="s1">&#39;/var/www/html/404.html&#39;</span><span class="p">)</span>
      <span class="n">page_not_found</span> <span class="no">IO</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="s1">&#39;/var/www/html/404.html&#39;</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>

<span class="k">end</span>
</pre></div>
</div>
<p>This ensures the values for <tt class="docutils literal"><span class="pre">homepage</span></tt> and <tt class="docutils literal"><span class="pre">page_not_found</span></tt> are not changed to the default values when the chef-client configures the node.</p>
</div>
<div class="section" id="new-resource-property">
<h3>new_resource.property<a class="headerlink" href="#new-resource-property" title="Permalink to this headline">¶</a></h3>
<p>Custom resources are designed to use core resources that are built into Chef. In some cases, it may be necessary to specify a property in the custom resource that is the same as a property in a core resource, for the purpose of overriding that property when used with the custom resource. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">resource_name</span> <span class="ss">:node_execute</span>

<span class="n">property</span> <span class="ss">:command</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="ss">name_property</span><span class="p">:</span> <span class="kp">true</span>
<span class="n">property</span> <span class="ss">:version</span><span class="p">,</span> <span class="nb">String</span>

<span class="c1"># Useful properties from the `execute` resource</span>
<span class="n">property</span> <span class="ss">:cwd</span><span class="p">,</span> <span class="nb">String</span>
<span class="n">property</span> <span class="ss">:environment</span><span class="p">,</span> <span class="no">Hash</span><span class="p">,</span> <span class="ss">default</span><span class="p">:</span> <span class="p">{}</span>
<span class="n">property</span> <span class="ss">:user</span><span class="p">,</span> <span class="o">[</span><span class="nb">String</span><span class="p">,</span> <span class="nb">Integer</span><span class="o">]</span>
<span class="n">property</span> <span class="ss">:sensitive</span><span class="p">,</span> <span class="o">[</span><span class="no">TrueClass</span><span class="p">,</span> <span class="no">FalseClass</span><span class="o">]</span><span class="p">,</span> <span class="ss">default</span><span class="p">:</span> <span class="kp">false</span>

<span class="n">prefix</span> <span class="o">=</span> <span class="s1">&#39;/opt/languages/node&#39;</span>

<span class="n">load_current_value</span> <span class="k">do</span>
  <span class="n">current_value_does_not_exist!</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">run_state</span><span class="o">[</span><span class="s1">&#39;nodejs&#39;</span><span class="o">].</span><span class="n">nil?</span>
  <span class="n">version</span> <span class="n">node</span><span class="o">.</span><span class="n">run_state</span><span class="o">[</span><span class="s1">&#39;nodejs&#39;</span><span class="o">][</span><span class="ss">:version</span><span class="o">]</span>
<span class="k">end</span>

<span class="n">action</span> <span class="ss">:run</span> <span class="k">do</span>
  <span class="n">execute</span> <span class="s1">&#39;execute-node&#39;</span> <span class="k">do</span>
    <span class="n">cwd</span> <span class="n">cwd</span>
    <span class="n">environment</span> <span class="n">environment</span>
    <span class="n">user</span> <span class="n">user</span>
    <span class="n">sensitive</span> <span class="n">sensitive</span>
    <span class="c1"># gsub replaces 10+ spaces at the beginning of the line with nothing</span>
    <span class="n">command</span> <span class="o">&lt;&lt;-</span><span class="no">CODE</span><span class="o">.</span><span class="n">gsub</span><span class="p">(</span><span class="sr">/^ {10}/</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="sh">      #{prefix}/#{version}/#{command}</span>
<span class="no">    CODE</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<p>where the <tt class="docutils literal"><span class="pre">property</span> <span class="pre">:cwd</span></tt>, <tt class="docutils literal"><span class="pre">property</span> <span class="pre">:environment</span></tt>, <tt class="docutils literal"><span class="pre">property</span> <span class="pre">:user</span></tt>, and <tt class="docutils literal"><span class="pre">property</span> <span class="pre">:sensitive</span></tt> are identical to properties in the <strong>execute</strong> resource, embedded as part of the <tt class="docutils literal"><span class="pre">action</span> <span class="pre">:run</span></tt> action. Because both the custom properties and the <strong>execute</strong> properties are identical, this will result in an error message similar to:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="no">ArgumentError</span>
<span class="o">-------------</span>
<span class="n">wrong</span> <span class="n">number</span> <span class="n">of</span> <span class="n">arguments</span> <span class="p">(</span><span class="mi">0</span> <span class="k">for</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>To prevent this behavior, use <tt class="docutils literal"><span class="pre">new_resource.</span></tt> to tell the chef-client to process the properties from the core resource instead of the properties in the custom resource. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">resource_name</span> <span class="ss">:node_execute</span>

<span class="n">property</span> <span class="ss">:command</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="ss">name_property</span><span class="p">:</span> <span class="kp">true</span>
<span class="n">property</span> <span class="ss">:version</span><span class="p">,</span> <span class="nb">String</span>

<span class="c1"># Useful properties from the `execute` resource</span>
<span class="n">property</span> <span class="ss">:cwd</span><span class="p">,</span> <span class="nb">String</span>
<span class="n">property</span> <span class="ss">:environment</span><span class="p">,</span> <span class="no">Hash</span><span class="p">,</span> <span class="ss">default</span><span class="p">:</span> <span class="p">{}</span>
<span class="n">property</span> <span class="ss">:user</span><span class="p">,</span> <span class="o">[</span><span class="nb">String</span><span class="p">,</span> <span class="nb">Integer</span><span class="o">]</span>
<span class="n">property</span> <span class="ss">:sensitive</span><span class="p">,</span> <span class="o">[</span><span class="no">TrueClass</span><span class="p">,</span> <span class="no">FalseClass</span><span class="o">]</span><span class="p">,</span> <span class="ss">default</span><span class="p">:</span> <span class="kp">false</span>

<span class="n">prefix</span> <span class="o">=</span> <span class="s1">&#39;/opt/languages/node&#39;</span>

<span class="n">load_current_value</span> <span class="k">do</span>
  <span class="n">current_value_does_not_exist!</span> <span class="k">if</span> <span class="n">node</span><span class="o">.</span><span class="n">run_state</span><span class="o">[</span><span class="s1">&#39;nodejs&#39;</span><span class="o">].</span><span class="n">nil?</span>
  <span class="n">version</span> <span class="n">node</span><span class="o">.</span><span class="n">run_state</span><span class="o">[</span><span class="s1">&#39;nodejs&#39;</span><span class="o">][</span><span class="ss">:version</span><span class="o">]</span>
<span class="k">end</span>

<span class="n">action</span> <span class="ss">:run</span> <span class="k">do</span>
  <span class="n">execute</span> <span class="s1">&#39;execute-node&#39;</span> <span class="k">do</span>
    <span class="n">cwd</span> <span class="n">new_resource</span><span class="o">.</span><span class="n">cwd</span>
    <span class="n">environment</span> <span class="n">new_resource</span><span class="o">.</span><span class="n">environment</span>
    <span class="n">user</span> <span class="n">new_resource</span><span class="o">.</span><span class="n">user</span>
    <span class="n">sensitive</span> <span class="n">new_resource</span><span class="o">.</span><span class="n">sensitive</span>
    <span class="c1"># gsub replaces 10+ spaces at the beginning of the line with nothing</span>
    <span class="n">command</span> <span class="o">&lt;&lt;-</span><span class="no">CODE</span><span class="o">.</span><span class="n">gsub</span><span class="p">(</span><span class="sr">/^ {10}/</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="sh">      #{prefix}/#{new_resource.version}/#{new_resource.command}</span>
<span class="no">    CODE</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
<p>where <tt class="docutils literal"><span class="pre">cwd</span> <span class="pre">new_resource.cwd</span></tt>, <tt class="docutils literal"><span class="pre">environment</span> <span class="pre">new_resource.environment</span></tt>, <tt class="docutils literal"><span class="pre">user</span> <span class="pre">new_resource.user</span></tt>, and <tt class="docutils literal"><span class="pre">sensitive</span> <span class="pre">new_resource.sensitive</span></tt> correctly use the properties of the <strong>execute</strong> resource and not the identically-named override properties of the custom resource.</p>
</div>
<div class="section" id="property">
<h3>property<a class="headerlink" href="#property" title="Permalink to this headline">¶</a></h3>
<p>Use the <tt class="docutils literal"><span class="pre">property</span></tt> method to define properties for the custom resource. The syntax is:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:name</span><span class="p">,</span> <span class="n">ruby_type</span><span class="p">,</span> <span class="ss">default</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span><span class="p">,</span> <span class="ss">parameter</span><span class="p">:</span> <span class="s1">&#39;value&#39;</span>
</pre></div>
</div>
<p>where</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">:name</span></tt> is the name of the property</li>
<li><tt class="docutils literal"><span class="pre">ruby_type</span></tt> is the optional Ruby type or array of types, such as <tt class="docutils literal"><span class="pre">String</span></tt>, <tt class="docutils literal"><span class="pre">Integer</span></tt>, <tt class="docutils literal"><span class="pre">TrueClass</span></tt>, or <tt class="docutils literal"><span class="pre">FalseClass</span></tt></li>
<li><tt class="docutils literal"><span class="pre">default:</span> <span class="pre">'value'</span></tt> is the optional default value loaded into the resource</li>
<li><tt class="docutils literal"><span class="pre">parameter:</span> <span class="pre">'value'</span></tt> optional parameters</li>
</ul>
<p>For example, the following properties define <tt class="docutils literal"><span class="pre">username</span></tt> and <tt class="docutils literal"><span class="pre">password</span></tt> properties with no default values specified:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:username</span><span class="p">,</span> <span class="nb">String</span>
<span class="n">property</span> <span class="ss">:password</span><span class="p">,</span> <span class="nb">String</span>
</pre></div>
</div>
<div class="section" id="ruby-type">
<h4>ruby_type<a class="headerlink" href="#ruby-type" title="Permalink to this headline">¶</a></h4>
<p>The property ruby_type is a positional parameter. Use to ensure a property value is of a particular ruby class, such as <tt class="docutils literal"><span class="pre">TrueClass</span></tt>, <tt class="docutils literal"><span class="pre">FalseClass</span></tt>, <tt class="docutils literal"><span class="pre">NilClass</span></tt>, <tt class="docutils literal"><span class="pre">String</span></tt>, <tt class="docutils literal"><span class="pre">Array</span></tt>, <tt class="docutils literal"><span class="pre">Hash</span></tt>. Use an array of ruby classes to allow a value to be of more than one type. For example:</p>
<blockquote>
<div><div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:name</span><span class="p">,</span> <span class="nb">String</span>
</pre></div>
</div>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:name</span><span class="p">,</span> <span class="no">Fixnum</span>
</pre></div>
</div>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:name</span><span class="p">,</span> <span class="no">Hash</span>
</pre></div>
</div>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:name</span><span class="p">,</span> <span class="o">[</span><span class="no">TrueClass</span><span class="p">,</span> <span class="no">FalseClass</span><span class="o">]</span>
</pre></div>
</div>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:name</span><span class="p">,</span> <span class="o">[</span><span class="nb">String</span><span class="p">,</span> <span class="no">NilClass</span><span class="o">]</span>
</pre></div>
</div>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:name</span><span class="p">,</span> <span class="o">[</span><span class="no">Class</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="no">Symbol</span><span class="o">]</span>
</pre></div>
</div>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:name</span><span class="p">,</span> <span class="o">[</span><span class="nb">Array</span><span class="p">,</span> <span class="no">Hash</span><span class="o">]</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="validators">
<h4>validators<a class="headerlink" href="#validators" title="Permalink to this headline">¶</a></h4>
<p>A validation parameter is used to add zero (or more) validation parameters to a property.</p>
<table border="1" class="docutils">
<colgroup>
<col width="25%" />
<col width="75%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Parameter</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">:callbacks</span></tt></td>
<td><p class="first">Use to define a collection of unique keys and values (a ruby hash) for which the key is the error message and the value is a lambda to validate the parameter. For example:</p>
<div class="last highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">callbacks</span><span class="p">:</span> <span class="p">{</span>
             <span class="s1">&#39;should be a valid non-system port&#39;</span> <span class="o">=&gt;</span> <span class="nb">lambda</span> <span class="p">{</span>
               <span class="o">|</span><span class="nb">p</span><span class="o">|</span> <span class="nb">p</span> <span class="o">&gt;</span> <span class="mi">1024</span> <span class="o">&amp;&amp;</span> <span class="nb">p</span> <span class="o">&lt;</span> <span class="mi">65535</span>
             <span class="p">}</span>
           <span class="p">}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">:default</span></tt></td>
<td><p class="first">Use to specify the default value for a property. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">default</span><span class="p">:</span> <span class="s1">&#39;a_string_value&#39;</span>
</pre></div>
</div>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">default</span><span class="p">:</span> <span class="mi">123456789</span>
</pre></div>
</div>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">default</span><span class="p">:</span> <span class="o">[]</span>
</pre></div>
</div>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">default</span><span class="p">:</span> <span class="p">()</span>
</pre></div>
</div>
<div class="last highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">default</span><span class="p">:</span> <span class="p">{}</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">:equal_to</span></tt></td>
<td><p class="first">Use to match a value with <tt class="docutils literal"><span class="pre">==</span></tt>. Use an array of values to match any of those values with <tt class="docutils literal"><span class="pre">==</span></tt>. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">equal_to</span><span class="p">:</span> <span class="o">[</span><span class="kp">true</span><span class="p">,</span> <span class="kp">false</span><span class="o">]</span>
</pre></div>
</div>
<div class="last highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">equal_to</span><span class="p">:</span> <span class="o">[</span><span class="s1">&#39;php&#39;</span><span class="p">,</span> <span class="s1">&#39;perl&#39;</span><span class="o">]</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">:regex</span></tt></td>
<td><p class="first">Use to match a value to a regular expression. For example:</p>
<div class="last highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">regex</span><span class="p">:</span> <span class="o">[</span> <span class="sr">/^([a-z]|[A-Z]|[0-9]|_|-)+$/</span><span class="p">,</span> <span class="sr">/^\d+$/</span> <span class="o">]</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><tt class="docutils literal"><span class="pre">:required</span></tt></td>
<td><p class="first">Indicates that a property is required. For example:</p>
<div class="last highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">required</span><span class="p">:</span> <span class="kp">true</span>
</pre></div>
</div>
</td>
</tr>
<tr class="row-odd"><td><tt class="docutils literal"><span class="pre">:respond_to</span></tt></td>
<td><p class="first">Use to ensure that a value has a given method. This can be a single method name or an array of method names. For example:</p>
<div class="last highlight-ruby"><div class="highlight"><pre><span></span><span class="ss">respond_to</span><span class="p">:</span> <span class="n">valid_encoding?</span>
</pre></div>
</div>
</td>
</tr>
</tbody>
</table>
<p>Some examples of combining validation parameters:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:spool_name</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="ss">regex</span><span class="p">:</span> <span class="sr">/$\w+/</span>
</pre></div>
</div>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:enabled</span><span class="p">,</span> <span class="ss">equal_to</span><span class="p">:</span> <span class="o">[</span><span class="kp">true</span><span class="p">,</span> <span class="kp">false</span><span class="p">,</span> <span class="s1">&#39;true&#39;</span><span class="p">,</span> <span class="s1">&#39;false&#39;</span><span class="o">]</span><span class="p">,</span> <span class="ss">default</span><span class="p">:</span> <span class="kp">true</span>
</pre></div>
</div>
</div>
<div class="section" id="desired-state">
<h4>desired_state<a class="headerlink" href="#desired-state" title="Permalink to this headline">¶</a></h4>
<p>Add <tt class="docutils literal"><span class="pre">desired_state:</span></tt> to get or set the list of desired state properties for a resource, which describe the desired state of the node, such as permissions on an existing file. This value may be <tt class="docutils literal"><span class="pre">true</span></tt> or <tt class="docutils literal"><span class="pre">false</span></tt>.</p>
<ul class="simple">
<li>When <tt class="docutils literal"><span class="pre">true</span></tt>, the state of the system will determine the value.</li>
<li>When <tt class="docutils literal"><span class="pre">false</span></tt>, the values defined by the recipe or custom resource will determine the value, i.e. &#8220;the desired state of this system includes setting the value defined in this custom resource or recipe&#8221;</li>
</ul>
<p>For example, the following properties define the <tt class="docutils literal"><span class="pre">owner</span></tt>, <tt class="docutils literal"><span class="pre">group</span></tt>, and <tt class="docutils literal"><span class="pre">mode</span></tt> properties for a file that already exists on the node, and with <tt class="docutils literal"><span class="pre">desired_state</span></tt> set to <tt class="docutils literal"><span class="pre">false</span></tt>:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:owner</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="ss">default</span><span class="p">:</span> <span class="s1">&#39;root&#39;</span><span class="p">,</span> <span class="ss">desired_state</span><span class="p">:</span> <span class="kp">false</span>
<span class="n">property</span> <span class="ss">:group</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="ss">default</span><span class="p">:</span> <span class="s1">&#39;root&#39;</span><span class="p">,</span> <span class="ss">desired_state</span><span class="p">:</span> <span class="kp">false</span>
<span class="n">property</span> <span class="ss">:mode</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="ss">default</span><span class="p">:</span> <span class="s1">&#39;0755&#39;</span><span class="p">,</span> <span class="ss">desired_state</span><span class="p">:</span> <span class="kp">false</span>
</pre></div>
</div>
</div>
<div class="section" id="identity">
<h4>identity<a class="headerlink" href="#identity" title="Permalink to this headline">¶</a></h4>
<p>Add <tt class="docutils literal"><span class="pre">identity:</span></tt> to set a resource to a particular set of properties. This value may be <tt class="docutils literal"><span class="pre">true</span></tt> or <tt class="docutils literal"><span class="pre">false</span></tt>.</p>
<ul class="simple">
<li>When <tt class="docutils literal"><span class="pre">true</span></tt>, data for that property is returned as part of the resource data set and may be available to external applications, such as reporting</li>
<li>When <tt class="docutils literal"><span class="pre">false</span></tt>, no data for that property is returned.</li>
</ul>
<p>If no properties are marked <tt class="docutils literal"><span class="pre">true</span></tt>, the property that defaults to the <tt class="docutils literal"><span class="pre">name</span></tt> of the resource is marked <tt class="docutils literal"><span class="pre">true</span></tt>.</p>
<p>For example, the following properties define <tt class="docutils literal"><span class="pre">username</span></tt> and <tt class="docutils literal"><span class="pre">password</span></tt> properties with no default values specified, but with <tt class="docutils literal"><span class="pre">identity</span></tt> set to <tt class="docutils literal"><span class="pre">true</span></tt> for the user name:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property</span> <span class="ss">:username</span><span class="p">,</span> <span class="nb">String</span><span class="p">,</span> <span class="ss">identity</span><span class="p">:</span> <span class="kp">true</span>
<span class="n">property</span> <span class="ss">:password</span><span class="p">,</span> <span class="nb">String</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="block-arguments">
<h3>Block Arguments<a class="headerlink" href="#block-arguments" title="Permalink to this headline">¶</a></h3>
<p>Any properties that are marked <tt class="docutils literal"><span class="pre">identity:</span> <span class="pre">true</span></tt> or <tt class="docutils literal"><span class="pre">desired_state:</span> <span class="pre">false</span></tt> will be available from <tt class="docutils literal"><span class="pre">load_current_value</span></tt>. If access to other properties of a resource is needed, use a block argument that contains all of the properties of the requested resource. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">resource_name</span> <span class="ss">:file</span>

<span class="n">load_current_value</span> <span class="k">do</span> <span class="o">|</span><span class="n">desired</span><span class="o">|</span>
  <span class="nb">puts</span> <span class="s2">&quot;The user typed content = </span><span class="si">#{</span><span class="n">desired</span><span class="o">.</span><span class="n">content</span><span class="si">}</span><span class="s2"> in the resource&quot;</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="property-is-set">
<h3>property_is_set?<a class="headerlink" href="#property-is-set" title="Permalink to this headline">¶</a></h3>
<p>Use the <tt class="docutils literal"><span class="pre">property_is_set?</span></tt> method to check if the value for a property is set. The syntax is:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">property_is_set?</span><span class="p">(</span><span class="ss">:property_name</span><span class="p">)</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">property_is_set?</span></tt> method will return <tt class="docutils literal"><span class="pre">true</span></tt> if the property is set.</p>
<p>For example, the following custom resource creates and/or updates user properties, but not their password. The <tt class="docutils literal"><span class="pre">property_is_set?</span></tt> method checks if the user has specified a password and then tells the chef-client what to do if the password is not identical:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">action</span> <span class="ss">:create</span> <span class="k">do</span>
  <span class="n">converge_if_changed</span> <span class="k">do</span>
    <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;rabbitmqctl create_or_update_user </span><span class="si">#{</span><span class="n">username</span><span class="si">}</span><span class="s2"> --prop1 </span><span class="si">#{</span><span class="n">prop1</span><span class="si">}</span><span class="s2"> ... &quot;</span><span class="p">)</span>
  <span class="k">end</span>

  <span class="k">if</span> <span class="n">property_is_set?</span><span class="p">(</span><span class="ss">:password</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;rabbitmqctl authenticate_user </span><span class="si">#{</span><span class="n">username</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">password</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="o">!=</span> <span class="mi">0</span> <span class="k">do</span>
      <span class="n">converge_by</span> <span class="s2">&quot;Updating password for user </span><span class="si">#{</span><span class="n">username</span><span class="si">}</span><span class="s2"> ...&quot;</span> <span class="k">do</span>
    <span class="nb">system</span><span class="p">(</span><span class="s2">&quot;rabbitmqctl update_user </span><span class="si">#{</span><span class="n">username</span><span class="si">}</span><span class="s2"> --password </span><span class="si">#{</span><span class="n">password</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
<div class="section" id="provides">
<h3>provides<a class="headerlink" href="#provides" title="Permalink to this headline">¶</a></h3>
<p>Use the <tt class="docutils literal"><span class="pre">provides</span></tt> method to associate a custom resource with the Recipe DSL on different operating systems. When multiple custom resources use the same DSL, specificity rules are applied to determine the priority, from highest to lowest:</p>
<ol class="arabic simple">
<li>provides :resource_name, platform_version: ‘0.1.2’</li>
<li>provides :resource_name, platform: ‘platform_name’</li>
<li>provides :resource_name, platform_family: ‘platform_family’</li>
<li>provides :resource_name, os: ‘operating_system’</li>
<li>provides :resource_name</li>
</ol>
<p>For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">provides</span> <span class="ss">:my_custom_resource</span><span class="p">,</span> <span class="ss">platform</span><span class="p">:</span> <span class="s1">&#39;redhat&#39;</span> <span class="k">do</span> <span class="o">|</span><span class="n">node</span><span class="o">|</span>
  <span class="n">node</span><span class="o">[</span><span class="s1">&#39;platform_version&#39;</span><span class="o">].</span><span class="n">to_i</span> <span class="o">&gt;=</span> <span class="mi">7</span>
<span class="k">end</span>

<span class="n">provides</span> <span class="ss">:my_custom_resource</span><span class="p">,</span> <span class="ss">platform</span><span class="p">:</span> <span class="s1">&#39;redhat&#39;</span>

<span class="n">provides</span> <span class="ss">:my_custom_resource</span><span class="p">,</span> <span class="ss">platform_family</span><span class="p">:</span> <span class="s1">&#39;rhel&#39;</span>

<span class="n">provides</span> <span class="ss">:my_custom_resource</span><span class="p">,</span> <span class="ss">os</span><span class="p">:</span> <span class="s1">&#39;linux&#39;</span>

<span class="n">provides</span> <span class="ss">:my_custom_resource</span>
</pre></div>
</div>
<p>This allows you to use multiple custom resources files that provide the same resource to the user, but for different operating systems or operation system versions. With this you can eliminate the need for platform or platform version logic within your resources.</p>
<div class="section" id="override">
<h4>override<a class="headerlink" href="#override" title="Permalink to this headline">¶</a></h4>
<p>Chef will warn you if the Recipe DSL is provided by another custom resource or built-in resource. For example:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">X</span> <span class="o">&lt;</span> <span class="no">Chef</span><span class="o">::</span><span class="no">Resource</span>
  <span class="n">provides</span> <span class="ss">:file</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Y</span> <span class="o">&lt;</span> <span class="no">Chef</span><span class="o">::</span><span class="no">Resource</span>
  <span class="n">provides</span> <span class="ss">:file</span>
<span class="k">end</span>
</pre></div>
</div>
<p>This will emit a warning that <tt class="docutils literal"><span class="pre">Y</span></tt> is overriding <tt class="docutils literal"><span class="pre">X</span></tt>. To disable this warning, use <tt class="docutils literal"><span class="pre">override:</span> <span class="pre">true</span></tt>:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">X</span> <span class="o">&lt;</span> <span class="no">Chef</span><span class="o">::</span><span class="no">Resource</span>
  <span class="n">provides</span> <span class="ss">:file</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">Y</span> <span class="o">&lt;</span> <span class="no">Chef</span><span class="o">::</span><span class="no">Resource</span>
  <span class="n">provides</span> <span class="ss">:file</span><span class="p">,</span> <span class="ss">override</span><span class="p">:</span> <span class="kp">true</span>
<span class="k">end</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="reset-property">
<h3>reset_property<a class="headerlink" href="#reset-property" title="Permalink to this headline">¶</a></h3>
<p>Use the <tt class="docutils literal"><span class="pre">reset_property</span></tt> method to clear the value for a property as if it had never been set, and then use the default value. For example, to clear the value for a property named <tt class="docutils literal"><span class="pre">password</span></tt>:</p>
<div class="highlight-ruby"><div class="highlight"><pre><span></span><span class="n">reset_property</span><span class="p">(</span><span class="ss">:password</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>


          <div class="footer" role="contentinfo">
                &copy; Copyright: This work is licensed under a Creative Commons Attribution 3.0 Unported License.
              This page is about: current version of Chef.
            <a href="/feedback.html">Provide feedback on Chef documentation</a>.
            </div>

<!-- Start of Async Google Analytics Code -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-6369228-7', 'auto', {'legacyCookieDomain': '.chef.io', 'allowLinker': true});
  ga('send', 'pageview');

  var trackOutboundLink = function(url) {
    if (ga.q) {
     document.location = url;
    } else {
      ga('send', 'event', 'outbound', 'click', url, {'hitCallback':
        function () {
          document.location = url;
        }
      });
    }
  };
</script>
<!-- End of Async Google Analytics Code -->

<!-- Start of Marketo Analytics Code -->
<script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('255-VFB-268');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = document.location.protocol + '//munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>
<!-- End of Marketo Analytics Code -->

<!-- Start of DemandBase Analytics Code -->
<script type="text/javascript">
	(function(d,b,a,s,e){ var t = b.createElement(a),
		fs = b.getElementsByTagName(a)[0]; t.async=1; t.id=e;
		t.src=('https:'==document.location.protocol ? 'https://' : 'http://') + s;
		fs.parentNode.insertBefore(t, fs); })
	(window,document,'script','scripts.demandbase.com/zH7sZrWR.min.js','demandbase_js_lib');
</script>
<!-- End of DemandBase Analytics Code -->

<!-- Start of Segment Analytics Code -->
<script type="text/javascript">
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="4.0.0";
  analytics.load("RtyoRfLf1ZETiJcIfkKND3Wq1K1LhYHx");
  analytics.page();
  }}();
</script>
<!-- End of Segment Analytics Code -->


        </div>
      </div>

      <div class="clearer"></div>
    </div>

  </div>
  </body>
</html>